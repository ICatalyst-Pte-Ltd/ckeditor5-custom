"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const In=require("react/jsx-runtime"),Nt=require("react");function VP(i){const e=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(i){for(const t in i)if(t!=="default"){const n=Object.getOwnPropertyDescriptor(i,t);Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:()=>i[t]})}}return e.default=i,Object.freeze(e)}const qt=VP(Nt);var et=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function R0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function LP(i){if(i.__esModule)return i;var e=i.default;if(typeof e=="function"){var t=function n(){if(this instanceof n){var r=[null];r.push.apply(r,arguments);var s=Function.bind.apply(e,r);return new s}return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(n){var r=Object.getOwnPropertyDescriptor(i,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return i[n]}})}),t}var sd={},FP={get exports(){return sd},set exports(i){sd=i}};/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(function(i,e){(function(t,n){i.exports=n(Nt)})(self,t=>(()=>{var n={703:(l,u,h)=>{var f=h(414);function m(){}function v(){}v.resetWarningCache=m,l.exports=function(){function C(x,N,y,A,P,E){if(E!==f){var V=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw V.name="Invariant Violation",V}}function k(){return C}C.isRequired=C;var S={array:C,bigint:C,bool:C,func:C,number:C,object:C,string:C,symbol:C,any:C,arrayOf:k,element:C,elementType:C,instanceOf:k,node:C,objectOf:k,oneOf:k,oneOfType:k,shape:k,exact:k,checkPropTypes:v,resetWarningCache:m};return S.PropTypes=S,S}},697:(l,u,h)=>{l.exports=h(703)()},414:l=>{l.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},787:l=>{l.exports=t}},r={};function s(l){var u=r[l];if(u!==void 0)return u.exports;var h=r[l]={exports:{}};return n[l](h,h.exports,s),h.exports}s.n=l=>{var u=l&&l.__esModule?()=>l.default:()=>l;return s.d(u,{a:u}),u},s.d=(l,u)=>{for(var h in u)s.o(u,h)&&!s.o(l,h)&&Object.defineProperty(l,h,{enumerable:!0,get:u[h]})},s.o=(l,u)=>Object.prototype.hasOwnProperty.call(l,u),s.r=l=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})};var o={};return(()=>{s.r(o),s.d(o,{CKEditor:()=>Gi,CKEditorContext:()=>ka});var l=s(787),u=s.n(l),h=s(697),f=s.n(h);const m=new Array(256).fill("").map((_,w)=>("0"+w.toString(16)).slice(-2));class v{constructor(w){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof w.crashNumberLimit=="number"?w.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof w.minimumNonErrorTimePeriod=="number"?w.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=O=>{const G="error"in O?O.error:O.reason;G instanceof Error&&this._handleError(G,O)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(w,O){this._listeners[w]||(this._listeners[w]=[]),this._listeners[w].push(O)}off(w,O){this._listeners[w]=this._listeners[w].filter(G=>G!==O)}_fire(w,...O){const G=this._listeners[w]||[];for(const Ce of G)Ce.apply(this,[null,...O])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(w,O){if(this._shouldReactToError(w)){this.crashes.push({message:w.message,stack:w.stack,filename:O instanceof ErrorEvent?O.filename:void 0,lineno:O instanceof ErrorEvent?O.lineno:void 0,colno:O instanceof ErrorEvent?O.colno:void 0,date:this._now()});const G=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:w,causesRestart:G}),G?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(w){return w.is&&w.is("CKEditorError")&&w.context!==void 0&&w.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(w)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function C(_,w=new Set){const O=[_],G=new Set;let Ce=0;for(;O.length>Ce;){const Re=O[Ce++];if(!G.has(Re)&&k(Re)&&!w.has(Re))if(G.add(Re),Symbol.iterator in Re)try{for(const Ie of Re)O.push(Ie)}catch{}else for(const Ie in Re)Ie!=="defaultValue"&&O.push(Re[Ie])}return G}function k(_){const w=Object.prototype.toString.call(_),O=typeof _;return!(O==="number"||O==="boolean"||O==="string"||O==="symbol"||O==="function"||w==="[object Date]"||w==="[object RegExp]"||w==="[object Module]"||_==null||_._watchdogExcluded||_ instanceof EventTarget||_ instanceof Event)}function S(_,w,O=new Set){if(_===w&&typeof(G=_)=="object"&&G!==null)return!0;var G;const Ce=C(_,O),Re=C(w,O);for(const Ie of Ce)if(Re.has(Ie))return!0;return!1}const x=function(_){var w=typeof _;return _!=null&&(w=="object"||w=="function")},N=typeof et=="object"&&et&&et.Object===Object&&et;var y=typeof self=="object"&&self&&self.Object===Object&&self;const A=N||y||Function("return this")(),P=function(){return A.Date.now()};var E=/\s/;const V=function(_){for(var w=_.length;w--&&E.test(_.charAt(w)););return w};var j=/^\s+/;const U=function(_){return _&&_.slice(0,V(_)+1).replace(j,"")},$=A.Symbol;var M=Object.prototype,D=M.hasOwnProperty,J=M.toString,H=$?$.toStringTag:void 0;const Y=function(_){var w=D.call(_,H),O=_[H];try{_[H]=void 0;var G=!0}catch{}var Ce=J.call(_);return G&&(w?_[H]=O:delete _[H]),Ce};var le=Object.prototype.toString;const me=function(_){return le.call(_)};var ee=$?$.toStringTag:void 0;const te=function(_){return _==null?_===void 0?"[object Undefined]":"[object Null]":ee&&ee in Object(_)?Y(_):me(_)},ne=function(_){return _!=null&&typeof _=="object"},z=function(_){return typeof _=="symbol"||ne(_)&&te(_)=="[object Symbol]"};var se=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,ue=/^0o[0-7]+$/i,ce=parseInt;const he=function(_){if(typeof _=="number")return _;if(z(_))return NaN;if(x(_)){var w=typeof _.valueOf=="function"?_.valueOf():_;_=x(w)?w+"":w}if(typeof _!="string")return _===0?_:+_;_=U(_);var O=ve.test(_);return O||ue.test(_)?ce(_.slice(2),O?2:8):se.test(_)?NaN:+_};var be=Math.max,Ee=Math.min;const Pe=function(_,w,O){var G,Ce,Re,Ie,Ve,zt,Rt=0,ao=!1,mr=!1,_i=!0;if(typeof _!="function")throw new TypeError("Expected a function");function ri(ke){var $e=G,Et=Ce;return G=Ce=void 0,Rt=ke,Ie=_.apply(Et,$e)}function F(ke){var $e=ke-zt;return zt===void 0||$e>=w||$e<0||mr&&ke-Rt>=Re}function Z(){var ke=P();if(F(ke))return K(ke);Ve=setTimeout(Z,function($e){var Et=w-($e-zt);return mr?Ee(Et,Re-($e-Rt)):Et}(ke))}function K(ke){return Ve=void 0,_i&&G?ri(ke):(G=Ce=void 0,Ie)}function pe(){var ke=P(),$e=F(ke);if(G=arguments,Ce=this,zt=ke,$e){if(Ve===void 0)return function(Et){return Rt=Et,Ve=setTimeout(Z,w),ao?ri(Et):Ie}(zt);if(mr)return clearTimeout(Ve),Ve=setTimeout(Z,w),ri(zt)}return Ve===void 0&&(Ve=setTimeout(Z,w)),Ie}return w=he(w)||0,x(O)&&(ao=!!O.leading,Re=(mr="maxWait"in O)?be(he(O.maxWait)||0,w):Re,_i="trailing"in O?!!O.trailing:_i),pe.cancel=function(){Ve!==void 0&&clearTimeout(Ve),Rt=0,G=zt=Ce=Ve=void 0},pe.flush=function(){return Ve===void 0?Ie:K(P())},pe},Se=function(_,w,O){var G=!0,Ce=!0;if(typeof _!="function")throw new TypeError("Expected a function");return x(O)&&(G="leading"in O?!!O.leading:G,Ce="trailing"in O?!!O.trailing:Ce),Pe(_,w,{leading:G,maxWait:w,trailing:Ce})},ye=function(){this.__data__=[],this.size=0},De=function(_,w){return _===w||_!=_&&w!=w},q=function(_,w){for(var O=_.length;O--;)if(De(_[O][0],w))return O;return-1};var Ze=Array.prototype.splice;const de=function(_){var w=this.__data__,O=q(w,_);return!(O<0)&&(O==w.length-1?w.pop():Ze.call(w,O,1),--this.size,!0)},Ye=function(_){var w=this.__data__,O=q(w,_);return O<0?void 0:w[O][1]},rn=function(_){return q(this.__data__,_)>-1},sn=function(_,w){var O=this.__data__,G=q(O,_);return G<0?(++this.size,O.push([_,w])):O[G][1]=w,this};function ei(_){var w=-1,O=_==null?0:_.length;for(this.clear();++w<O;){var G=_[w];this.set(G[0],G[1])}}ei.prototype.clear=ye,ei.prototype.delete=de,ei.prototype.get=Ye,ei.prototype.has=rn,ei.prototype.set=sn;const jn=ei,Xt=function(){this.__data__=new jn,this.size=0},on=function(_){var w=this.__data__,O=w.delete(_);return this.size=w.size,O},Un=function(_){return this.__data__.get(_)},gi=function(_){return this.__data__.has(_)},Hn=function(_){if(!x(_))return!1;var w=te(_);return w=="[object Function]"||w=="[object GeneratorFunction]"||w=="[object AsyncFunction]"||w=="[object Proxy]"},qn=A["__core-js_shared__"];var hn=function(){var _=/[^.]+$/.exec(qn&&qn.keys&&qn.keys.IE_PROTO||"");return _?"Symbol(src)_1."+_:""}();const an=function(_){return!!hn&&hn in _};var Nn=Function.prototype.toString;const Dn=function(_){if(_!=null){try{return Nn.call(_)}catch{}try{return _+""}catch{}}return""};var I=/^\[object .+?Constructor\]$/,ge=Function.prototype,xe=Object.prototype,Be=ge.toString,Fe=xe.hasOwnProperty,ln=RegExp("^"+Be.call(Fe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const vn=function(_){return!(!x(_)||an(_))&&(Hn(_)?ln:I).test(Dn(_))},Zt=function(_,w){return _?.[w]},fn=function(_,w){var O=Zt(_,w);return vn(O)?O:void 0},wn=fn(A,"Map"),Sn=fn(Object,"create"),cn=function(){this.__data__=Sn?Sn(null):{},this.size=0},pi=function(_){var w=this.has(_)&&delete this.__data__[_];return this.size-=w?1:0,w};var Ui=Object.prototype.hasOwnProperty;const ti=function(_){var w=this.__data__;if(Sn){var O=w[_];return O==="__lodash_hash_undefined__"?void 0:O}return Ui.call(w,_)?w[_]:void 0};var Bn=Object.prototype.hasOwnProperty;const Vr=function(_){var w=this.__data__;return Sn?w[_]!==void 0:Bn.call(w,_)},Tn=function(_,w){var O=this.__data__;return this.size+=this.has(_)?0:1,O[_]=Sn&&w===void 0?"__lodash_hash_undefined__":w,this};function $t(_){var w=-1,O=_==null?0:_.length;for(this.clear();++w<O;){var G=_[w];this.set(G[0],G[1])}}$t.prototype.clear=cn,$t.prototype.delete=pi,$t.prototype.get=ti,$t.prototype.has=Vr,$t.prototype.set=Tn;const ni=$t,Lr=function(){this.size=0,this.__data__={hash:new ni,map:new(wn||jn),string:new ni}},ii=function(_){var w=typeof _;return w=="string"||w=="number"||w=="symbol"||w=="boolean"?_!=="__proto__":_===null},bn=function(_,w){var O=_.__data__;return ii(w)?O[typeof w=="string"?"string":"hash"]:O.map},ft=function(_){var w=bn(this,_).delete(_);return this.size-=w?1:0,w},xh=function(_){return bn(this,_).get(_)},kh=function(_){return bn(this,_).has(_)},Ah=function(_,w){var O=bn(this,_),G=O.size;return O.set(_,w),this.size+=O.size==G?0:1,this};function Fr(_){var w=-1,O=_==null?0:_.length;for(this.clear();++w<O;){var G=_[w];this.set(G[0],G[1])}}Fr.prototype.clear=Lr,Fr.prototype.delete=ft,Fr.prototype.get=xh,Fr.prototype.has=kh,Fr.prototype.set=Ah;const Ph=Fr,Ih=function(_,w){var O=this.__data__;if(O instanceof jn){var G=O.__data__;if(!wn||G.length<199)return G.push([_,w]),this.size=++O.size,this;O=this.__data__=new Ph(G)}return O.set(_,w),this.size=O.size,this};function $r(_){var w=this.__data__=new jn(_);this.size=w.size}$r.prototype.clear=Xt,$r.prototype.delete=on,$r.prototype.get=Un,$r.prototype.has=gi,$r.prototype.set=Ih;const Rh=$r,Kl=function(_,w){for(var O=-1,G=_==null?0:_.length;++O<G&&w(_[O],O,_)!==!1;);return _},Gl=function(){try{var _=fn(Object,"defineProperty");return _({},"",{}),_}catch{}}(),Yl=function(_,w,O){w=="__proto__"&&Gl?Gl(_,w,{configurable:!0,enumerable:!0,value:O,writable:!0}):_[w]=O};var Oh=Object.prototype.hasOwnProperty;const Jl=function(_,w,O){var G=_[w];Oh.call(_,w)&&De(G,O)&&(O!==void 0||w in _)||Yl(_,w,O)},Ys=function(_,w,O,G){var Ce=!O;O||(O={});for(var Re=-1,Ie=w.length;++Re<Ie;){var Ve=w[Re],zt=G?G(O[Ve],_[Ve],Ve,O,_):void 0;zt===void 0&&(zt=_[Ve]),Ce?Yl(O,Ve,zt):Jl(O,Ve,zt)}return O},Mh=function(_,w){for(var O=-1,G=Array(_);++O<_;)G[O]=w(O);return G},us=function(_){return ne(_)&&te(_)=="[object Arguments]"};var Xl=Object.prototype,Js=Xl.hasOwnProperty,Nh=Xl.propertyIsEnumerable;const Dh=us(function(){return arguments}())?us:function(_){return ne(_)&&Js.call(_,"callee")&&!Nh.call(_,"callee")},sa=Array.isArray,Zl=function(){return!1};var oa=e&&!e.nodeType&&e,aa=oa&&!0&&i&&!i.nodeType&&i,Ql=aa&&aa.exports===oa?A.Buffer:void 0;const ec=(Ql?Ql.isBuffer:void 0)||Zl;var Bh=/^(?:0|[1-9]\d*)$/;const Vh=function(_,w){var O=typeof _;return!!(w=w??9007199254740991)&&(O=="number"||O!="symbol"&&Bh.test(_))&&_>-1&&_%1==0&&_<w},la=function(_){return typeof _=="number"&&_>-1&&_%1==0&&_<=9007199254740991};var _t={};_t["[object Float32Array]"]=_t["[object Float64Array]"]=_t["[object Int8Array]"]=_t["[object Int16Array]"]=_t["[object Int32Array]"]=_t["[object Uint8Array]"]=_t["[object Uint8ClampedArray]"]=_t["[object Uint16Array]"]=_t["[object Uint32Array]"]=!0,_t["[object Arguments]"]=_t["[object Array]"]=_t["[object ArrayBuffer]"]=_t["[object Boolean]"]=_t["[object DataView]"]=_t["[object Date]"]=_t["[object Error]"]=_t["[object Function]"]=_t["[object Map]"]=_t["[object Number]"]=_t["[object Object]"]=_t["[object RegExp]"]=_t["[object Set]"]=_t["[object String]"]=_t["[object WeakMap]"]=!1;const tc=function(_){return ne(_)&&la(_.length)&&!!_t[te(_)]},ds=function(_){return function(w){return _(w)}};var nc=e&&!e.nodeType&&e,zr=nc&&!0&&i&&!i.nodeType&&i,Wr=zr&&zr.exports===nc&&N.process;const hr=function(){try{var _=zr&&zr.require&&zr.require("util").types;return _||Wr&&Wr.binding&&Wr.binding("util")}catch{}}();var ic=hr&&hr.isTypedArray;const rc=ic?ds(ic):tc;var sc=Object.prototype.hasOwnProperty;const Xs=function(_,w){var O=sa(_),G=!O&&Dh(_),Ce=!O&&!G&&ec(_),Re=!O&&!G&&!Ce&&rc(_),Ie=O||G||Ce||Re,Ve=Ie?Mh(_.length,String):[],zt=Ve.length;for(var Rt in _)!w&&!sc.call(_,Rt)||Ie&&(Rt=="length"||Ce&&(Rt=="offset"||Rt=="parent")||Re&&(Rt=="buffer"||Rt=="byteLength"||Rt=="byteOffset")||Vh(Rt,zt))||Ve.push(Rt);return Ve};var Lh=Object.prototype;const Zs=function(_){var w=_&&_.constructor;return _===(typeof w=="function"&&w.prototype||Lh)},Qs=function(_,w){return function(O){return _(w(O))}},ca=Qs(Object.keys,Object);var jr=Object.prototype.hasOwnProperty;const oc=function(_){if(!Zs(_))return ca(_);var w=[];for(var O in Object(_))jr.call(_,O)&&O!="constructor"&&w.push(O);return w},ua=function(_){return _!=null&&la(_.length)&&!Hn(_)},da=function(_){return ua(_)?Xs(_):oc(_)},ac=function(_,w){return _&&Ys(w,da(w),_)},lc=function(_){var w=[];if(_!=null)for(var O in Object(_))w.push(O);return w};var cc=Object.prototype.hasOwnProperty;const uc=function(_){if(!x(_))return lc(_);var w=Zs(_),O=[];for(var G in _)(G!="constructor"||!w&&cc.call(_,G))&&O.push(G);return O},ha=function(_){return ua(_)?Xs(_,!0):uc(_)},Fh=function(_,w){return _&&Ys(w,ha(w),_)};var dc=e&&!e.nodeType&&e,fa=dc&&!0&&i&&!i.nodeType&&i,hc=fa&&fa.exports===dc?A.Buffer:void 0,fc=hc?hc.allocUnsafe:void 0;const $h=function(_,w){if(w)return _.slice();var O=_.length,G=fc?fc(O):new _.constructor(O);return _.copy(G),G},zh=function(_,w){var O=-1,G=_.length;for(w||(w=Array(G));++O<G;)w[O]=_[O];return w},ma=function(_,w){for(var O=-1,G=_==null?0:_.length,Ce=0,Re=[];++O<G;){var Ie=_[O];w(Ie,O,_)&&(Re[Ce++]=Ie)}return Re},mc=function(){return[]};var Wh=Object.prototype.propertyIsEnumerable,gc=Object.getOwnPropertySymbols;const ga=gc?function(_){return _==null?[]:(_=Object(_),ma(gc(_),function(w){return Wh.call(_,w)}))}:mc,jh=function(_,w){return Ys(_,ga(_),w)},vt=function(_,w){for(var O=-1,G=w.length,Ce=_.length;++O<G;)_[Ce+O]=w[O];return _},rt=Qs(Object.getPrototypeOf,Object),pc=Object.getOwnPropertySymbols?function(_){for(var w=[];_;)vt(w,ga(_)),_=rt(_);return w}:mc,Uh=function(_,w){return Ys(_,pc(_),w)},_c=function(_,w,O){var G=w(_);return sa(_)?G:vt(G,O(_))},Hh=function(_){return _c(_,da,ga)},qh=function(_){return _c(_,ha,pc)},pa=fn(A,"DataView"),eo=fn(A,"Promise"),_a=fn(A,"Set"),Qt=fn(A,"WeakMap");var to="[object Map]",Hi="[object Promise]",va="[object Set]",no="[object WeakMap]",Vn="[object DataView]",vc=Dn(pa),wc=Dn(wn),bc=Dn(eo),yc=Dn(_a),Ec=Dn(Qt),qi=te;(pa&&qi(new pa(new ArrayBuffer(1)))!=Vn||wn&&qi(new wn)!=to||eo&&qi(eo.resolve())!=Hi||_a&&qi(new _a)!=va||Qt&&qi(new Qt)!=no)&&(qi=function(_){var w=te(_),O=w=="[object Object]"?_.constructor:void 0,G=O?Dn(O):"";if(G)switch(G){case vc:return Vn;case wc:return to;case bc:return Hi;case yc:return va;case Ec:return no}return w});const yn=qi;var Kh=Object.prototype.hasOwnProperty;const Kn=function(_){var w=_.length,O=new _.constructor(w);return w&&typeof _[0]=="string"&&Kh.call(_,"index")&&(O.index=_.index,O.input=_.input),O},Cc=A.Uint8Array,io=function(_){var w=new _.constructor(_.byteLength);return new Cc(w).set(new Cc(_)),w},Ki=function(_,w){var O=w?io(_.buffer):_.buffer;return new _.constructor(O,_.byteOffset,_.byteLength)};var ro=/\w*$/;const wa=function(_){var w=new _.constructor(_.source,ro.exec(_));return w.lastIndex=_.lastIndex,w};var yt=$?$.prototype:void 0,Oi=yt?yt.valueOf:void 0;const ba=function(_){return Oi?Object(Oi.call(_)):{}},Gh=function(_,w){var O=w?io(_.buffer):_.buffer;return new _.constructor(O,_.byteOffset,_.length)},ya=function(_,w,O){var G=_.constructor;switch(w){case"[object ArrayBuffer]":return io(_);case"[object Boolean]":case"[object Date]":return new G(+_);case"[object DataView]":return Ki(_,O);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Gh(_,O);case"[object Map]":case"[object Set]":return new G;case"[object Number]":case"[object String]":return new G(_);case"[object RegExp]":return wa(_);case"[object Symbol]":return ba(_)}};var Sc=Object.create;const Yh=function(){function _(){}return function(w){if(!x(w))return{};if(Sc)return Sc(w);_.prototype=w;var O=new _;return _.prototype=void 0,O}}(),Jh=function(_){return typeof _.constructor!="function"||Zs(_)?{}:Yh(rt(_))},Tc=function(_){return ne(_)&&yn(_)=="[object Map]"};var hs=hr&&hr.isMap;const Ur=hs?ds(hs):Tc,Xh=function(_){return ne(_)&&yn(_)=="[object Set]"};var Ea=hr&&hr.isSet;const xc=Ea?ds(Ea):Xh;var so="[object Arguments]",oo="[object Function]",Ca="[object Object]",wt={};wt[so]=wt["[object Array]"]=wt["[object ArrayBuffer]"]=wt["[object DataView]"]=wt["[object Boolean]"]=wt["[object Date]"]=wt["[object Float32Array]"]=wt["[object Float64Array]"]=wt["[object Int8Array]"]=wt["[object Int16Array]"]=wt["[object Int32Array]"]=wt["[object Map]"]=wt["[object Number]"]=wt[Ca]=wt["[object RegExp]"]=wt["[object Set]"]=wt["[object String]"]=wt["[object Symbol]"]=wt["[object Uint8Array]"]=wt["[object Uint8ClampedArray]"]=wt["[object Uint16Array]"]=wt["[object Uint32Array]"]=!0,wt["[object Error]"]=wt[oo]=wt["[object WeakMap]"]=!1;const Sa=function _(w,O,G,Ce,Re,Ie){var Ve,zt=1&O,Rt=2&O,ao=4&O;if(G&&(Ve=Re?G(w,Ce,Re,Ie):G(w)),Ve!==void 0)return Ve;if(!x(w))return w;var mr=sa(w);if(mr){if(Ve=Kn(w),!zt)return zh(w,Ve)}else{var _i=yn(w),ri=_i==oo||_i=="[object GeneratorFunction]";if(ec(w))return $h(w,zt);if(_i==Ca||_i==so||ri&&!Re){if(Ve=Rt||ri?{}:Jh(w),!zt)return Rt?Uh(w,Fh(Ve,w)):jh(w,ac(Ve,w))}else{if(!wt[_i])return Re?w:{};Ve=ya(w,_i,zt)}}Ie||(Ie=new Rh);var F=Ie.get(w);if(F)return F;Ie.set(w,Ve),xc(w)?w.forEach(function(K){Ve.add(_(K,O,G,K,w,Ie))}):Ur(w)&&w.forEach(function(K,pe){Ve.set(pe,_(K,O,G,pe,w,Ie))});var Z=mr?void 0:(ao?Rt?qh:Hh:Rt?ha:da)(w);return Kl(Z||w,function(K,pe){Z&&(K=w[pe=K]),Jl(Ve,pe,_(K,O,G,pe,w,Ie))}),Ve},Ta=function(_,w){return Sa(_,5,w=typeof w=="function"?w:void 0)};var Zh=Function.prototype,kc=Object.prototype,xn=Zh.toString,xa=kc.hasOwnProperty,fs=xn.call(Object);const Ac=function(_){if(!ne(_)||te(_)!="[object Object]")return!1;var w=rt(_);if(w===null)return!0;var O=xa.call(w,"constructor")&&w.constructor;return typeof O=="function"&&O instanceof O&&xn.call(O)==fs},Pc=function(_){return ne(_)&&_.nodeType===1&&!Ac(_)};class Ic extends v{constructor(w,O={}){super(O),this._editor=null,this._throttledSave=Se(this._save.bind(this),typeof O.saveInterval=="number"?O.saveInterval:5e3),w&&(this._creator=(G,Ce)=>w.create(G,Ce)),this._destructor=G=>G.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(w){this._creator=w}setDestructor(w){this._destructor=w}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(w=>{console.error("An error happened during the editor destroying.",w)}).then(()=>{if(typeof this._elementOrData=="string")return this.create(this._data,this._config,this._config.context);{const w=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,w,w.context)}}).then(()=>{this._fire("restart")})}create(w=this._elementOrData,O=this._config,G){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=w,this._config=this._cloneEditorConfiguration(O)||{},this._config.context=G,this._creator(w,this._config))).then(Ce=>{this._editor=Ce,Ce.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=Ce.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const w=this._editor;return this._editor=null,w.model.document.off("change:data",this._throttledSave),this._destructor(w)})}_save(){const w=this._editor.model.document.version;try{this._data=this._getData(),this._lastDocumentVersion=w}catch(O){console.error(O,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(w){this._excludedProps=w}_getData(){const w={};for(const O of this._editor.model.document.getRootNames())w[O]=this._editor.data.get({rootName:O});return w}_isErrorComingFromThisItem(w){return S(this._editor,w.context,this._excludedProps)}_cloneEditorConfiguration(w){return Ta(w,(O,G)=>Pc(O)||G==="context"?O:void 0)}}const ms=Symbol("MainQueueId");class Rc extends v{constructor(w,O={}){super(O),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new Qh,this._watchdogConfig=O,this._creator=G=>w.create(G),this._destructor=G=>G.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(w){this._creator=w}setDestructor(w){this._destructor=w}get context(){return this._context}create(w={}){return this._actionQueues.enqueue(ms,()=>(this._contextConfig=w,this._create()))}getItem(w){return this._getWatchdog(w)._item}getItemState(w){return this._getWatchdog(w).state}add(w){const O=Oc(w);return Promise.all(O.map(G=>this._actionQueues.enqueue(G.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let Ce;if(this._watchdogs.has(G.id))throw new Error(`Item with the given id is already added: '${G.id}'.`);if(G.type==="editor")return Ce=new Ic(null,this._watchdogConfig),Ce.setCreator(G.creator),Ce._setExcludedProperties(this._contextProps),G.destructor&&Ce.setDestructor(G.destructor),this._watchdogs.set(G.id,Ce),Ce.on("error",(Re,{error:Ie,causesRestart:Ve})=>{this._fire("itemError",{itemId:G.id,error:Ie}),Ve&&this._actionQueues.enqueue(G.id,()=>new Promise(zt=>{const Rt=()=>{Ce.off("restart",Rt),this._fire("itemRestart",{itemId:G.id}),zt()};Ce.on("restart",Rt)}))}),Ce.create(G.sourceElementOrData,G.config,this._context);throw new Error(`Not supported item type: '${G.type}'.`)})))}remove(w){const O=Oc(w);return Promise.all(O.map(G=>this._actionQueues.enqueue(G,()=>{const Ce=this._getWatchdog(G);return this._watchdogs.delete(G),Ce.destroy()})))}destroy(){return this._actionQueues.enqueue(ms,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(ms,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(w=>{console.error("An error happened during destroying the context or items.",w)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(w=>(this._context=w,this._contextProps=C(this._context),Promise.all(Array.from(this._watchdogs.values()).map(O=>(O._setExcludedProperties(this._contextProps),O.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const w=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(O=>O.destroy())).then(()=>this._destructor(w))})}_getWatchdog(w){const O=this._watchdogs.get(w);if(!O)throw new Error(`Item with the given id was not registered: ${w}.`);return O}_isErrorComingFromThisItem(w){for(const O of this._watchdogs.values())if(O._isErrorComingFromThisItem(w))return!1;return S(this._context,w.context)}}class Qh{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(w){this._onEmptyCallbacks.push(w)}enqueue(w,O){const G=w===ms;this._activeActions++,this._queues.get(w)||this._queues.set(w,Promise.resolve());const Ce=(G?Promise.all(this._queues.values()):Promise.all([this._queues.get(ms),this._queues.get(w)])).then(O),Re=Ce.catch(()=>{});return this._queues.set(w,Re),Ce.finally(()=>{this._activeActions--,this._queues.get(w)===Re&&this._activeActions===0&&this._onEmptyCallbacks.forEach(Ie=>Ie())})}}function Oc(_){return Array.isArray(_)?_:[_]}const fr=u().createContext("contextWatchdog");class ka extends u().Component{constructor(w,O){super(w,O),this.contextWatchdog=null,this.props.isLayoutReady&&this._initializeContextWatchdog(this.props.config)}shouldComponentUpdate(w){return this._shouldComponentUpdate(w)}async _shouldComponentUpdate(w){return w.id!==this.props.id&&(this.contextWatchdog&&await this.contextWatchdog.destroy(),await this._initializeContextWatchdog(w.config)),w.isLayoutReady&&!this.contextWatchdog?(await this._initializeContextWatchdog(w.config),!0):this.props.children!==w.children}render(){return u().createElement(fr.Provider,{value:this.contextWatchdog},this.props.children)}componentWillUnmount(){this._destroyContext()}async _initializeContextWatchdog(w){this.contextWatchdog=new Rc(this.props.context,this.props.watchdogConfig),this.contextWatchdog.on("error",(O,G)=>{this.props.onError(G.error,{phase:"runtime",willContextRestart:G.causesRestart})}),this.contextWatchdog.on("stateChange",()=>{this.contextWatchdog.state==="ready"&&this.props.onReady&&this.props.onReady(this.contextWatchdog.context)}),await this.contextWatchdog.create(w).catch(O=>{this.props.onError(O,{phase:"initialization",willContextRestart:!1})})}async _destroyContext(){this.contextWatchdog&&(await this.contextWatchdog.destroy(),this.contextWatchdog=null)}}ka.defaultProps={isLayoutReady:!0,onError:(_,w)=>console.error(_,w)},ka.propTypes={id:f().string,isLayoutReady:f().bool,context:f().func,watchdogConfig:f().object,config:f().object,onReady:f().func,onError:f().func};const Aa="Lock from React integration (@ckeditor/ckeditor5-react)";class Gi extends u().Component{constructor(w){super(w),this.editorDestructionInProgress=null,this.domContainer=u().createRef(),this.watchdog=null;const{CKEDITOR_VERSION:O}=window;if(O){const[G]=O.split(".").map(Number);G<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}get editor(){return this.watchdog?this.watchdog.editor:null}shouldComponentUpdate(w){return!!this.editor&&(w.id!==this.props.id||(this._shouldUpdateEditor(w)&&this.editor.data.set(w.data),"disabled"in w&&(w.disabled?this.editor.enableReadOnlyMode(Aa):this.editor.disableReadOnlyMode(Aa)),!1))}async componentDidMount(){await this._initializeEditor()}async componentDidUpdate(){await this._destroyEditor(),await this._initializeEditor()}async componentWillUnmount(){await this._destroyEditor()}render(){return u().createElement("div",{ref:this.domContainer})}async _initializeEditor(){await this.editorDestructionInProgress,this.watchdog||(this.context instanceof Rc?this.watchdog=new Mc(this.context):this.watchdog=new Gi._EditorWatchdog(this.props.editor,this.props.watchdogConfig),this.watchdog.setCreator((w,O)=>this._createEditor(w,O)),this.watchdog.on("error",(w,{error:O,causesRestart:G})=>{(this.props.onError||console.error)(O,{phase:"runtime",willEditorRestart:G})}),await this.watchdog.create(this.domContainer.current,this._getConfig()).catch(w=>{(this.props.onError||console.error)(w,{phase:"initialization",willEditorRestart:!1})}))}_createEditor(w,O){return this.props.editor.create(w,O).then(G=>{"disabled"in this.props&&this.props.disabled&&G.enableReadOnlyMode(Aa);const Ce=G.model.document,Re=G.editing.view.document;return Ce.on("change:data",Ie=>{this.props.onChange&&this.props.onChange(Ie,G)}),Re.on("focus",Ie=>{this.props.onFocus&&this.props.onFocus(Ie,G)}),Re.on("blur",Ie=>{this.props.onBlur&&this.props.onBlur(Ie,G)}),setTimeout(()=>{this.props.onReady&&this.props.onReady(G)}),G})}async _destroyEditor(){this.editorDestructionInProgress=new Promise(w=>{setTimeout(()=>{this.watchdog?this.watchdog.destroy().then(()=>{this.watchdog=null,w()}):w()})})}_shouldUpdateEditor(w){return this.props.data!==w.data&&this.editor.data.get()!==w.data}_getConfig(){const w=this.props.config||{};return this.props.data&&w.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` properties. The config property is over the data value and the first one will be used when specified both."),{...w,initialData:w.initialData||this.props.data||""}}}Gi.contextType=fr,Gi.propTypes={editor:f().func.isRequired,data:f().string,config:f().object,watchdogConfig:f().object,onChange:f().func,onReady:f().func,onFocus:f().func,onBlur:f().func,onError:f().func,disabled:f().bool,id:f().any},Gi._EditorWatchdog=Ic;class Mc{constructor(w){this._contextWatchdog=w,this._id=function(){const O=4294967296*Math.random()>>>0,G=4294967296*Math.random()>>>0,Ce=4294967296*Math.random()>>>0,Re=4294967296*Math.random()>>>0;return"e"+m[O>>0&255]+m[O>>8&255]+m[O>>16&255]+m[O>>24&255]+m[G>>0&255]+m[G>>8&255]+m[G>>16&255]+m[G>>24&255]+m[Ce>>0&255]+m[Ce>>8&255]+m[Ce>>16&255]+m[Ce>>24&255]+m[Re>>0&255]+m[Re>>8&255]+m[Re>>16&255]+m[Re>>24&255]}()}setCreator(w){this._creator=w}create(w,O){return this._contextWatchdog.add({sourceElementOrData:w,config:O,creator:this._creator,id:this._id,type:"editor"})}on(w,O){this._contextWatchdog.on("itemError",(G,{itemId:Ce,error:Re})=>{Ce===this._id&&O(null,{error:Re,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}})(),o})())})(FP,sd);var od={},$P={get exports(){return od},set exports(i){od=i}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(i,e){(function(){var t,n="4.17.21",r=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",l="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",h=500,f="__lodash_placeholder__",m=1,v=2,C=4,k=1,S=2,x=1,N=2,y=4,A=8,P=16,E=32,V=64,j=128,U=256,$=512,M=30,D="...",J=800,H=16,Y=1,le=2,me=3,ee=1/0,te=9007199254740991,ne=17976931348623157e292,z=0/0,se=4294967295,ve=se-1,ue=se>>>1,ce=[["ary",j],["bind",x],["bindKey",N],["curry",A],["curryRight",P],["flip",$],["partial",E],["partialRight",V],["rearg",U]],he="[object Arguments]",be="[object Array]",Ee="[object AsyncFunction]",Pe="[object Boolean]",Se="[object Date]",ye="[object DOMException]",De="[object Error]",q="[object Function]",Ze="[object GeneratorFunction]",de="[object Map]",Ye="[object Number]",rn="[object Null]",sn="[object Object]",ei="[object Promise]",jn="[object Proxy]",Xt="[object RegExp]",on="[object Set]",Un="[object String]",gi="[object Symbol]",Hn="[object Undefined]",qn="[object WeakMap]",hn="[object WeakSet]",an="[object ArrayBuffer]",Nn="[object DataView]",Dn="[object Float32Array]",I="[object Float64Array]",ge="[object Int8Array]",xe="[object Int16Array]",Be="[object Int32Array]",Fe="[object Uint8Array]",ln="[object Uint8ClampedArray]",vn="[object Uint16Array]",Zt="[object Uint32Array]",fn=/\b__p \+= '';/g,wn=/\b(__p \+=) '' \+/g,Sn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,cn=/&(?:amp|lt|gt|quot|#39);/g,pi=/[&<>"']/g,Ui=RegExp(cn.source),ti=RegExp(pi.source),Bn=/<%-([\s\S]+?)%>/g,Vr=/<%([\s\S]+?)%>/g,Tn=/<%=([\s\S]+?)%>/g,$t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ni=/^\w*$/,Lr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ii=/[\\^$.*+?()[\]{}|]/g,bn=RegExp(ii.source),ft=/^\s+/,xh=/\s/,kh=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ah=/\{\n\/\* \[wrapped with (.+)\] \*/,Fr=/,? & /,Ph=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ih=/[()=,{}\[\]\/\s]/,$r=/\\(\\)?/g,Rh=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Kl=/\w*$/,Gl=/^[-+]0x[0-9a-f]+$/i,Yl=/^0b[01]+$/i,Oh=/^\[object .+?Constructor\]$/,Jl=/^0o[0-7]+$/i,Ys=/^(?:0|[1-9]\d*)$/,Mh=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,us=/($^)/,Xl=/['\n\r\u2028\u2029\\]/g,Js="\\ud800-\\udfff",Nh="\\u0300-\\u036f",Dh="\\ufe20-\\ufe2f",sa="\\u20d0-\\u20ff",Zl=Nh+Dh+sa,oa="\\u2700-\\u27bf",aa="a-z\\xdf-\\xf6\\xf8-\\xff",Ql="\\xac\\xb1\\xd7\\xf7",ec="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Bh="\\u2000-\\u206f",Vh=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",la="A-Z\\xc0-\\xd6\\xd8-\\xde",_t="\\ufe0e\\ufe0f",tc=Ql+ec+Bh+Vh,ds="['’]",nc="["+Js+"]",zr="["+tc+"]",Wr="["+Zl+"]",hr="\\d+",ic="["+oa+"]",rc="["+aa+"]",sc="[^"+Js+tc+hr+oa+aa+la+"]",Xs="\\ud83c[\\udffb-\\udfff]",Lh="(?:"+Wr+"|"+Xs+")",Zs="[^"+Js+"]",Qs="(?:\\ud83c[\\udde6-\\uddff]){2}",ca="[\\ud800-\\udbff][\\udc00-\\udfff]",jr="["+la+"]",oc="\\u200d",ua="(?:"+rc+"|"+sc+")",da="(?:"+jr+"|"+sc+")",ac="(?:"+ds+"(?:d|ll|m|re|s|t|ve))?",lc="(?:"+ds+"(?:D|LL|M|RE|S|T|VE))?",cc=Lh+"?",uc="["+_t+"]?",ha="(?:"+oc+"(?:"+[Zs,Qs,ca].join("|")+")"+uc+cc+")*",Fh="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",dc="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",fa=uc+cc+ha,hc="(?:"+[ic,Qs,ca].join("|")+")"+fa,fc="(?:"+[Zs+Wr+"?",Wr,Qs,ca,nc].join("|")+")",$h=RegExp(ds,"g"),zh=RegExp(Wr,"g"),ma=RegExp(Xs+"(?="+Xs+")|"+fc+fa,"g"),mc=RegExp([jr+"?"+rc+"+"+ac+"(?="+[zr,jr,"$"].join("|")+")",da+"+"+lc+"(?="+[zr,jr+ua,"$"].join("|")+")",jr+"?"+ua+"+"+ac,jr+"+"+lc,dc,Fh,hr,hc].join("|"),"g"),Wh=RegExp("["+oc+Js+Zl+_t+"]"),gc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ga=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],jh=-1,vt={};vt[Dn]=vt[I]=vt[ge]=vt[xe]=vt[Be]=vt[Fe]=vt[ln]=vt[vn]=vt[Zt]=!0,vt[he]=vt[be]=vt[an]=vt[Pe]=vt[Nn]=vt[Se]=vt[De]=vt[q]=vt[de]=vt[Ye]=vt[sn]=vt[Xt]=vt[on]=vt[Un]=vt[qn]=!1;var rt={};rt[he]=rt[be]=rt[an]=rt[Nn]=rt[Pe]=rt[Se]=rt[Dn]=rt[I]=rt[ge]=rt[xe]=rt[Be]=rt[de]=rt[Ye]=rt[sn]=rt[Xt]=rt[on]=rt[Un]=rt[gi]=rt[Fe]=rt[ln]=rt[vn]=rt[Zt]=!0,rt[De]=rt[q]=rt[qn]=!1;var pc={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Uh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_c={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Hh={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},qh=parseFloat,pa=parseInt,eo=typeof et=="object"&&et&&et.Object===Object&&et,_a=typeof self=="object"&&self&&self.Object===Object&&self,Qt=eo||_a||Function("return this")(),to=e&&!e.nodeType&&e,Hi=to&&!0&&i&&!i.nodeType&&i,va=Hi&&Hi.exports===to,no=va&&eo.process,Vn=function(){try{var F=Hi&&Hi.require&&Hi.require("util").types;return F||no&&no.binding&&no.binding("util")}catch{}}(),vc=Vn&&Vn.isArrayBuffer,wc=Vn&&Vn.isDate,bc=Vn&&Vn.isMap,yc=Vn&&Vn.isRegExp,Ec=Vn&&Vn.isSet,qi=Vn&&Vn.isTypedArray;function yn(F,Z,K){switch(K.length){case 0:return F.call(Z);case 1:return F.call(Z,K[0]);case 2:return F.call(Z,K[0],K[1]);case 3:return F.call(Z,K[0],K[1],K[2])}return F.apply(Z,K)}function Kh(F,Z,K,pe){for(var ke=-1,$e=F==null?0:F.length;++ke<$e;){var Et=F[ke];Z(pe,Et,K(Et),F)}return pe}function Kn(F,Z){for(var K=-1,pe=F==null?0:F.length;++K<pe&&Z(F[K],K,F)!==!1;);return F}function Cc(F,Z){for(var K=F==null?0:F.length;K--&&Z(F[K],K,F)!==!1;);return F}function io(F,Z){for(var K=-1,pe=F==null?0:F.length;++K<pe;)if(!Z(F[K],K,F))return!1;return!0}function Ki(F,Z){for(var K=-1,pe=F==null?0:F.length,ke=0,$e=[];++K<pe;){var Et=F[K];Z(Et,K,F)&&($e[ke++]=Et)}return $e}function ro(F,Z){var K=F==null?0:F.length;return!!K&&Ur(F,Z,0)>-1}function wa(F,Z,K){for(var pe=-1,ke=F==null?0:F.length;++pe<ke;)if(K(Z,F[pe]))return!0;return!1}function yt(F,Z){for(var K=-1,pe=F==null?0:F.length,ke=Array(pe);++K<pe;)ke[K]=Z(F[K],K,F);return ke}function Oi(F,Z){for(var K=-1,pe=Z.length,ke=F.length;++K<pe;)F[ke+K]=Z[K];return F}function ba(F,Z,K,pe){var ke=-1,$e=F==null?0:F.length;for(pe&&$e&&(K=F[++ke]);++ke<$e;)K=Z(K,F[ke],ke,F);return K}function Gh(F,Z,K,pe){var ke=F==null?0:F.length;for(pe&&ke&&(K=F[--ke]);ke--;)K=Z(K,F[ke],ke,F);return K}function ya(F,Z){for(var K=-1,pe=F==null?0:F.length;++K<pe;)if(Z(F[K],K,F))return!0;return!1}var Sc=so("length");function Yh(F){return F.split("")}function Jh(F){return F.match(Ph)||[]}function Tc(F,Z,K){var pe;return K(F,function(ke,$e,Et){if(Z(ke,$e,Et))return pe=$e,!1}),pe}function hs(F,Z,K,pe){for(var ke=F.length,$e=K+(pe?1:-1);pe?$e--:++$e<ke;)if(Z(F[$e],$e,F))return $e;return-1}function Ur(F,Z,K){return Z===Z?G(F,Z,K):hs(F,Ea,K)}function Xh(F,Z,K,pe){for(var ke=K-1,$e=F.length;++ke<$e;)if(pe(F[ke],Z))return ke;return-1}function Ea(F){return F!==F}function xc(F,Z){var K=F==null?0:F.length;return K?Sa(F,Z)/K:z}function so(F){return function(Z){return Z==null?t:Z[F]}}function oo(F){return function(Z){return F==null?t:F[Z]}}function Ca(F,Z,K,pe,ke){return ke(F,function($e,Et,Ct){K=pe?(pe=!1,$e):Z(K,$e,Et,Ct)}),K}function wt(F,Z){var K=F.length;for(F.sort(Z);K--;)F[K]=F[K].value;return F}function Sa(F,Z){for(var K,pe=-1,ke=F.length;++pe<ke;){var $e=Z(F[pe]);$e!==t&&(K=K===t?$e:K+$e)}return K}function Ta(F,Z){for(var K=-1,pe=Array(F);++K<F;)pe[K]=Z(K);return pe}function Zh(F,Z){return yt(Z,function(K){return[K,F[K]]})}function kc(F){return F&&F.slice(0,Ve(F)+1).replace(ft,"")}function xn(F){return function(Z){return F(Z)}}function xa(F,Z){return yt(Z,function(K){return F[K]})}function fs(F,Z){return F.has(Z)}function Ac(F,Z){for(var K=-1,pe=F.length;++K<pe&&Ur(Z,F[K],0)>-1;);return K}function Pc(F,Z){for(var K=F.length;K--&&Ur(Z,F[K],0)>-1;);return K}function Ic(F,Z){for(var K=F.length,pe=0;K--;)F[K]===Z&&++pe;return pe}var ms=oo(pc),Rc=oo(Uh);function Qh(F){return"\\"+Hh[F]}function Oc(F,Z){return F==null?t:F[Z]}function fr(F){return Wh.test(F)}function ka(F){return gc.test(F)}function Aa(F){for(var Z,K=[];!(Z=F.next()).done;)K.push(Z.value);return K}function Gi(F){var Z=-1,K=Array(F.size);return F.forEach(function(pe,ke){K[++Z]=[ke,pe]}),K}function Mc(F,Z){return function(K){return F(Z(K))}}function _(F,Z){for(var K=-1,pe=F.length,ke=0,$e=[];++K<pe;){var Et=F[K];(Et===Z||Et===f)&&(F[K]=f,$e[ke++]=K)}return $e}function w(F){var Z=-1,K=Array(F.size);return F.forEach(function(pe){K[++Z]=pe}),K}function O(F){var Z=-1,K=Array(F.size);return F.forEach(function(pe){K[++Z]=[pe,pe]}),K}function G(F,Z,K){for(var pe=K-1,ke=F.length;++pe<ke;)if(F[pe]===Z)return pe;return-1}function Ce(F,Z,K){for(var pe=K+1;pe--;)if(F[pe]===Z)return pe;return pe}function Re(F){return fr(F)?Rt(F):Sc(F)}function Ie(F){return fr(F)?ao(F):Yh(F)}function Ve(F){for(var Z=F.length;Z--&&xh.test(F.charAt(Z)););return Z}var zt=oo(_c);function Rt(F){for(var Z=ma.lastIndex=0;ma.test(F);)++Z;return Z}function ao(F){return F.match(ma)||[]}function mr(F){return F.match(mc)||[]}var _i=function F(Z){Z=Z==null?Qt:ri.defaults(Qt.Object(),Z,ri.pick(Qt,ga));var K=Z.Array,pe=Z.Date,ke=Z.Error,$e=Z.Function,Et=Z.Math,Ct=Z.Object,ef=Z.RegExp,IS=Z.String,wi=Z.TypeError,Nc=K.prototype,RS=$e.prototype,lo=Ct.prototype,Dc=Z["__core-js_shared__"],Bc=RS.toString,mt=lo.hasOwnProperty,OS=0,Bp=function(){var a=/[^.]+$/.exec(Dc&&Dc.keys&&Dc.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),Vc=lo.toString,MS=Bc.call(Ct),NS=Qt._,DS=ef("^"+Bc.call(mt).replace(ii,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Lc=va?Z.Buffer:t,Hr=Z.Symbol,Fc=Z.Uint8Array,Vp=Lc?Lc.allocUnsafe:t,$c=Mc(Ct.getPrototypeOf,Ct),Lp=Ct.create,Fp=lo.propertyIsEnumerable,zc=Nc.splice,$p=Hr?Hr.isConcatSpreadable:t,Pa=Hr?Hr.iterator:t,gs=Hr?Hr.toStringTag:t,Wc=function(){try{var a=bs(Ct,"defineProperty");return a({},"",{}),a}catch{}}(),BS=Z.clearTimeout!==Qt.clearTimeout&&Z.clearTimeout,VS=pe&&pe.now!==Qt.Date.now&&pe.now,LS=Z.setTimeout!==Qt.setTimeout&&Z.setTimeout,jc=Et.ceil,Uc=Et.floor,tf=Ct.getOwnPropertySymbols,FS=Lc?Lc.isBuffer:t,zp=Z.isFinite,$S=Nc.join,zS=Mc(Ct.keys,Ct),un=Et.max,kn=Et.min,WS=pe.now,jS=Z.parseInt,Wp=Et.random,US=Nc.reverse,nf=bs(Z,"DataView"),Ia=bs(Z,"Map"),rf=bs(Z,"Promise"),co=bs(Z,"Set"),Ra=bs(Z,"WeakMap"),Oa=bs(Ct,"create"),Hc=Ra&&new Ra,uo={},HS=ys(nf),qS=ys(Ia),KS=ys(rf),GS=ys(co),YS=ys(Ra),qc=Hr?Hr.prototype:t,Ma=qc?qc.valueOf:t,jp=qc?qc.toString:t;function b(a){if(jt(a)&&!Le(a)&&!(a instanceof Je)){if(a instanceof bi)return a;if(mt.call(a,"__wrapped__"))return U_(a)}return new bi(a)}var ho=function(){function a(){}return function(c){if(!Wt(c))return{};if(Lp)return Lp(c);a.prototype=c;var d=new a;return a.prototype=t,d}}();function Kc(){}function bi(a,c){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=t}b.templateSettings={escape:Bn,evaluate:Vr,interpolate:Tn,variable:"",imports:{_:b}},b.prototype=Kc.prototype,b.prototype.constructor=b,bi.prototype=ho(Kc.prototype),bi.prototype.constructor=bi;function Je(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=se,this.__views__=[]}function JS(){var a=new Je(this.__wrapped__);return a.__actions__=Gn(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=Gn(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=Gn(this.__views__),a}function XS(){if(this.__filtered__){var a=new Je(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function ZS(){var a=this.__wrapped__.value(),c=this.__dir__,d=Le(a),g=c<0,p=d?a.length:0,T=ux(0,p,this.__views__),R=T.start,L=T.end,W=L-R,ie=g?L:R-1,re=this.__iteratees__,ae=re.length,we=0,Te=kn(W,this.__takeCount__);if(!d||!g&&p==W&&Te==W)return f_(a,this.__actions__);var Me=[];e:for(;W--&&we<Te;){ie+=c;for(var je=-1,Ne=a[ie];++je<ae;){var Ge=re[je],Qe=Ge.iteratee,ai=Ge.type,$n=Qe(Ne);if(ai==le)Ne=$n;else if(!$n){if(ai==Y)continue e;break e}}Me[we++]=Ne}return Me}Je.prototype=ho(Kc.prototype),Je.prototype.constructor=Je;function ps(a){var c=-1,d=a==null?0:a.length;for(this.clear();++c<d;){var g=a[c];this.set(g[0],g[1])}}function QS(){this.__data__=Oa?Oa(null):{},this.size=0}function eT(a){var c=this.has(a)&&delete this.__data__[a];return this.size-=c?1:0,c}function tT(a){var c=this.__data__;if(Oa){var d=c[a];return d===u?t:d}return mt.call(c,a)?c[a]:t}function nT(a){var c=this.__data__;return Oa?c[a]!==t:mt.call(c,a)}function iT(a,c){var d=this.__data__;return this.size+=this.has(a)?0:1,d[a]=Oa&&c===t?u:c,this}ps.prototype.clear=QS,ps.prototype.delete=eT,ps.prototype.get=tT,ps.prototype.has=nT,ps.prototype.set=iT;function gr(a){var c=-1,d=a==null?0:a.length;for(this.clear();++c<d;){var g=a[c];this.set(g[0],g[1])}}function rT(){this.__data__=[],this.size=0}function sT(a){var c=this.__data__,d=Gc(c,a);if(d<0)return!1;var g=c.length-1;return d==g?c.pop():zc.call(c,d,1),--this.size,!0}function oT(a){var c=this.__data__,d=Gc(c,a);return d<0?t:c[d][1]}function aT(a){return Gc(this.__data__,a)>-1}function lT(a,c){var d=this.__data__,g=Gc(d,a);return g<0?(++this.size,d.push([a,c])):d[g][1]=c,this}gr.prototype.clear=rT,gr.prototype.delete=sT,gr.prototype.get=oT,gr.prototype.has=aT,gr.prototype.set=lT;function pr(a){var c=-1,d=a==null?0:a.length;for(this.clear();++c<d;){var g=a[c];this.set(g[0],g[1])}}function cT(){this.size=0,this.__data__={hash:new ps,map:new(Ia||gr),string:new ps}}function uT(a){var c=ou(this,a).delete(a);return this.size-=c?1:0,c}function dT(a){return ou(this,a).get(a)}function hT(a){return ou(this,a).has(a)}function fT(a,c){var d=ou(this,a),g=d.size;return d.set(a,c),this.size+=d.size==g?0:1,this}pr.prototype.clear=cT,pr.prototype.delete=uT,pr.prototype.get=dT,pr.prototype.has=hT,pr.prototype.set=fT;function _s(a){var c=-1,d=a==null?0:a.length;for(this.__data__=new pr;++c<d;)this.add(a[c])}function mT(a){return this.__data__.set(a,u),this}function gT(a){return this.__data__.has(a)}_s.prototype.add=_s.prototype.push=mT,_s.prototype.has=gT;function Mi(a){var c=this.__data__=new gr(a);this.size=c.size}function pT(){this.__data__=new gr,this.size=0}function _T(a){var c=this.__data__,d=c.delete(a);return this.size=c.size,d}function vT(a){return this.__data__.get(a)}function wT(a){return this.__data__.has(a)}function bT(a,c){var d=this.__data__;if(d instanceof gr){var g=d.__data__;if(!Ia||g.length<r-1)return g.push([a,c]),this.size=++d.size,this;d=this.__data__=new pr(g)}return d.set(a,c),this.size=d.size,this}Mi.prototype.clear=pT,Mi.prototype.delete=_T,Mi.prototype.get=vT,Mi.prototype.has=wT,Mi.prototype.set=bT;function Up(a,c){var d=Le(a),g=!d&&Es(a),p=!d&&!g&&Jr(a),T=!d&&!g&&!p&&po(a),R=d||g||p||T,L=R?Ta(a.length,IS):[],W=L.length;for(var ie in a)(c||mt.call(a,ie))&&!(R&&(ie=="length"||p&&(ie=="offset"||ie=="parent")||T&&(ie=="buffer"||ie=="byteLength"||ie=="byteOffset")||br(ie,W)))&&L.push(ie);return L}function Hp(a){var c=a.length;return c?a[gf(0,c-1)]:t}function yT(a,c){return au(Gn(a),vs(c,0,a.length))}function ET(a){return au(Gn(a))}function sf(a,c,d){(d!==t&&!Ni(a[c],d)||d===t&&!(c in a))&&_r(a,c,d)}function Na(a,c,d){var g=a[c];(!(mt.call(a,c)&&Ni(g,d))||d===t&&!(c in a))&&_r(a,c,d)}function Gc(a,c){for(var d=a.length;d--;)if(Ni(a[d][0],c))return d;return-1}function CT(a,c,d,g){return qr(a,function(p,T,R){c(g,p,d(p),R)}),g}function qp(a,c){return a&&Ji(c,mn(c),a)}function ST(a,c){return a&&Ji(c,Jn(c),a)}function _r(a,c,d){c=="__proto__"&&Wc?Wc(a,c,{configurable:!0,enumerable:!0,value:d,writable:!0}):a[c]=d}function of(a,c){for(var d=-1,g=c.length,p=K(g),T=a==null;++d<g;)p[d]=T?t:$f(a,c[d]);return p}function vs(a,c,d){return a===a&&(d!==t&&(a=a<=d?a:d),c!==t&&(a=a>=c?a:c)),a}function yi(a,c,d,g,p,T){var R,L=c&m,W=c&v,ie=c&C;if(d&&(R=p?d(a,g,p,T):d(a)),R!==t)return R;if(!Wt(a))return a;var re=Le(a);if(re){if(R=hx(a),!L)return Gn(a,R)}else{var ae=An(a),we=ae==q||ae==Ze;if(Jr(a))return p_(a,L);if(ae==sn||ae==he||we&&!p){if(R=W||we?{}:D_(a),!L)return W?tx(a,ST(R,a)):ex(a,qp(R,a))}else{if(!rt[ae])return p?a:{};R=fx(a,ae,L)}}T||(T=new Mi);var Te=T.get(a);if(Te)return Te;T.set(a,R),u1(a)?a.forEach(function(Ne){R.add(yi(Ne,c,d,Ne,a,T))}):l1(a)&&a.forEach(function(Ne,Ge){R.set(Ge,yi(Ne,c,d,Ge,a,T))});var Me=ie?W?xf:Tf:W?Jn:mn,je=re?t:Me(a);return Kn(je||a,function(Ne,Ge){je&&(Ge=Ne,Ne=a[Ge]),Na(R,Ge,yi(Ne,c,d,Ge,a,T))}),R}function TT(a){var c=mn(a);return function(d){return Kp(d,a,c)}}function Kp(a,c,d){var g=d.length;if(a==null)return!g;for(a=Ct(a);g--;){var p=d[g],T=c[p],R=a[p];if(R===t&&!(p in a)||!T(R))return!1}return!0}function Gp(a,c,d){if(typeof a!="function")throw new wi(o);return za(function(){a.apply(t,d)},c)}function Da(a,c,d,g){var p=-1,T=ro,R=!0,L=a.length,W=[],ie=c.length;if(!L)return W;d&&(c=yt(c,xn(d))),g?(T=wa,R=!1):c.length>=r&&(T=fs,R=!1,c=new _s(c));e:for(;++p<L;){var re=a[p],ae=d==null?re:d(re);if(re=g||re!==0?re:0,R&&ae===ae){for(var we=ie;we--;)if(c[we]===ae)continue e;W.push(re)}else T(c,ae,g)||W.push(re)}return W}var qr=y_(Yi),Yp=y_(lf,!0);function xT(a,c){var d=!0;return qr(a,function(g,p,T){return d=!!c(g,p,T),d}),d}function Yc(a,c,d){for(var g=-1,p=a.length;++g<p;){var T=a[g],R=c(T);if(R!=null&&(L===t?R===R&&!oi(R):d(R,L)))var L=R,W=T}return W}function kT(a,c,d,g){var p=a.length;for(d=ze(d),d<0&&(d=-d>p?0:p+d),g=g===t||g>p?p:ze(g),g<0&&(g+=p),g=d>g?0:h1(g);d<g;)a[d++]=c;return a}function Jp(a,c){var d=[];return qr(a,function(g,p,T){c(g,p,T)&&d.push(g)}),d}function En(a,c,d,g,p){var T=-1,R=a.length;for(d||(d=gx),p||(p=[]);++T<R;){var L=a[T];c>0&&d(L)?c>1?En(L,c-1,d,g,p):Oi(p,L):g||(p[p.length]=L)}return p}var af=E_(),Xp=E_(!0);function Yi(a,c){return a&&af(a,c,mn)}function lf(a,c){return a&&Xp(a,c,mn)}function Jc(a,c){return Ki(c,function(d){return yr(a[d])})}function ws(a,c){c=Gr(c,a);for(var d=0,g=c.length;a!=null&&d<g;)a=a[Xi(c[d++])];return d&&d==g?a:t}function Zp(a,c,d){var g=c(a);return Le(a)?g:Oi(g,d(a))}function Ln(a){return a==null?a===t?Hn:rn:gs&&gs in Ct(a)?cx(a):Ex(a)}function cf(a,c){return a>c}function AT(a,c){return a!=null&&mt.call(a,c)}function PT(a,c){return a!=null&&c in Ct(a)}function IT(a,c,d){return a>=kn(c,d)&&a<un(c,d)}function uf(a,c,d){for(var g=d?wa:ro,p=a[0].length,T=a.length,R=T,L=K(T),W=1/0,ie=[];R--;){var re=a[R];R&&c&&(re=yt(re,xn(c))),W=kn(re.length,W),L[R]=!d&&(c||p>=120&&re.length>=120)?new _s(R&&re):t}re=a[0];var ae=-1,we=L[0];e:for(;++ae<p&&ie.length<W;){var Te=re[ae],Me=c?c(Te):Te;if(Te=d||Te!==0?Te:0,!(we?fs(we,Me):g(ie,Me,d))){for(R=T;--R;){var je=L[R];if(!(je?fs(je,Me):g(a[R],Me,d)))continue e}we&&we.push(Me),ie.push(Te)}}return ie}function RT(a,c,d,g){return Yi(a,function(p,T,R){c(g,d(p),T,R)}),g}function Ba(a,c,d){c=Gr(c,a),a=F_(a,c);var g=a==null?a:a[Xi(Ci(c))];return g==null?t:yn(g,a,d)}function Qp(a){return jt(a)&&Ln(a)==he}function OT(a){return jt(a)&&Ln(a)==an}function MT(a){return jt(a)&&Ln(a)==Se}function Va(a,c,d,g,p){return a===c?!0:a==null||c==null||!jt(a)&&!jt(c)?a!==a&&c!==c:NT(a,c,d,g,Va,p)}function NT(a,c,d,g,p,T){var R=Le(a),L=Le(c),W=R?be:An(a),ie=L?be:An(c);W=W==he?sn:W,ie=ie==he?sn:ie;var re=W==sn,ae=ie==sn,we=W==ie;if(we&&Jr(a)){if(!Jr(c))return!1;R=!0,re=!1}if(we&&!re)return T||(T=new Mi),R||po(a)?O_(a,c,d,g,p,T):ax(a,c,W,d,g,p,T);if(!(d&k)){var Te=re&&mt.call(a,"__wrapped__"),Me=ae&&mt.call(c,"__wrapped__");if(Te||Me){var je=Te?a.value():a,Ne=Me?c.value():c;return T||(T=new Mi),p(je,Ne,d,g,T)}}return we?(T||(T=new Mi),lx(a,c,d,g,p,T)):!1}function DT(a){return jt(a)&&An(a)==de}function df(a,c,d,g){var p=d.length,T=p,R=!g;if(a==null)return!T;for(a=Ct(a);p--;){var L=d[p];if(R&&L[2]?L[1]!==a[L[0]]:!(L[0]in a))return!1}for(;++p<T;){L=d[p];var W=L[0],ie=a[W],re=L[1];if(R&&L[2]){if(ie===t&&!(W in a))return!1}else{var ae=new Mi;if(g)var we=g(ie,re,W,a,c,ae);if(!(we===t?Va(re,ie,k|S,g,ae):we))return!1}}return!0}function e_(a){if(!Wt(a)||_x(a))return!1;var c=yr(a)?DS:Oh;return c.test(ys(a))}function BT(a){return jt(a)&&Ln(a)==Xt}function VT(a){return jt(a)&&An(a)==on}function LT(a){return jt(a)&&fu(a.length)&&!!vt[Ln(a)]}function t_(a){return typeof a=="function"?a:a==null?Xn:typeof a=="object"?Le(a)?r_(a[0],a[1]):i_(a):C1(a)}function hf(a){if(!$a(a))return zS(a);var c=[];for(var d in Ct(a))mt.call(a,d)&&d!="constructor"&&c.push(d);return c}function FT(a){if(!Wt(a))return yx(a);var c=$a(a),d=[];for(var g in a)g=="constructor"&&(c||!mt.call(a,g))||d.push(g);return d}function ff(a,c){return a<c}function n_(a,c){var d=-1,g=Yn(a)?K(a.length):[];return qr(a,function(p,T,R){g[++d]=c(p,T,R)}),g}function i_(a){var c=Af(a);return c.length==1&&c[0][2]?V_(c[0][0],c[0][1]):function(d){return d===a||df(d,a,c)}}function r_(a,c){return If(a)&&B_(c)?V_(Xi(a),c):function(d){var g=$f(d,a);return g===t&&g===c?zf(d,a):Va(c,g,k|S)}}function Xc(a,c,d,g,p){a!==c&&af(c,function(T,R){if(p||(p=new Mi),Wt(T))$T(a,c,R,d,Xc,g,p);else{var L=g?g(Of(a,R),T,R+"",a,c,p):t;L===t&&(L=T),sf(a,R,L)}},Jn)}function $T(a,c,d,g,p,T,R){var L=Of(a,d),W=Of(c,d),ie=R.get(W);if(ie){sf(a,d,ie);return}var re=T?T(L,W,d+"",a,c,R):t,ae=re===t;if(ae){var we=Le(W),Te=!we&&Jr(W),Me=!we&&!Te&&po(W);re=W,we||Te||Me?Le(L)?re=L:en(L)?re=Gn(L):Te?(ae=!1,re=p_(W,!0)):Me?(ae=!1,re=__(W,!0)):re=[]:Wa(W)||Es(W)?(re=L,Es(L)?re=f1(L):(!Wt(L)||yr(L))&&(re=D_(W))):ae=!1}ae&&(R.set(W,re),p(re,W,g,T,R),R.delete(W)),sf(a,d,re)}function s_(a,c){var d=a.length;if(d)return c+=c<0?d:0,br(c,d)?a[c]:t}function o_(a,c,d){c.length?c=yt(c,function(T){return Le(T)?function(R){return ws(R,T.length===1?T[0]:T)}:T}):c=[Xn];var g=-1;c=yt(c,xn(Oe()));var p=n_(a,function(T,R,L){var W=yt(c,function(ie){return ie(T)});return{criteria:W,index:++g,value:T}});return wt(p,function(T,R){return QT(T,R,d)})}function zT(a,c){return a_(a,c,function(d,g){return zf(a,g)})}function a_(a,c,d){for(var g=-1,p=c.length,T={};++g<p;){var R=c[g],L=ws(a,R);d(L,R)&&La(T,Gr(R,a),L)}return T}function WT(a){return function(c){return ws(c,a)}}function mf(a,c,d,g){var p=g?Xh:Ur,T=-1,R=c.length,L=a;for(a===c&&(c=Gn(c)),d&&(L=yt(a,xn(d)));++T<R;)for(var W=0,ie=c[T],re=d?d(ie):ie;(W=p(L,re,W,g))>-1;)L!==a&&zc.call(L,W,1),zc.call(a,W,1);return a}function l_(a,c){for(var d=a?c.length:0,g=d-1;d--;){var p=c[d];if(d==g||p!==T){var T=p;br(p)?zc.call(a,p,1):vf(a,p)}}return a}function gf(a,c){return a+Uc(Wp()*(c-a+1))}function jT(a,c,d,g){for(var p=-1,T=un(jc((c-a)/(d||1)),0),R=K(T);T--;)R[g?T:++p]=a,a+=d;return R}function pf(a,c){var d="";if(!a||c<1||c>te)return d;do c%2&&(d+=a),c=Uc(c/2),c&&(a+=a);while(c);return d}function He(a,c){return Mf(L_(a,c,Xn),a+"")}function UT(a){return Hp(_o(a))}function HT(a,c){var d=_o(a);return au(d,vs(c,0,d.length))}function La(a,c,d,g){if(!Wt(a))return a;c=Gr(c,a);for(var p=-1,T=c.length,R=T-1,L=a;L!=null&&++p<T;){var W=Xi(c[p]),ie=d;if(W==="__proto__"||W==="constructor"||W==="prototype")return a;if(p!=R){var re=L[W];ie=g?g(re,W,L):t,ie===t&&(ie=Wt(re)?re:br(c[p+1])?[]:{})}Na(L,W,ie),L=L[W]}return a}var c_=Hc?function(a,c){return Hc.set(a,c),a}:Xn,qT=Wc?function(a,c){return Wc(a,"toString",{configurable:!0,enumerable:!1,value:jf(c),writable:!0})}:Xn;function KT(a){return au(_o(a))}function Ei(a,c,d){var g=-1,p=a.length;c<0&&(c=-c>p?0:p+c),d=d>p?p:d,d<0&&(d+=p),p=c>d?0:d-c>>>0,c>>>=0;for(var T=K(p);++g<p;)T[g]=a[g+c];return T}function GT(a,c){var d;return qr(a,function(g,p,T){return d=c(g,p,T),!d}),!!d}function Zc(a,c,d){var g=0,p=a==null?g:a.length;if(typeof c=="number"&&c===c&&p<=ue){for(;g<p;){var T=g+p>>>1,R=a[T];R!==null&&!oi(R)&&(d?R<=c:R<c)?g=T+1:p=T}return p}return _f(a,c,Xn,d)}function _f(a,c,d,g){var p=0,T=a==null?0:a.length;if(T===0)return 0;c=d(c);for(var R=c!==c,L=c===null,W=oi(c),ie=c===t;p<T;){var re=Uc((p+T)/2),ae=d(a[re]),we=ae!==t,Te=ae===null,Me=ae===ae,je=oi(ae);if(R)var Ne=g||Me;else ie?Ne=Me&&(g||we):L?Ne=Me&&we&&(g||!Te):W?Ne=Me&&we&&!Te&&(g||!je):Te||je?Ne=!1:Ne=g?ae<=c:ae<c;Ne?p=re+1:T=re}return kn(T,ve)}function u_(a,c){for(var d=-1,g=a.length,p=0,T=[];++d<g;){var R=a[d],L=c?c(R):R;if(!d||!Ni(L,W)){var W=L;T[p++]=R===0?0:R}}return T}function d_(a){return typeof a=="number"?a:oi(a)?z:+a}function si(a){if(typeof a=="string")return a;if(Le(a))return yt(a,si)+"";if(oi(a))return jp?jp.call(a):"";var c=a+"";return c=="0"&&1/a==-ee?"-0":c}function Kr(a,c,d){var g=-1,p=ro,T=a.length,R=!0,L=[],W=L;if(d)R=!1,p=wa;else if(T>=r){var ie=c?null:sx(a);if(ie)return w(ie);R=!1,p=fs,W=new _s}else W=c?[]:L;e:for(;++g<T;){var re=a[g],ae=c?c(re):re;if(re=d||re!==0?re:0,R&&ae===ae){for(var we=W.length;we--;)if(W[we]===ae)continue e;c&&W.push(ae),L.push(re)}else p(W,ae,d)||(W!==L&&W.push(ae),L.push(re))}return L}function vf(a,c){return c=Gr(c,a),a=F_(a,c),a==null||delete a[Xi(Ci(c))]}function h_(a,c,d,g){return La(a,c,d(ws(a,c)),g)}function Qc(a,c,d,g){for(var p=a.length,T=g?p:-1;(g?T--:++T<p)&&c(a[T],T,a););return d?Ei(a,g?0:T,g?T+1:p):Ei(a,g?T+1:0,g?p:T)}function f_(a,c){var d=a;return d instanceof Je&&(d=d.value()),ba(c,function(g,p){return p.func.apply(p.thisArg,Oi([g],p.args))},d)}function wf(a,c,d){var g=a.length;if(g<2)return g?Kr(a[0]):[];for(var p=-1,T=K(g);++p<g;)for(var R=a[p],L=-1;++L<g;)L!=p&&(T[p]=Da(T[p]||R,a[L],c,d));return Kr(En(T,1),c,d)}function m_(a,c,d){for(var g=-1,p=a.length,T=c.length,R={};++g<p;){var L=g<T?c[g]:t;d(R,a[g],L)}return R}function bf(a){return en(a)?a:[]}function yf(a){return typeof a=="function"?a:Xn}function Gr(a,c){return Le(a)?a:If(a,c)?[a]:j_(st(a))}var YT=He;function Yr(a,c,d){var g=a.length;return d=d===t?g:d,!c&&d>=g?a:Ei(a,c,d)}var g_=BS||function(a){return Qt.clearTimeout(a)};function p_(a,c){if(c)return a.slice();var d=a.length,g=Vp?Vp(d):new a.constructor(d);return a.copy(g),g}function Ef(a){var c=new a.constructor(a.byteLength);return new Fc(c).set(new Fc(a)),c}function JT(a,c){var d=c?Ef(a.buffer):a.buffer;return new a.constructor(d,a.byteOffset,a.byteLength)}function XT(a){var c=new a.constructor(a.source,Kl.exec(a));return c.lastIndex=a.lastIndex,c}function ZT(a){return Ma?Ct(Ma.call(a)):{}}function __(a,c){var d=c?Ef(a.buffer):a.buffer;return new a.constructor(d,a.byteOffset,a.length)}function v_(a,c){if(a!==c){var d=a!==t,g=a===null,p=a===a,T=oi(a),R=c!==t,L=c===null,W=c===c,ie=oi(c);if(!L&&!ie&&!T&&a>c||T&&R&&W&&!L&&!ie||g&&R&&W||!d&&W||!p)return 1;if(!g&&!T&&!ie&&a<c||ie&&d&&p&&!g&&!T||L&&d&&p||!R&&p||!W)return-1}return 0}function QT(a,c,d){for(var g=-1,p=a.criteria,T=c.criteria,R=p.length,L=d.length;++g<R;){var W=v_(p[g],T[g]);if(W){if(g>=L)return W;var ie=d[g];return W*(ie=="desc"?-1:1)}}return a.index-c.index}function w_(a,c,d,g){for(var p=-1,T=a.length,R=d.length,L=-1,W=c.length,ie=un(T-R,0),re=K(W+ie),ae=!g;++L<W;)re[L]=c[L];for(;++p<R;)(ae||p<T)&&(re[d[p]]=a[p]);for(;ie--;)re[L++]=a[p++];return re}function b_(a,c,d,g){for(var p=-1,T=a.length,R=-1,L=d.length,W=-1,ie=c.length,re=un(T-L,0),ae=K(re+ie),we=!g;++p<re;)ae[p]=a[p];for(var Te=p;++W<ie;)ae[Te+W]=c[W];for(;++R<L;)(we||p<T)&&(ae[Te+d[R]]=a[p++]);return ae}function Gn(a,c){var d=-1,g=a.length;for(c||(c=K(g));++d<g;)c[d]=a[d];return c}function Ji(a,c,d,g){var p=!d;d||(d={});for(var T=-1,R=c.length;++T<R;){var L=c[T],W=g?g(d[L],a[L],L,d,a):t;W===t&&(W=a[L]),p?_r(d,L,W):Na(d,L,W)}return d}function ex(a,c){return Ji(a,Pf(a),c)}function tx(a,c){return Ji(a,M_(a),c)}function eu(a,c){return function(d,g){var p=Le(d)?Kh:CT,T=c?c():{};return p(d,a,Oe(g,2),T)}}function fo(a){return He(function(c,d){var g=-1,p=d.length,T=p>1?d[p-1]:t,R=p>2?d[2]:t;for(T=a.length>3&&typeof T=="function"?(p--,T):t,R&&Fn(d[0],d[1],R)&&(T=p<3?t:T,p=1),c=Ct(c);++g<p;){var L=d[g];L&&a(c,L,g,T)}return c})}function y_(a,c){return function(d,g){if(d==null)return d;if(!Yn(d))return a(d,g);for(var p=d.length,T=c?p:-1,R=Ct(d);(c?T--:++T<p)&&g(R[T],T,R)!==!1;);return d}}function E_(a){return function(c,d,g){for(var p=-1,T=Ct(c),R=g(c),L=R.length;L--;){var W=R[a?L:++p];if(d(T[W],W,T)===!1)break}return c}}function nx(a,c,d){var g=c&x,p=Fa(a);function T(){var R=this&&this!==Qt&&this instanceof T?p:a;return R.apply(g?d:this,arguments)}return T}function C_(a){return function(c){c=st(c);var d=fr(c)?Ie(c):t,g=d?d[0]:c.charAt(0),p=d?Yr(d,1).join(""):c.slice(1);return g[a]()+p}}function mo(a){return function(c){return ba(y1(b1(c).replace($h,"")),a,"")}}function Fa(a){return function(){var c=arguments;switch(c.length){case 0:return new a;case 1:return new a(c[0]);case 2:return new a(c[0],c[1]);case 3:return new a(c[0],c[1],c[2]);case 4:return new a(c[0],c[1],c[2],c[3]);case 5:return new a(c[0],c[1],c[2],c[3],c[4]);case 6:return new a(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new a(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var d=ho(a.prototype),g=a.apply(d,c);return Wt(g)?g:d}}function ix(a,c,d){var g=Fa(a);function p(){for(var T=arguments.length,R=K(T),L=T,W=go(p);L--;)R[L]=arguments[L];var ie=T<3&&R[0]!==W&&R[T-1]!==W?[]:_(R,W);if(T-=ie.length,T<d)return A_(a,c,tu,p.placeholder,t,R,ie,t,t,d-T);var re=this&&this!==Qt&&this instanceof p?g:a;return yn(re,this,R)}return p}function S_(a){return function(c,d,g){var p=Ct(c);if(!Yn(c)){var T=Oe(d,3);c=mn(c),d=function(L){return T(p[L],L,p)}}var R=a(c,d,g);return R>-1?p[T?c[R]:R]:t}}function T_(a){return wr(function(c){var d=c.length,g=d,p=bi.prototype.thru;for(a&&c.reverse();g--;){var T=c[g];if(typeof T!="function")throw new wi(o);if(p&&!R&&su(T)=="wrapper")var R=new bi([],!0)}for(g=R?g:d;++g<d;){T=c[g];var L=su(T),W=L=="wrapper"?kf(T):t;W&&Rf(W[0])&&W[1]==(j|A|E|U)&&!W[4].length&&W[9]==1?R=R[su(W[0])].apply(R,W[3]):R=T.length==1&&Rf(T)?R[L]():R.thru(T)}return function(){var ie=arguments,re=ie[0];if(R&&ie.length==1&&Le(re))return R.plant(re).value();for(var ae=0,we=d?c[ae].apply(this,ie):re;++ae<d;)we=c[ae].call(this,we);return we}})}function tu(a,c,d,g,p,T,R,L,W,ie){var re=c&j,ae=c&x,we=c&N,Te=c&(A|P),Me=c&$,je=we?t:Fa(a);function Ne(){for(var Ge=arguments.length,Qe=K(Ge),ai=Ge;ai--;)Qe[ai]=arguments[ai];if(Te)var $n=go(Ne),li=Ic(Qe,$n);if(g&&(Qe=w_(Qe,g,p,Te)),T&&(Qe=b_(Qe,T,R,Te)),Ge-=li,Te&&Ge<ie){var tn=_(Qe,$n);return A_(a,c,tu,Ne.placeholder,d,Qe,tn,L,W,ie-Ge)}var Di=ae?d:this,Cr=we?Di[a]:a;return Ge=Qe.length,L?Qe=Cx(Qe,L):Me&&Ge>1&&Qe.reverse(),re&&W<Ge&&(Qe.length=W),this&&this!==Qt&&this instanceof Ne&&(Cr=je||Fa(Cr)),Cr.apply(Di,Qe)}return Ne}function x_(a,c){return function(d,g){return RT(d,a,c(g),{})}}function nu(a,c){return function(d,g){var p;if(d===t&&g===t)return c;if(d!==t&&(p=d),g!==t){if(p===t)return g;typeof d=="string"||typeof g=="string"?(d=si(d),g=si(g)):(d=d_(d),g=d_(g)),p=a(d,g)}return p}}function Cf(a){return wr(function(c){return c=yt(c,xn(Oe())),He(function(d){var g=this;return a(c,function(p){return yn(p,g,d)})})})}function iu(a,c){c=c===t?" ":si(c);var d=c.length;if(d<2)return d?pf(c,a):c;var g=pf(c,jc(a/Re(c)));return fr(c)?Yr(Ie(g),0,a).join(""):g.slice(0,a)}function rx(a,c,d,g){var p=c&x,T=Fa(a);function R(){for(var L=-1,W=arguments.length,ie=-1,re=g.length,ae=K(re+W),we=this&&this!==Qt&&this instanceof R?T:a;++ie<re;)ae[ie]=g[ie];for(;W--;)ae[ie++]=arguments[++L];return yn(we,p?d:this,ae)}return R}function k_(a){return function(c,d,g){return g&&typeof g!="number"&&Fn(c,d,g)&&(d=g=t),c=Er(c),d===t?(d=c,c=0):d=Er(d),g=g===t?c<d?1:-1:Er(g),jT(c,d,g,a)}}function ru(a){return function(c,d){return typeof c=="string"&&typeof d=="string"||(c=Si(c),d=Si(d)),a(c,d)}}function A_(a,c,d,g,p,T,R,L,W,ie){var re=c&A,ae=re?R:t,we=re?t:R,Te=re?T:t,Me=re?t:T;c|=re?E:V,c&=~(re?V:E),c&y||(c&=~(x|N));var je=[a,c,p,Te,ae,Me,we,L,W,ie],Ne=d.apply(t,je);return Rf(a)&&$_(Ne,je),Ne.placeholder=g,z_(Ne,a,c)}function Sf(a){var c=Et[a];return function(d,g){if(d=Si(d),g=g==null?0:kn(ze(g),292),g&&zp(d)){var p=(st(d)+"e").split("e"),T=c(p[0]+"e"+(+p[1]+g));return p=(st(T)+"e").split("e"),+(p[0]+"e"+(+p[1]-g))}return c(d)}}var sx=co&&1/w(new co([,-0]))[1]==ee?function(a){return new co(a)}:qf;function P_(a){return function(c){var d=An(c);return d==de?Gi(c):d==on?O(c):Zh(c,a(c))}}function vr(a,c,d,g,p,T,R,L){var W=c&N;if(!W&&typeof a!="function")throw new wi(o);var ie=g?g.length:0;if(ie||(c&=~(E|V),g=p=t),R=R===t?R:un(ze(R),0),L=L===t?L:ze(L),ie-=p?p.length:0,c&V){var re=g,ae=p;g=p=t}var we=W?t:kf(a),Te=[a,c,d,g,p,re,ae,T,R,L];if(we&&bx(Te,we),a=Te[0],c=Te[1],d=Te[2],g=Te[3],p=Te[4],L=Te[9]=Te[9]===t?W?0:a.length:un(Te[9]-ie,0),!L&&c&(A|P)&&(c&=~(A|P)),!c||c==x)var Me=nx(a,c,d);else c==A||c==P?Me=ix(a,c,L):(c==E||c==(x|E))&&!p.length?Me=rx(a,c,d,g):Me=tu.apply(t,Te);var je=we?c_:$_;return z_(je(Me,Te),a,c)}function I_(a,c,d,g){return a===t||Ni(a,lo[d])&&!mt.call(g,d)?c:a}function R_(a,c,d,g,p,T){return Wt(a)&&Wt(c)&&(T.set(c,a),Xc(a,c,t,R_,T),T.delete(c)),a}function ox(a){return Wa(a)?t:a}function O_(a,c,d,g,p,T){var R=d&k,L=a.length,W=c.length;if(L!=W&&!(R&&W>L))return!1;var ie=T.get(a),re=T.get(c);if(ie&&re)return ie==c&&re==a;var ae=-1,we=!0,Te=d&S?new _s:t;for(T.set(a,c),T.set(c,a);++ae<L;){var Me=a[ae],je=c[ae];if(g)var Ne=R?g(je,Me,ae,c,a,T):g(Me,je,ae,a,c,T);if(Ne!==t){if(Ne)continue;we=!1;break}if(Te){if(!ya(c,function(Ge,Qe){if(!fs(Te,Qe)&&(Me===Ge||p(Me,Ge,d,g,T)))return Te.push(Qe)})){we=!1;break}}else if(!(Me===je||p(Me,je,d,g,T))){we=!1;break}}return T.delete(a),T.delete(c),we}function ax(a,c,d,g,p,T,R){switch(d){case Nn:if(a.byteLength!=c.byteLength||a.byteOffset!=c.byteOffset)return!1;a=a.buffer,c=c.buffer;case an:return!(a.byteLength!=c.byteLength||!T(new Fc(a),new Fc(c)));case Pe:case Se:case Ye:return Ni(+a,+c);case De:return a.name==c.name&&a.message==c.message;case Xt:case Un:return a==c+"";case de:var L=Gi;case on:var W=g&k;if(L||(L=w),a.size!=c.size&&!W)return!1;var ie=R.get(a);if(ie)return ie==c;g|=S,R.set(a,c);var re=O_(L(a),L(c),g,p,T,R);return R.delete(a),re;case gi:if(Ma)return Ma.call(a)==Ma.call(c)}return!1}function lx(a,c,d,g,p,T){var R=d&k,L=Tf(a),W=L.length,ie=Tf(c),re=ie.length;if(W!=re&&!R)return!1;for(var ae=W;ae--;){var we=L[ae];if(!(R?we in c:mt.call(c,we)))return!1}var Te=T.get(a),Me=T.get(c);if(Te&&Me)return Te==c&&Me==a;var je=!0;T.set(a,c),T.set(c,a);for(var Ne=R;++ae<W;){we=L[ae];var Ge=a[we],Qe=c[we];if(g)var ai=R?g(Qe,Ge,we,c,a,T):g(Ge,Qe,we,a,c,T);if(!(ai===t?Ge===Qe||p(Ge,Qe,d,g,T):ai)){je=!1;break}Ne||(Ne=we=="constructor")}if(je&&!Ne){var $n=a.constructor,li=c.constructor;$n!=li&&"constructor"in a&&"constructor"in c&&!(typeof $n=="function"&&$n instanceof $n&&typeof li=="function"&&li instanceof li)&&(je=!1)}return T.delete(a),T.delete(c),je}function wr(a){return Mf(L_(a,t,K_),a+"")}function Tf(a){return Zp(a,mn,Pf)}function xf(a){return Zp(a,Jn,M_)}var kf=Hc?function(a){return Hc.get(a)}:qf;function su(a){for(var c=a.name+"",d=uo[c],g=mt.call(uo,c)?d.length:0;g--;){var p=d[g],T=p.func;if(T==null||T==a)return p.name}return c}function go(a){var c=mt.call(b,"placeholder")?b:a;return c.placeholder}function Oe(){var a=b.iteratee||Uf;return a=a===Uf?t_:a,arguments.length?a(arguments[0],arguments[1]):a}function ou(a,c){var d=a.__data__;return px(c)?d[typeof c=="string"?"string":"hash"]:d.map}function Af(a){for(var c=mn(a),d=c.length;d--;){var g=c[d],p=a[g];c[d]=[g,p,B_(p)]}return c}function bs(a,c){var d=Oc(a,c);return e_(d)?d:t}function cx(a){var c=mt.call(a,gs),d=a[gs];try{a[gs]=t;var g=!0}catch{}var p=Vc.call(a);return g&&(c?a[gs]=d:delete a[gs]),p}var Pf=tf?function(a){return a==null?[]:(a=Ct(a),Ki(tf(a),function(c){return Fp.call(a,c)}))}:Kf,M_=tf?function(a){for(var c=[];a;)Oi(c,Pf(a)),a=$c(a);return c}:Kf,An=Ln;(nf&&An(new nf(new ArrayBuffer(1)))!=Nn||Ia&&An(new Ia)!=de||rf&&An(rf.resolve())!=ei||co&&An(new co)!=on||Ra&&An(new Ra)!=qn)&&(An=function(a){var c=Ln(a),d=c==sn?a.constructor:t,g=d?ys(d):"";if(g)switch(g){case HS:return Nn;case qS:return de;case KS:return ei;case GS:return on;case YS:return qn}return c});function ux(a,c,d){for(var g=-1,p=d.length;++g<p;){var T=d[g],R=T.size;switch(T.type){case"drop":a+=R;break;case"dropRight":c-=R;break;case"take":c=kn(c,a+R);break;case"takeRight":a=un(a,c-R);break}}return{start:a,end:c}}function dx(a){var c=a.match(Ah);return c?c[1].split(Fr):[]}function N_(a,c,d){c=Gr(c,a);for(var g=-1,p=c.length,T=!1;++g<p;){var R=Xi(c[g]);if(!(T=a!=null&&d(a,R)))break;a=a[R]}return T||++g!=p?T:(p=a==null?0:a.length,!!p&&fu(p)&&br(R,p)&&(Le(a)||Es(a)))}function hx(a){var c=a.length,d=new a.constructor(c);return c&&typeof a[0]=="string"&&mt.call(a,"index")&&(d.index=a.index,d.input=a.input),d}function D_(a){return typeof a.constructor=="function"&&!$a(a)?ho($c(a)):{}}function fx(a,c,d){var g=a.constructor;switch(c){case an:return Ef(a);case Pe:case Se:return new g(+a);case Nn:return JT(a,d);case Dn:case I:case ge:case xe:case Be:case Fe:case ln:case vn:case Zt:return __(a,d);case de:return new g;case Ye:case Un:return new g(a);case Xt:return XT(a);case on:return new g;case gi:return ZT(a)}}function mx(a,c){var d=c.length;if(!d)return a;var g=d-1;return c[g]=(d>1?"& ":"")+c[g],c=c.join(d>2?", ":" "),a.replace(kh,`{
/* [wrapped with `+c+`] */
`)}function gx(a){return Le(a)||Es(a)||!!($p&&a&&a[$p])}function br(a,c){var d=typeof a;return c=c??te,!!c&&(d=="number"||d!="symbol"&&Ys.test(a))&&a>-1&&a%1==0&&a<c}function Fn(a,c,d){if(!Wt(d))return!1;var g=typeof c;return(g=="number"?Yn(d)&&br(c,d.length):g=="string"&&c in d)?Ni(d[c],a):!1}function If(a,c){if(Le(a))return!1;var d=typeof a;return d=="number"||d=="symbol"||d=="boolean"||a==null||oi(a)?!0:ni.test(a)||!$t.test(a)||c!=null&&a in Ct(c)}function px(a){var c=typeof a;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?a!=="__proto__":a===null}function Rf(a){var c=su(a),d=b[c];if(typeof d!="function"||!(c in Je.prototype))return!1;if(a===d)return!0;var g=kf(d);return!!g&&a===g[0]}function _x(a){return!!Bp&&Bp in a}var vx=Dc?yr:Gf;function $a(a){var c=a&&a.constructor,d=typeof c=="function"&&c.prototype||lo;return a===d}function B_(a){return a===a&&!Wt(a)}function V_(a,c){return function(d){return d==null?!1:d[a]===c&&(c!==t||a in Ct(d))}}function wx(a){var c=du(a,function(g){return d.size===h&&d.clear(),g}),d=c.cache;return c}function bx(a,c){var d=a[1],g=c[1],p=d|g,T=p<(x|N|j),R=g==j&&d==A||g==j&&d==U&&a[7].length<=c[8]||g==(j|U)&&c[7].length<=c[8]&&d==A;if(!(T||R))return a;g&x&&(a[2]=c[2],p|=d&x?0:y);var L=c[3];if(L){var W=a[3];a[3]=W?w_(W,L,c[4]):L,a[4]=W?_(a[3],f):c[4]}return L=c[5],L&&(W=a[5],a[5]=W?b_(W,L,c[6]):L,a[6]=W?_(a[5],f):c[6]),L=c[7],L&&(a[7]=L),g&j&&(a[8]=a[8]==null?c[8]:kn(a[8],c[8])),a[9]==null&&(a[9]=c[9]),a[0]=c[0],a[1]=p,a}function yx(a){var c=[];if(a!=null)for(var d in Ct(a))c.push(d);return c}function Ex(a){return Vc.call(a)}function L_(a,c,d){return c=un(c===t?a.length-1:c,0),function(){for(var g=arguments,p=-1,T=un(g.length-c,0),R=K(T);++p<T;)R[p]=g[c+p];p=-1;for(var L=K(c+1);++p<c;)L[p]=g[p];return L[c]=d(R),yn(a,this,L)}}function F_(a,c){return c.length<2?a:ws(a,Ei(c,0,-1))}function Cx(a,c){for(var d=a.length,g=kn(c.length,d),p=Gn(a);g--;){var T=c[g];a[g]=br(T,d)?p[T]:t}return a}function Of(a,c){if(!(c==="constructor"&&typeof a[c]=="function")&&c!="__proto__")return a[c]}var $_=W_(c_),za=LS||function(a,c){return Qt.setTimeout(a,c)},Mf=W_(qT);function z_(a,c,d){var g=c+"";return Mf(a,mx(g,Sx(dx(g),d)))}function W_(a){var c=0,d=0;return function(){var g=WS(),p=H-(g-d);if(d=g,p>0){if(++c>=J)return arguments[0]}else c=0;return a.apply(t,arguments)}}function au(a,c){var d=-1,g=a.length,p=g-1;for(c=c===t?g:c;++d<c;){var T=gf(d,p),R=a[T];a[T]=a[d],a[d]=R}return a.length=c,a}var j_=wx(function(a){var c=[];return a.charCodeAt(0)===46&&c.push(""),a.replace(Lr,function(d,g,p,T){c.push(p?T.replace($r,"$1"):g||d)}),c});function Xi(a){if(typeof a=="string"||oi(a))return a;var c=a+"";return c=="0"&&1/a==-ee?"-0":c}function ys(a){if(a!=null){try{return Bc.call(a)}catch{}try{return a+""}catch{}}return""}function Sx(a,c){return Kn(ce,function(d){var g="_."+d[0];c&d[1]&&!ro(a,g)&&a.push(g)}),a.sort()}function U_(a){if(a instanceof Je)return a.clone();var c=new bi(a.__wrapped__,a.__chain__);return c.__actions__=Gn(a.__actions__),c.__index__=a.__index__,c.__values__=a.__values__,c}function Tx(a,c,d){(d?Fn(a,c,d):c===t)?c=1:c=un(ze(c),0);var g=a==null?0:a.length;if(!g||c<1)return[];for(var p=0,T=0,R=K(jc(g/c));p<g;)R[T++]=Ei(a,p,p+=c);return R}function xx(a){for(var c=-1,d=a==null?0:a.length,g=0,p=[];++c<d;){var T=a[c];T&&(p[g++]=T)}return p}function kx(){var a=arguments.length;if(!a)return[];for(var c=K(a-1),d=arguments[0],g=a;g--;)c[g-1]=arguments[g];return Oi(Le(d)?Gn(d):[d],En(c,1))}var Ax=He(function(a,c){return en(a)?Da(a,En(c,1,en,!0)):[]}),Px=He(function(a,c){var d=Ci(c);return en(d)&&(d=t),en(a)?Da(a,En(c,1,en,!0),Oe(d,2)):[]}),Ix=He(function(a,c){var d=Ci(c);return en(d)&&(d=t),en(a)?Da(a,En(c,1,en,!0),t,d):[]});function Rx(a,c,d){var g=a==null?0:a.length;return g?(c=d||c===t?1:ze(c),Ei(a,c<0?0:c,g)):[]}function Ox(a,c,d){var g=a==null?0:a.length;return g?(c=d||c===t?1:ze(c),c=g-c,Ei(a,0,c<0?0:c)):[]}function Mx(a,c){return a&&a.length?Qc(a,Oe(c,3),!0,!0):[]}function Nx(a,c){return a&&a.length?Qc(a,Oe(c,3),!0):[]}function Dx(a,c,d,g){var p=a==null?0:a.length;return p?(d&&typeof d!="number"&&Fn(a,c,d)&&(d=0,g=p),kT(a,c,d,g)):[]}function H_(a,c,d){var g=a==null?0:a.length;if(!g)return-1;var p=d==null?0:ze(d);return p<0&&(p=un(g+p,0)),hs(a,Oe(c,3),p)}function q_(a,c,d){var g=a==null?0:a.length;if(!g)return-1;var p=g-1;return d!==t&&(p=ze(d),p=d<0?un(g+p,0):kn(p,g-1)),hs(a,Oe(c,3),p,!0)}function K_(a){var c=a==null?0:a.length;return c?En(a,1):[]}function Bx(a){var c=a==null?0:a.length;return c?En(a,ee):[]}function Vx(a,c){var d=a==null?0:a.length;return d?(c=c===t?1:ze(c),En(a,c)):[]}function Lx(a){for(var c=-1,d=a==null?0:a.length,g={};++c<d;){var p=a[c];g[p[0]]=p[1]}return g}function G_(a){return a&&a.length?a[0]:t}function Fx(a,c,d){var g=a==null?0:a.length;if(!g)return-1;var p=d==null?0:ze(d);return p<0&&(p=un(g+p,0)),Ur(a,c,p)}function $x(a){var c=a==null?0:a.length;return c?Ei(a,0,-1):[]}var zx=He(function(a){var c=yt(a,bf);return c.length&&c[0]===a[0]?uf(c):[]}),Wx=He(function(a){var c=Ci(a),d=yt(a,bf);return c===Ci(d)?c=t:d.pop(),d.length&&d[0]===a[0]?uf(d,Oe(c,2)):[]}),jx=He(function(a){var c=Ci(a),d=yt(a,bf);return c=typeof c=="function"?c:t,c&&d.pop(),d.length&&d[0]===a[0]?uf(d,t,c):[]});function Ux(a,c){return a==null?"":$S.call(a,c)}function Ci(a){var c=a==null?0:a.length;return c?a[c-1]:t}function Hx(a,c,d){var g=a==null?0:a.length;if(!g)return-1;var p=g;return d!==t&&(p=ze(d),p=p<0?un(g+p,0):kn(p,g-1)),c===c?Ce(a,c,p):hs(a,Ea,p,!0)}function qx(a,c){return a&&a.length?s_(a,ze(c)):t}var Kx=He(Y_);function Y_(a,c){return a&&a.length&&c&&c.length?mf(a,c):a}function Gx(a,c,d){return a&&a.length&&c&&c.length?mf(a,c,Oe(d,2)):a}function Yx(a,c,d){return a&&a.length&&c&&c.length?mf(a,c,t,d):a}var Jx=wr(function(a,c){var d=a==null?0:a.length,g=of(a,c);return l_(a,yt(c,function(p){return br(p,d)?+p:p}).sort(v_)),g});function Xx(a,c){var d=[];if(!(a&&a.length))return d;var g=-1,p=[],T=a.length;for(c=Oe(c,3);++g<T;){var R=a[g];c(R,g,a)&&(d.push(R),p.push(g))}return l_(a,p),d}function Nf(a){return a==null?a:US.call(a)}function Zx(a,c,d){var g=a==null?0:a.length;return g?(d&&typeof d!="number"&&Fn(a,c,d)?(c=0,d=g):(c=c==null?0:ze(c),d=d===t?g:ze(d)),Ei(a,c,d)):[]}function Qx(a,c){return Zc(a,c)}function e2(a,c,d){return _f(a,c,Oe(d,2))}function t2(a,c){var d=a==null?0:a.length;if(d){var g=Zc(a,c);if(g<d&&Ni(a[g],c))return g}return-1}function n2(a,c){return Zc(a,c,!0)}function i2(a,c,d){return _f(a,c,Oe(d,2),!0)}function r2(a,c){var d=a==null?0:a.length;if(d){var g=Zc(a,c,!0)-1;if(Ni(a[g],c))return g}return-1}function s2(a){return a&&a.length?u_(a):[]}function o2(a,c){return a&&a.length?u_(a,Oe(c,2)):[]}function a2(a){var c=a==null?0:a.length;return c?Ei(a,1,c):[]}function l2(a,c,d){return a&&a.length?(c=d||c===t?1:ze(c),Ei(a,0,c<0?0:c)):[]}function c2(a,c,d){var g=a==null?0:a.length;return g?(c=d||c===t?1:ze(c),c=g-c,Ei(a,c<0?0:c,g)):[]}function u2(a,c){return a&&a.length?Qc(a,Oe(c,3),!1,!0):[]}function d2(a,c){return a&&a.length?Qc(a,Oe(c,3)):[]}var h2=He(function(a){return Kr(En(a,1,en,!0))}),f2=He(function(a){var c=Ci(a);return en(c)&&(c=t),Kr(En(a,1,en,!0),Oe(c,2))}),m2=He(function(a){var c=Ci(a);return c=typeof c=="function"?c:t,Kr(En(a,1,en,!0),t,c)});function g2(a){return a&&a.length?Kr(a):[]}function p2(a,c){return a&&a.length?Kr(a,Oe(c,2)):[]}function _2(a,c){return c=typeof c=="function"?c:t,a&&a.length?Kr(a,t,c):[]}function Df(a){if(!(a&&a.length))return[];var c=0;return a=Ki(a,function(d){if(en(d))return c=un(d.length,c),!0}),Ta(c,function(d){return yt(a,so(d))})}function J_(a,c){if(!(a&&a.length))return[];var d=Df(a);return c==null?d:yt(d,function(g){return yn(c,t,g)})}var v2=He(function(a,c){return en(a)?Da(a,c):[]}),w2=He(function(a){return wf(Ki(a,en))}),b2=He(function(a){var c=Ci(a);return en(c)&&(c=t),wf(Ki(a,en),Oe(c,2))}),y2=He(function(a){var c=Ci(a);return c=typeof c=="function"?c:t,wf(Ki(a,en),t,c)}),E2=He(Df);function C2(a,c){return m_(a||[],c||[],Na)}function S2(a,c){return m_(a||[],c||[],La)}var T2=He(function(a){var c=a.length,d=c>1?a[c-1]:t;return d=typeof d=="function"?(a.pop(),d):t,J_(a,d)});function X_(a){var c=b(a);return c.__chain__=!0,c}function x2(a,c){return c(a),a}function lu(a,c){return c(a)}var k2=wr(function(a){var c=a.length,d=c?a[0]:0,g=this.__wrapped__,p=function(T){return of(T,a)};return c>1||this.__actions__.length||!(g instanceof Je)||!br(d)?this.thru(p):(g=g.slice(d,+d+(c?1:0)),g.__actions__.push({func:lu,args:[p],thisArg:t}),new bi(g,this.__chain__).thru(function(T){return c&&!T.length&&T.push(t),T}))});function A2(){return X_(this)}function P2(){return new bi(this.value(),this.__chain__)}function I2(){this.__values__===t&&(this.__values__=d1(this.value()));var a=this.__index__>=this.__values__.length,c=a?t:this.__values__[this.__index__++];return{done:a,value:c}}function R2(){return this}function O2(a){for(var c,d=this;d instanceof Kc;){var g=U_(d);g.__index__=0,g.__values__=t,c?p.__wrapped__=g:c=g;var p=g;d=d.__wrapped__}return p.__wrapped__=a,c}function M2(){var a=this.__wrapped__;if(a instanceof Je){var c=a;return this.__actions__.length&&(c=new Je(this)),c=c.reverse(),c.__actions__.push({func:lu,args:[Nf],thisArg:t}),new bi(c,this.__chain__)}return this.thru(Nf)}function N2(){return f_(this.__wrapped__,this.__actions__)}var D2=eu(function(a,c,d){mt.call(a,d)?++a[d]:_r(a,d,1)});function B2(a,c,d){var g=Le(a)?io:xT;return d&&Fn(a,c,d)&&(c=t),g(a,Oe(c,3))}function V2(a,c){var d=Le(a)?Ki:Jp;return d(a,Oe(c,3))}var L2=S_(H_),F2=S_(q_);function $2(a,c){return En(cu(a,c),1)}function z2(a,c){return En(cu(a,c),ee)}function W2(a,c,d){return d=d===t?1:ze(d),En(cu(a,c),d)}function Z_(a,c){var d=Le(a)?Kn:qr;return d(a,Oe(c,3))}function Q_(a,c){var d=Le(a)?Cc:Yp;return d(a,Oe(c,3))}var j2=eu(function(a,c,d){mt.call(a,d)?a[d].push(c):_r(a,d,[c])});function U2(a,c,d,g){a=Yn(a)?a:_o(a),d=d&&!g?ze(d):0;var p=a.length;return d<0&&(d=un(p+d,0)),mu(a)?d<=p&&a.indexOf(c,d)>-1:!!p&&Ur(a,c,d)>-1}var H2=He(function(a,c,d){var g=-1,p=typeof c=="function",T=Yn(a)?K(a.length):[];return qr(a,function(R){T[++g]=p?yn(c,R,d):Ba(R,c,d)}),T}),q2=eu(function(a,c,d){_r(a,d,c)});function cu(a,c){var d=Le(a)?yt:n_;return d(a,Oe(c,3))}function K2(a,c,d,g){return a==null?[]:(Le(c)||(c=c==null?[]:[c]),d=g?t:d,Le(d)||(d=d==null?[]:[d]),o_(a,c,d))}var G2=eu(function(a,c,d){a[d?0:1].push(c)},function(){return[[],[]]});function Y2(a,c,d){var g=Le(a)?ba:Ca,p=arguments.length<3;return g(a,Oe(c,4),d,p,qr)}function J2(a,c,d){var g=Le(a)?Gh:Ca,p=arguments.length<3;return g(a,Oe(c,4),d,p,Yp)}function X2(a,c){var d=Le(a)?Ki:Jp;return d(a,hu(Oe(c,3)))}function Z2(a){var c=Le(a)?Hp:UT;return c(a)}function Q2(a,c,d){(d?Fn(a,c,d):c===t)?c=1:c=ze(c);var g=Le(a)?yT:HT;return g(a,c)}function ek(a){var c=Le(a)?ET:KT;return c(a)}function tk(a){if(a==null)return 0;if(Yn(a))return mu(a)?Re(a):a.length;var c=An(a);return c==de||c==on?a.size:hf(a).length}function nk(a,c,d){var g=Le(a)?ya:GT;return d&&Fn(a,c,d)&&(c=t),g(a,Oe(c,3))}var ik=He(function(a,c){if(a==null)return[];var d=c.length;return d>1&&Fn(a,c[0],c[1])?c=[]:d>2&&Fn(c[0],c[1],c[2])&&(c=[c[0]]),o_(a,En(c,1),[])}),uu=VS||function(){return Qt.Date.now()};function rk(a,c){if(typeof c!="function")throw new wi(o);return a=ze(a),function(){if(--a<1)return c.apply(this,arguments)}}function e1(a,c,d){return c=d?t:c,c=a&&c==null?a.length:c,vr(a,j,t,t,t,t,c)}function t1(a,c){var d;if(typeof c!="function")throw new wi(o);return a=ze(a),function(){return--a>0&&(d=c.apply(this,arguments)),a<=1&&(c=t),d}}var Bf=He(function(a,c,d){var g=x;if(d.length){var p=_(d,go(Bf));g|=E}return vr(a,g,c,d,p)}),n1=He(function(a,c,d){var g=x|N;if(d.length){var p=_(d,go(n1));g|=E}return vr(c,g,a,d,p)});function i1(a,c,d){c=d?t:c;var g=vr(a,A,t,t,t,t,t,c);return g.placeholder=i1.placeholder,g}function r1(a,c,d){c=d?t:c;var g=vr(a,P,t,t,t,t,t,c);return g.placeholder=r1.placeholder,g}function s1(a,c,d){var g,p,T,R,L,W,ie=0,re=!1,ae=!1,we=!0;if(typeof a!="function")throw new wi(o);c=Si(c)||0,Wt(d)&&(re=!!d.leading,ae="maxWait"in d,T=ae?un(Si(d.maxWait)||0,c):T,we="trailing"in d?!!d.trailing:we);function Te(tn){var Di=g,Cr=p;return g=p=t,ie=tn,R=a.apply(Cr,Di),R}function Me(tn){return ie=tn,L=za(Ge,c),re?Te(tn):R}function je(tn){var Di=tn-W,Cr=tn-ie,S1=c-Di;return ae?kn(S1,T-Cr):S1}function Ne(tn){var Di=tn-W,Cr=tn-ie;return W===t||Di>=c||Di<0||ae&&Cr>=T}function Ge(){var tn=uu();if(Ne(tn))return Qe(tn);L=za(Ge,je(tn))}function Qe(tn){return L=t,we&&g?Te(tn):(g=p=t,R)}function ai(){L!==t&&g_(L),ie=0,g=W=p=L=t}function $n(){return L===t?R:Qe(uu())}function li(){var tn=uu(),Di=Ne(tn);if(g=arguments,p=this,W=tn,Di){if(L===t)return Me(W);if(ae)return g_(L),L=za(Ge,c),Te(W)}return L===t&&(L=za(Ge,c)),R}return li.cancel=ai,li.flush=$n,li}var sk=He(function(a,c){return Gp(a,1,c)}),ok=He(function(a,c,d){return Gp(a,Si(c)||0,d)});function ak(a){return vr(a,$)}function du(a,c){if(typeof a!="function"||c!=null&&typeof c!="function")throw new wi(o);var d=function(){var g=arguments,p=c?c.apply(this,g):g[0],T=d.cache;if(T.has(p))return T.get(p);var R=a.apply(this,g);return d.cache=T.set(p,R)||T,R};return d.cache=new(du.Cache||pr),d}du.Cache=pr;function hu(a){if(typeof a!="function")throw new wi(o);return function(){var c=arguments;switch(c.length){case 0:return!a.call(this);case 1:return!a.call(this,c[0]);case 2:return!a.call(this,c[0],c[1]);case 3:return!a.call(this,c[0],c[1],c[2])}return!a.apply(this,c)}}function lk(a){return t1(2,a)}var ck=YT(function(a,c){c=c.length==1&&Le(c[0])?yt(c[0],xn(Oe())):yt(En(c,1),xn(Oe()));var d=c.length;return He(function(g){for(var p=-1,T=kn(g.length,d);++p<T;)g[p]=c[p].call(this,g[p]);return yn(a,this,g)})}),Vf=He(function(a,c){var d=_(c,go(Vf));return vr(a,E,t,c,d)}),o1=He(function(a,c){var d=_(c,go(o1));return vr(a,V,t,c,d)}),uk=wr(function(a,c){return vr(a,U,t,t,t,c)});function dk(a,c){if(typeof a!="function")throw new wi(o);return c=c===t?c:ze(c),He(a,c)}function hk(a,c){if(typeof a!="function")throw new wi(o);return c=c==null?0:un(ze(c),0),He(function(d){var g=d[c],p=Yr(d,0,c);return g&&Oi(p,g),yn(a,this,p)})}function fk(a,c,d){var g=!0,p=!0;if(typeof a!="function")throw new wi(o);return Wt(d)&&(g="leading"in d?!!d.leading:g,p="trailing"in d?!!d.trailing:p),s1(a,c,{leading:g,maxWait:c,trailing:p})}function mk(a){return e1(a,1)}function gk(a,c){return Vf(yf(c),a)}function pk(){if(!arguments.length)return[];var a=arguments[0];return Le(a)?a:[a]}function _k(a){return yi(a,C)}function vk(a,c){return c=typeof c=="function"?c:t,yi(a,C,c)}function wk(a){return yi(a,m|C)}function bk(a,c){return c=typeof c=="function"?c:t,yi(a,m|C,c)}function yk(a,c){return c==null||Kp(a,c,mn(c))}function Ni(a,c){return a===c||a!==a&&c!==c}var Ek=ru(cf),Ck=ru(function(a,c){return a>=c}),Es=Qp(function(){return arguments}())?Qp:function(a){return jt(a)&&mt.call(a,"callee")&&!Fp.call(a,"callee")},Le=K.isArray,Sk=vc?xn(vc):OT;function Yn(a){return a!=null&&fu(a.length)&&!yr(a)}function en(a){return jt(a)&&Yn(a)}function Tk(a){return a===!0||a===!1||jt(a)&&Ln(a)==Pe}var Jr=FS||Gf,xk=wc?xn(wc):MT;function kk(a){return jt(a)&&a.nodeType===1&&!Wa(a)}function Ak(a){if(a==null)return!0;if(Yn(a)&&(Le(a)||typeof a=="string"||typeof a.splice=="function"||Jr(a)||po(a)||Es(a)))return!a.length;var c=An(a);if(c==de||c==on)return!a.size;if($a(a))return!hf(a).length;for(var d in a)if(mt.call(a,d))return!1;return!0}function Pk(a,c){return Va(a,c)}function Ik(a,c,d){d=typeof d=="function"?d:t;var g=d?d(a,c):t;return g===t?Va(a,c,t,d):!!g}function Lf(a){if(!jt(a))return!1;var c=Ln(a);return c==De||c==ye||typeof a.message=="string"&&typeof a.name=="string"&&!Wa(a)}function Rk(a){return typeof a=="number"&&zp(a)}function yr(a){if(!Wt(a))return!1;var c=Ln(a);return c==q||c==Ze||c==Ee||c==jn}function a1(a){return typeof a=="number"&&a==ze(a)}function fu(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=te}function Wt(a){var c=typeof a;return a!=null&&(c=="object"||c=="function")}function jt(a){return a!=null&&typeof a=="object"}var l1=bc?xn(bc):DT;function Ok(a,c){return a===c||df(a,c,Af(c))}function Mk(a,c,d){return d=typeof d=="function"?d:t,df(a,c,Af(c),d)}function Nk(a){return c1(a)&&a!=+a}function Dk(a){if(vx(a))throw new ke(s);return e_(a)}function Bk(a){return a===null}function Vk(a){return a==null}function c1(a){return typeof a=="number"||jt(a)&&Ln(a)==Ye}function Wa(a){if(!jt(a)||Ln(a)!=sn)return!1;var c=$c(a);if(c===null)return!0;var d=mt.call(c,"constructor")&&c.constructor;return typeof d=="function"&&d instanceof d&&Bc.call(d)==MS}var Ff=yc?xn(yc):BT;function Lk(a){return a1(a)&&a>=-te&&a<=te}var u1=Ec?xn(Ec):VT;function mu(a){return typeof a=="string"||!Le(a)&&jt(a)&&Ln(a)==Un}function oi(a){return typeof a=="symbol"||jt(a)&&Ln(a)==gi}var po=qi?xn(qi):LT;function Fk(a){return a===t}function $k(a){return jt(a)&&An(a)==qn}function zk(a){return jt(a)&&Ln(a)==hn}var Wk=ru(ff),jk=ru(function(a,c){return a<=c});function d1(a){if(!a)return[];if(Yn(a))return mu(a)?Ie(a):Gn(a);if(Pa&&a[Pa])return Aa(a[Pa]());var c=An(a),d=c==de?Gi:c==on?w:_o;return d(a)}function Er(a){if(!a)return a===0?a:0;if(a=Si(a),a===ee||a===-ee){var c=a<0?-1:1;return c*ne}return a===a?a:0}function ze(a){var c=Er(a),d=c%1;return c===c?d?c-d:c:0}function h1(a){return a?vs(ze(a),0,se):0}function Si(a){if(typeof a=="number")return a;if(oi(a))return z;if(Wt(a)){var c=typeof a.valueOf=="function"?a.valueOf():a;a=Wt(c)?c+"":c}if(typeof a!="string")return a===0?a:+a;a=kc(a);var d=Yl.test(a);return d||Jl.test(a)?pa(a.slice(2),d?2:8):Gl.test(a)?z:+a}function f1(a){return Ji(a,Jn(a))}function Uk(a){return a?vs(ze(a),-te,te):a===0?a:0}function st(a){return a==null?"":si(a)}var Hk=fo(function(a,c){if($a(c)||Yn(c)){Ji(c,mn(c),a);return}for(var d in c)mt.call(c,d)&&Na(a,d,c[d])}),m1=fo(function(a,c){Ji(c,Jn(c),a)}),gu=fo(function(a,c,d,g){Ji(c,Jn(c),a,g)}),qk=fo(function(a,c,d,g){Ji(c,mn(c),a,g)}),Kk=wr(of);function Gk(a,c){var d=ho(a);return c==null?d:qp(d,c)}var Yk=He(function(a,c){a=Ct(a);var d=-1,g=c.length,p=g>2?c[2]:t;for(p&&Fn(c[0],c[1],p)&&(g=1);++d<g;)for(var T=c[d],R=Jn(T),L=-1,W=R.length;++L<W;){var ie=R[L],re=a[ie];(re===t||Ni(re,lo[ie])&&!mt.call(a,ie))&&(a[ie]=T[ie])}return a}),Jk=He(function(a){return a.push(t,R_),yn(g1,t,a)});function Xk(a,c){return Tc(a,Oe(c,3),Yi)}function Zk(a,c){return Tc(a,Oe(c,3),lf)}function Qk(a,c){return a==null?a:af(a,Oe(c,3),Jn)}function eA(a,c){return a==null?a:Xp(a,Oe(c,3),Jn)}function tA(a,c){return a&&Yi(a,Oe(c,3))}function nA(a,c){return a&&lf(a,Oe(c,3))}function iA(a){return a==null?[]:Jc(a,mn(a))}function rA(a){return a==null?[]:Jc(a,Jn(a))}function $f(a,c,d){var g=a==null?t:ws(a,c);return g===t?d:g}function sA(a,c){return a!=null&&N_(a,c,AT)}function zf(a,c){return a!=null&&N_(a,c,PT)}var oA=x_(function(a,c,d){c!=null&&typeof c.toString!="function"&&(c=Vc.call(c)),a[c]=d},jf(Xn)),aA=x_(function(a,c,d){c!=null&&typeof c.toString!="function"&&(c=Vc.call(c)),mt.call(a,c)?a[c].push(d):a[c]=[d]},Oe),lA=He(Ba);function mn(a){return Yn(a)?Up(a):hf(a)}function Jn(a){return Yn(a)?Up(a,!0):FT(a)}function cA(a,c){var d={};return c=Oe(c,3),Yi(a,function(g,p,T){_r(d,c(g,p,T),g)}),d}function uA(a,c){var d={};return c=Oe(c,3),Yi(a,function(g,p,T){_r(d,p,c(g,p,T))}),d}var dA=fo(function(a,c,d){Xc(a,c,d)}),g1=fo(function(a,c,d,g){Xc(a,c,d,g)}),hA=wr(function(a,c){var d={};if(a==null)return d;var g=!1;c=yt(c,function(T){return T=Gr(T,a),g||(g=T.length>1),T}),Ji(a,xf(a),d),g&&(d=yi(d,m|v|C,ox));for(var p=c.length;p--;)vf(d,c[p]);return d});function fA(a,c){return p1(a,hu(Oe(c)))}var mA=wr(function(a,c){return a==null?{}:zT(a,c)});function p1(a,c){if(a==null)return{};var d=yt(xf(a),function(g){return[g]});return c=Oe(c),a_(a,d,function(g,p){return c(g,p[0])})}function gA(a,c,d){c=Gr(c,a);var g=-1,p=c.length;for(p||(p=1,a=t);++g<p;){var T=a==null?t:a[Xi(c[g])];T===t&&(g=p,T=d),a=yr(T)?T.call(a):T}return a}function pA(a,c,d){return a==null?a:La(a,c,d)}function _A(a,c,d,g){return g=typeof g=="function"?g:t,a==null?a:La(a,c,d,g)}var _1=P_(mn),v1=P_(Jn);function vA(a,c,d){var g=Le(a),p=g||Jr(a)||po(a);if(c=Oe(c,4),d==null){var T=a&&a.constructor;p?d=g?new T:[]:Wt(a)?d=yr(T)?ho($c(a)):{}:d={}}return(p?Kn:Yi)(a,function(R,L,W){return c(d,R,L,W)}),d}function wA(a,c){return a==null?!0:vf(a,c)}function bA(a,c,d){return a==null?a:h_(a,c,yf(d))}function yA(a,c,d,g){return g=typeof g=="function"?g:t,a==null?a:h_(a,c,yf(d),g)}function _o(a){return a==null?[]:xa(a,mn(a))}function EA(a){return a==null?[]:xa(a,Jn(a))}function CA(a,c,d){return d===t&&(d=c,c=t),d!==t&&(d=Si(d),d=d===d?d:0),c!==t&&(c=Si(c),c=c===c?c:0),vs(Si(a),c,d)}function SA(a,c,d){return c=Er(c),d===t?(d=c,c=0):d=Er(d),a=Si(a),IT(a,c,d)}function TA(a,c,d){if(d&&typeof d!="boolean"&&Fn(a,c,d)&&(c=d=t),d===t&&(typeof c=="boolean"?(d=c,c=t):typeof a=="boolean"&&(d=a,a=t)),a===t&&c===t?(a=0,c=1):(a=Er(a),c===t?(c=a,a=0):c=Er(c)),a>c){var g=a;a=c,c=g}if(d||a%1||c%1){var p=Wp();return kn(a+p*(c-a+qh("1e-"+((p+"").length-1))),c)}return gf(a,c)}var xA=mo(function(a,c,d){return c=c.toLowerCase(),a+(d?w1(c):c)});function w1(a){return Wf(st(a).toLowerCase())}function b1(a){return a=st(a),a&&a.replace(Mh,ms).replace(zh,"")}function kA(a,c,d){a=st(a),c=si(c);var g=a.length;d=d===t?g:vs(ze(d),0,g);var p=d;return d-=c.length,d>=0&&a.slice(d,p)==c}function AA(a){return a=st(a),a&&ti.test(a)?a.replace(pi,Rc):a}function PA(a){return a=st(a),a&&bn.test(a)?a.replace(ii,"\\$&"):a}var IA=mo(function(a,c,d){return a+(d?"-":"")+c.toLowerCase()}),RA=mo(function(a,c,d){return a+(d?" ":"")+c.toLowerCase()}),OA=C_("toLowerCase");function MA(a,c,d){a=st(a),c=ze(c);var g=c?Re(a):0;if(!c||g>=c)return a;var p=(c-g)/2;return iu(Uc(p),d)+a+iu(jc(p),d)}function NA(a,c,d){a=st(a),c=ze(c);var g=c?Re(a):0;return c&&g<c?a+iu(c-g,d):a}function DA(a,c,d){a=st(a),c=ze(c);var g=c?Re(a):0;return c&&g<c?iu(c-g,d)+a:a}function BA(a,c,d){return d||c==null?c=0:c&&(c=+c),jS(st(a).replace(ft,""),c||0)}function VA(a,c,d){return(d?Fn(a,c,d):c===t)?c=1:c=ze(c),pf(st(a),c)}function LA(){var a=arguments,c=st(a[0]);return a.length<3?c:c.replace(a[1],a[2])}var FA=mo(function(a,c,d){return a+(d?"_":"")+c.toLowerCase()});function $A(a,c,d){return d&&typeof d!="number"&&Fn(a,c,d)&&(c=d=t),d=d===t?se:d>>>0,d?(a=st(a),a&&(typeof c=="string"||c!=null&&!Ff(c))&&(c=si(c),!c&&fr(a))?Yr(Ie(a),0,d):a.split(c,d)):[]}var zA=mo(function(a,c,d){return a+(d?" ":"")+Wf(c)});function WA(a,c,d){return a=st(a),d=d==null?0:vs(ze(d),0,a.length),c=si(c),a.slice(d,d+c.length)==c}function jA(a,c,d){var g=b.templateSettings;d&&Fn(a,c,d)&&(c=t),a=st(a),c=gu({},c,g,I_);var p=gu({},c.imports,g.imports,I_),T=mn(p),R=xa(p,T),L,W,ie=0,re=c.interpolate||us,ae="__p += '",we=ef((c.escape||us).source+"|"+re.source+"|"+(re===Tn?Rh:us).source+"|"+(c.evaluate||us).source+"|$","g"),Te="//# sourceURL="+(mt.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++jh+"]")+`
`;a.replace(we,function(Ne,Ge,Qe,ai,$n,li){return Qe||(Qe=ai),ae+=a.slice(ie,li).replace(Xl,Qh),Ge&&(L=!0,ae+=`' +
__e(`+Ge+`) +
'`),$n&&(W=!0,ae+=`';
`+$n+`;
__p += '`),Qe&&(ae+=`' +
((__t = (`+Qe+`)) == null ? '' : __t) +
'`),ie=li+Ne.length,Ne}),ae+=`';
`;var Me=mt.call(c,"variable")&&c.variable;if(!Me)ae=`with (obj) {
`+ae+`
}
`;else if(Ih.test(Me))throw new ke(l);ae=(W?ae.replace(fn,""):ae).replace(wn,"$1").replace(Sn,"$1;"),ae="function("+(Me||"obj")+`) {
`+(Me?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(L?", __e = _.escape":"")+(W?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ae+`return __p
}`;var je=E1(function(){return $e(T,Te+"return "+ae).apply(t,R)});if(je.source=ae,Lf(je))throw je;return je}function UA(a){return st(a).toLowerCase()}function HA(a){return st(a).toUpperCase()}function qA(a,c,d){if(a=st(a),a&&(d||c===t))return kc(a);if(!a||!(c=si(c)))return a;var g=Ie(a),p=Ie(c),T=Ac(g,p),R=Pc(g,p)+1;return Yr(g,T,R).join("")}function KA(a,c,d){if(a=st(a),a&&(d||c===t))return a.slice(0,Ve(a)+1);if(!a||!(c=si(c)))return a;var g=Ie(a),p=Pc(g,Ie(c))+1;return Yr(g,0,p).join("")}function GA(a,c,d){if(a=st(a),a&&(d||c===t))return a.replace(ft,"");if(!a||!(c=si(c)))return a;var g=Ie(a),p=Ac(g,Ie(c));return Yr(g,p).join("")}function YA(a,c){var d=M,g=D;if(Wt(c)){var p="separator"in c?c.separator:p;d="length"in c?ze(c.length):d,g="omission"in c?si(c.omission):g}a=st(a);var T=a.length;if(fr(a)){var R=Ie(a);T=R.length}if(d>=T)return a;var L=d-Re(g);if(L<1)return g;var W=R?Yr(R,0,L).join(""):a.slice(0,L);if(p===t)return W+g;if(R&&(L+=W.length-L),Ff(p)){if(a.slice(L).search(p)){var ie,re=W;for(p.global||(p=ef(p.source,st(Kl.exec(p))+"g")),p.lastIndex=0;ie=p.exec(re);)var ae=ie.index;W=W.slice(0,ae===t?L:ae)}}else if(a.indexOf(si(p),L)!=L){var we=W.lastIndexOf(p);we>-1&&(W=W.slice(0,we))}return W+g}function JA(a){return a=st(a),a&&Ui.test(a)?a.replace(cn,zt):a}var XA=mo(function(a,c,d){return a+(d?" ":"")+c.toUpperCase()}),Wf=C_("toUpperCase");function y1(a,c,d){return a=st(a),c=d?t:c,c===t?ka(a)?mr(a):Jh(a):a.match(c)||[]}var E1=He(function(a,c){try{return yn(a,t,c)}catch(d){return Lf(d)?d:new ke(d)}}),ZA=wr(function(a,c){return Kn(c,function(d){d=Xi(d),_r(a,d,Bf(a[d],a))}),a});function QA(a){var c=a==null?0:a.length,d=Oe();return a=c?yt(a,function(g){if(typeof g[1]!="function")throw new wi(o);return[d(g[0]),g[1]]}):[],He(function(g){for(var p=-1;++p<c;){var T=a[p];if(yn(T[0],this,g))return yn(T[1],this,g)}})}function eP(a){return TT(yi(a,m))}function jf(a){return function(){return a}}function tP(a,c){return a==null||a!==a?c:a}var nP=T_(),iP=T_(!0);function Xn(a){return a}function Uf(a){return t_(typeof a=="function"?a:yi(a,m))}function rP(a){return i_(yi(a,m))}function sP(a,c){return r_(a,yi(c,m))}var oP=He(function(a,c){return function(d){return Ba(d,a,c)}}),aP=He(function(a,c){return function(d){return Ba(a,d,c)}});function Hf(a,c,d){var g=mn(c),p=Jc(c,g);d==null&&!(Wt(c)&&(p.length||!g.length))&&(d=c,c=a,a=this,p=Jc(c,mn(c)));var T=!(Wt(d)&&"chain"in d)||!!d.chain,R=yr(a);return Kn(p,function(L){var W=c[L];a[L]=W,R&&(a.prototype[L]=function(){var ie=this.__chain__;if(T||ie){var re=a(this.__wrapped__),ae=re.__actions__=Gn(this.__actions__);return ae.push({func:W,args:arguments,thisArg:a}),re.__chain__=ie,re}return W.apply(a,Oi([this.value()],arguments))})}),a}function lP(){return Qt._===this&&(Qt._=NS),this}function qf(){}function cP(a){return a=ze(a),He(function(c){return s_(c,a)})}var uP=Cf(yt),dP=Cf(io),hP=Cf(ya);function C1(a){return If(a)?so(Xi(a)):WT(a)}function fP(a){return function(c){return a==null?t:ws(a,c)}}var mP=k_(),gP=k_(!0);function Kf(){return[]}function Gf(){return!1}function pP(){return{}}function _P(){return""}function vP(){return!0}function wP(a,c){if(a=ze(a),a<1||a>te)return[];var d=se,g=kn(a,se);c=Oe(c),a-=se;for(var p=Ta(g,c);++d<a;)c(d);return p}function bP(a){return Le(a)?yt(a,Xi):oi(a)?[a]:Gn(j_(st(a)))}function yP(a){var c=++OS;return st(a)+c}var EP=nu(function(a,c){return a+c},0),CP=Sf("ceil"),SP=nu(function(a,c){return a/c},1),TP=Sf("floor");function xP(a){return a&&a.length?Yc(a,Xn,cf):t}function kP(a,c){return a&&a.length?Yc(a,Oe(c,2),cf):t}function AP(a){return xc(a,Xn)}function PP(a,c){return xc(a,Oe(c,2))}function IP(a){return a&&a.length?Yc(a,Xn,ff):t}function RP(a,c){return a&&a.length?Yc(a,Oe(c,2),ff):t}var OP=nu(function(a,c){return a*c},1),MP=Sf("round"),NP=nu(function(a,c){return a-c},0);function DP(a){return a&&a.length?Sa(a,Xn):0}function BP(a,c){return a&&a.length?Sa(a,Oe(c,2)):0}return b.after=rk,b.ary=e1,b.assign=Hk,b.assignIn=m1,b.assignInWith=gu,b.assignWith=qk,b.at=Kk,b.before=t1,b.bind=Bf,b.bindAll=ZA,b.bindKey=n1,b.castArray=pk,b.chain=X_,b.chunk=Tx,b.compact=xx,b.concat=kx,b.cond=QA,b.conforms=eP,b.constant=jf,b.countBy=D2,b.create=Gk,b.curry=i1,b.curryRight=r1,b.debounce=s1,b.defaults=Yk,b.defaultsDeep=Jk,b.defer=sk,b.delay=ok,b.difference=Ax,b.differenceBy=Px,b.differenceWith=Ix,b.drop=Rx,b.dropRight=Ox,b.dropRightWhile=Mx,b.dropWhile=Nx,b.fill=Dx,b.filter=V2,b.flatMap=$2,b.flatMapDeep=z2,b.flatMapDepth=W2,b.flatten=K_,b.flattenDeep=Bx,b.flattenDepth=Vx,b.flip=ak,b.flow=nP,b.flowRight=iP,b.fromPairs=Lx,b.functions=iA,b.functionsIn=rA,b.groupBy=j2,b.initial=$x,b.intersection=zx,b.intersectionBy=Wx,b.intersectionWith=jx,b.invert=oA,b.invertBy=aA,b.invokeMap=H2,b.iteratee=Uf,b.keyBy=q2,b.keys=mn,b.keysIn=Jn,b.map=cu,b.mapKeys=cA,b.mapValues=uA,b.matches=rP,b.matchesProperty=sP,b.memoize=du,b.merge=dA,b.mergeWith=g1,b.method=oP,b.methodOf=aP,b.mixin=Hf,b.negate=hu,b.nthArg=cP,b.omit=hA,b.omitBy=fA,b.once=lk,b.orderBy=K2,b.over=uP,b.overArgs=ck,b.overEvery=dP,b.overSome=hP,b.partial=Vf,b.partialRight=o1,b.partition=G2,b.pick=mA,b.pickBy=p1,b.property=C1,b.propertyOf=fP,b.pull=Kx,b.pullAll=Y_,b.pullAllBy=Gx,b.pullAllWith=Yx,b.pullAt=Jx,b.range=mP,b.rangeRight=gP,b.rearg=uk,b.reject=X2,b.remove=Xx,b.rest=dk,b.reverse=Nf,b.sampleSize=Q2,b.set=pA,b.setWith=_A,b.shuffle=ek,b.slice=Zx,b.sortBy=ik,b.sortedUniq=s2,b.sortedUniqBy=o2,b.split=$A,b.spread=hk,b.tail=a2,b.take=l2,b.takeRight=c2,b.takeRightWhile=u2,b.takeWhile=d2,b.tap=x2,b.throttle=fk,b.thru=lu,b.toArray=d1,b.toPairs=_1,b.toPairsIn=v1,b.toPath=bP,b.toPlainObject=f1,b.transform=vA,b.unary=mk,b.union=h2,b.unionBy=f2,b.unionWith=m2,b.uniq=g2,b.uniqBy=p2,b.uniqWith=_2,b.unset=wA,b.unzip=Df,b.unzipWith=J_,b.update=bA,b.updateWith=yA,b.values=_o,b.valuesIn=EA,b.without=v2,b.words=y1,b.wrap=gk,b.xor=w2,b.xorBy=b2,b.xorWith=y2,b.zip=E2,b.zipObject=C2,b.zipObjectDeep=S2,b.zipWith=T2,b.entries=_1,b.entriesIn=v1,b.extend=m1,b.extendWith=gu,Hf(b,b),b.add=EP,b.attempt=E1,b.camelCase=xA,b.capitalize=w1,b.ceil=CP,b.clamp=CA,b.clone=_k,b.cloneDeep=wk,b.cloneDeepWith=bk,b.cloneWith=vk,b.conformsTo=yk,b.deburr=b1,b.defaultTo=tP,b.divide=SP,b.endsWith=kA,b.eq=Ni,b.escape=AA,b.escapeRegExp=PA,b.every=B2,b.find=L2,b.findIndex=H_,b.findKey=Xk,b.findLast=F2,b.findLastIndex=q_,b.findLastKey=Zk,b.floor=TP,b.forEach=Z_,b.forEachRight=Q_,b.forIn=Qk,b.forInRight=eA,b.forOwn=tA,b.forOwnRight=nA,b.get=$f,b.gt=Ek,b.gte=Ck,b.has=sA,b.hasIn=zf,b.head=G_,b.identity=Xn,b.includes=U2,b.indexOf=Fx,b.inRange=SA,b.invoke=lA,b.isArguments=Es,b.isArray=Le,b.isArrayBuffer=Sk,b.isArrayLike=Yn,b.isArrayLikeObject=en,b.isBoolean=Tk,b.isBuffer=Jr,b.isDate=xk,b.isElement=kk,b.isEmpty=Ak,b.isEqual=Pk,b.isEqualWith=Ik,b.isError=Lf,b.isFinite=Rk,b.isFunction=yr,b.isInteger=a1,b.isLength=fu,b.isMap=l1,b.isMatch=Ok,b.isMatchWith=Mk,b.isNaN=Nk,b.isNative=Dk,b.isNil=Vk,b.isNull=Bk,b.isNumber=c1,b.isObject=Wt,b.isObjectLike=jt,b.isPlainObject=Wa,b.isRegExp=Ff,b.isSafeInteger=Lk,b.isSet=u1,b.isString=mu,b.isSymbol=oi,b.isTypedArray=po,b.isUndefined=Fk,b.isWeakMap=$k,b.isWeakSet=zk,b.join=Ux,b.kebabCase=IA,b.last=Ci,b.lastIndexOf=Hx,b.lowerCase=RA,b.lowerFirst=OA,b.lt=Wk,b.lte=jk,b.max=xP,b.maxBy=kP,b.mean=AP,b.meanBy=PP,b.min=IP,b.minBy=RP,b.stubArray=Kf,b.stubFalse=Gf,b.stubObject=pP,b.stubString=_P,b.stubTrue=vP,b.multiply=OP,b.nth=qx,b.noConflict=lP,b.noop=qf,b.now=uu,b.pad=MA,b.padEnd=NA,b.padStart=DA,b.parseInt=BA,b.random=TA,b.reduce=Y2,b.reduceRight=J2,b.repeat=VA,b.replace=LA,b.result=gA,b.round=MP,b.runInContext=F,b.sample=Z2,b.size=tk,b.snakeCase=FA,b.some=nk,b.sortedIndex=Qx,b.sortedIndexBy=e2,b.sortedIndexOf=t2,b.sortedLastIndex=n2,b.sortedLastIndexBy=i2,b.sortedLastIndexOf=r2,b.startCase=zA,b.startsWith=WA,b.subtract=NP,b.sum=DP,b.sumBy=BP,b.template=jA,b.times=wP,b.toFinite=Er,b.toInteger=ze,b.toLength=h1,b.toLower=UA,b.toNumber=Si,b.toSafeInteger=Uk,b.toString=st,b.toUpper=HA,b.trim=qA,b.trimEnd=KA,b.trimStart=GA,b.truncate=YA,b.unescape=JA,b.uniqueId=yP,b.upperCase=XA,b.upperFirst=Wf,b.each=Z_,b.eachRight=Q_,b.first=G_,Hf(b,function(){var a={};return Yi(b,function(c,d){mt.call(b.prototype,d)||(a[d]=c)}),a}(),{chain:!1}),b.VERSION=n,Kn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){b[a].placeholder=b}),Kn(["drop","take"],function(a,c){Je.prototype[a]=function(d){d=d===t?1:un(ze(d),0);var g=this.__filtered__&&!c?new Je(this):this.clone();return g.__filtered__?g.__takeCount__=kn(d,g.__takeCount__):g.__views__.push({size:kn(d,se),type:a+(g.__dir__<0?"Right":"")}),g},Je.prototype[a+"Right"]=function(d){return this.reverse()[a](d).reverse()}}),Kn(["filter","map","takeWhile"],function(a,c){var d=c+1,g=d==Y||d==me;Je.prototype[a]=function(p){var T=this.clone();return T.__iteratees__.push({iteratee:Oe(p,3),type:d}),T.__filtered__=T.__filtered__||g,T}}),Kn(["head","last"],function(a,c){var d="take"+(c?"Right":"");Je.prototype[a]=function(){return this[d](1).value()[0]}}),Kn(["initial","tail"],function(a,c){var d="drop"+(c?"":"Right");Je.prototype[a]=function(){return this.__filtered__?new Je(this):this[d](1)}}),Je.prototype.compact=function(){return this.filter(Xn)},Je.prototype.find=function(a){return this.filter(a).head()},Je.prototype.findLast=function(a){return this.reverse().find(a)},Je.prototype.invokeMap=He(function(a,c){return typeof a=="function"?new Je(this):this.map(function(d){return Ba(d,a,c)})}),Je.prototype.reject=function(a){return this.filter(hu(Oe(a)))},Je.prototype.slice=function(a,c){a=ze(a);var d=this;return d.__filtered__&&(a>0||c<0)?new Je(d):(a<0?d=d.takeRight(-a):a&&(d=d.drop(a)),c!==t&&(c=ze(c),d=c<0?d.dropRight(-c):d.take(c-a)),d)},Je.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},Je.prototype.toArray=function(){return this.take(se)},Yi(Je.prototype,function(a,c){var d=/^(?:filter|find|map|reject)|While$/.test(c),g=/^(?:head|last)$/.test(c),p=b[g?"take"+(c=="last"?"Right":""):c],T=g||/^find/.test(c);p&&(b.prototype[c]=function(){var R=this.__wrapped__,L=g?[1]:arguments,W=R instanceof Je,ie=L[0],re=W||Le(R),ae=function(Ge){var Qe=p.apply(b,Oi([Ge],L));return g&&we?Qe[0]:Qe};re&&d&&typeof ie=="function"&&ie.length!=1&&(W=re=!1);var we=this.__chain__,Te=!!this.__actions__.length,Me=T&&!we,je=W&&!Te;if(!T&&re){R=je?R:new Je(this);var Ne=a.apply(R,L);return Ne.__actions__.push({func:lu,args:[ae],thisArg:t}),new bi(Ne,we)}return Me&&je?a.apply(this,L):(Ne=this.thru(ae),Me?g?Ne.value()[0]:Ne.value():Ne)})}),Kn(["pop","push","shift","sort","splice","unshift"],function(a){var c=Nc[a],d=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",g=/^(?:pop|shift)$/.test(a);b.prototype[a]=function(){var p=arguments;if(g&&!this.__chain__){var T=this.value();return c.apply(Le(T)?T:[],p)}return this[d](function(R){return c.apply(Le(R)?R:[],p)})}}),Yi(Je.prototype,function(a,c){var d=b[c];if(d){var g=d.name+"";mt.call(uo,g)||(uo[g]=[]),uo[g].push({name:c,func:d})}}),uo[tu(t,N).name]=[{name:"wrapper",func:t}],Je.prototype.clone=JS,Je.prototype.reverse=XS,Je.prototype.value=ZS,b.prototype.at=k2,b.prototype.chain=A2,b.prototype.commit=P2,b.prototype.next=I2,b.prototype.plant=O2,b.prototype.reverse=M2,b.prototype.toJSON=b.prototype.valueOf=b.prototype.value=N2,b.prototype.first=b.prototype.head,Pa&&(b.prototype[Pa]=R2),b},ri=_i();Hi?((Hi.exports=ri)._=ri,to._=ri):Qt._=ri}).call(et)})($P,od);const nl=od.runInContext();nl.mixin({setIn:(i,e,t)=>nl.setWith(nl.clone(i),e,t,nl.clone)});const T1=nl;function Ae(){return Ae=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},Ae.apply(this,arguments)}var Rs={};function pu(i){return i!==null&&typeof i=="object"&&i.constructor===Object}function ki(i,e,t={clone:!0}){const n=t.clone?Ae({},i):i;return pu(i)&&pu(e)&&Object.keys(e).forEach(r=>{r!=="__proto__"&&(pu(e[r])&&r in i&&pu(i[r])?n[r]=ki(i[r],e[r],t):n[r]=e[r])}),n}var Ue={},x1={get exports(){return Ue},set exports(i){Ue=i}},ad={},zP={get exports(){return ad},set exports(i){ad=i}},ot={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k1;function WP(){if(k1)return ot;k1=1;var i=typeof Symbol=="function"&&Symbol.for,e=i?Symbol.for("react.element"):60103,t=i?Symbol.for("react.portal"):60106,n=i?Symbol.for("react.fragment"):60107,r=i?Symbol.for("react.strict_mode"):60108,s=i?Symbol.for("react.profiler"):60114,o=i?Symbol.for("react.provider"):60109,l=i?Symbol.for("react.context"):60110,u=i?Symbol.for("react.async_mode"):60111,h=i?Symbol.for("react.concurrent_mode"):60111,f=i?Symbol.for("react.forward_ref"):60112,m=i?Symbol.for("react.suspense"):60113,v=i?Symbol.for("react.suspense_list"):60120,C=i?Symbol.for("react.memo"):60115,k=i?Symbol.for("react.lazy"):60116,S=i?Symbol.for("react.block"):60121,x=i?Symbol.for("react.fundamental"):60117,N=i?Symbol.for("react.responder"):60118,y=i?Symbol.for("react.scope"):60119;function A(E){if(typeof E=="object"&&E!==null){var V=E.$$typeof;switch(V){case e:switch(E=E.type,E){case u:case h:case n:case s:case r:case m:return E;default:switch(E=E&&E.$$typeof,E){case l:case f:case k:case C:case o:return E;default:return V}}case t:return V}}}function P(E){return A(E)===h}return ot.AsyncMode=u,ot.ConcurrentMode=h,ot.ContextConsumer=l,ot.ContextProvider=o,ot.Element=e,ot.ForwardRef=f,ot.Fragment=n,ot.Lazy=k,ot.Memo=C,ot.Portal=t,ot.Profiler=s,ot.StrictMode=r,ot.Suspense=m,ot.isAsyncMode=function(E){return P(E)||A(E)===u},ot.isConcurrentMode=P,ot.isContextConsumer=function(E){return A(E)===l},ot.isContextProvider=function(E){return A(E)===o},ot.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===e},ot.isForwardRef=function(E){return A(E)===f},ot.isFragment=function(E){return A(E)===n},ot.isLazy=function(E){return A(E)===k},ot.isMemo=function(E){return A(E)===C},ot.isPortal=function(E){return A(E)===t},ot.isProfiler=function(E){return A(E)===s},ot.isStrictMode=function(E){return A(E)===r},ot.isSuspense=function(E){return A(E)===m},ot.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===h||E===s||E===r||E===m||E===v||typeof E=="object"&&E!==null&&(E.$$typeof===k||E.$$typeof===C||E.$$typeof===o||E.$$typeof===l||E.$$typeof===f||E.$$typeof===x||E.$$typeof===N||E.$$typeof===y||E.$$typeof===S)},ot.typeOf=A,ot}var at={};/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A1;function jP(){return A1||(A1=1,process.env.NODE_ENV!=="production"&&function(){var i=typeof Symbol=="function"&&Symbol.for,e=i?Symbol.for("react.element"):60103,t=i?Symbol.for("react.portal"):60106,n=i?Symbol.for("react.fragment"):60107,r=i?Symbol.for("react.strict_mode"):60108,s=i?Symbol.for("react.profiler"):60114,o=i?Symbol.for("react.provider"):60109,l=i?Symbol.for("react.context"):60110,u=i?Symbol.for("react.async_mode"):60111,h=i?Symbol.for("react.concurrent_mode"):60111,f=i?Symbol.for("react.forward_ref"):60112,m=i?Symbol.for("react.suspense"):60113,v=i?Symbol.for("react.suspense_list"):60120,C=i?Symbol.for("react.memo"):60115,k=i?Symbol.for("react.lazy"):60116,S=i?Symbol.for("react.block"):60121,x=i?Symbol.for("react.fundamental"):60117,N=i?Symbol.for("react.responder"):60118,y=i?Symbol.for("react.scope"):60119;function A(q){return typeof q=="string"||typeof q=="function"||q===n||q===h||q===s||q===r||q===m||q===v||typeof q=="object"&&q!==null&&(q.$$typeof===k||q.$$typeof===C||q.$$typeof===o||q.$$typeof===l||q.$$typeof===f||q.$$typeof===x||q.$$typeof===N||q.$$typeof===y||q.$$typeof===S)}function P(q){if(typeof q=="object"&&q!==null){var Ze=q.$$typeof;switch(Ze){case e:var de=q.type;switch(de){case u:case h:case n:case s:case r:case m:return de;default:var Ye=de&&de.$$typeof;switch(Ye){case l:case f:case k:case C:case o:return Ye;default:return Ze}}case t:return Ze}}}var E=u,V=h,j=l,U=o,$=e,M=f,D=n,J=k,H=C,Y=t,le=s,me=r,ee=m,te=!1;function ne(q){return te||(te=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),z(q)||P(q)===u}function z(q){return P(q)===h}function se(q){return P(q)===l}function ve(q){return P(q)===o}function ue(q){return typeof q=="object"&&q!==null&&q.$$typeof===e}function ce(q){return P(q)===f}function he(q){return P(q)===n}function be(q){return P(q)===k}function Ee(q){return P(q)===C}function Pe(q){return P(q)===t}function Se(q){return P(q)===s}function ye(q){return P(q)===r}function De(q){return P(q)===m}at.AsyncMode=E,at.ConcurrentMode=V,at.ContextConsumer=j,at.ContextProvider=U,at.Element=$,at.ForwardRef=M,at.Fragment=D,at.Lazy=J,at.Memo=H,at.Portal=Y,at.Profiler=le,at.StrictMode=me,at.Suspense=ee,at.isAsyncMode=ne,at.isConcurrentMode=z,at.isContextConsumer=se,at.isContextProvider=ve,at.isElement=ue,at.isForwardRef=ce,at.isFragment=he,at.isLazy=be,at.isMemo=Ee,at.isPortal=Pe,at.isProfiler=Se,at.isStrictMode=ye,at.isSuspense=De,at.isValidElementType=A,at.typeOf=P}()),at}var P1;function O0(){return P1||(P1=1,function(i){process.env.NODE_ENV==="production"?i.exports=WP():i.exports=jP()}(zP)),ad}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Yf,I1;function UP(){if(I1)return Yf;I1=1;var i=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable;function n(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}function r(){try{if(!Object.assign)return!1;var s=new String("abc");if(s[5]="de",Object.getOwnPropertyNames(s)[0]==="5")return!1;for(var o={},l=0;l<10;l++)o["_"+String.fromCharCode(l)]=l;var u=Object.getOwnPropertyNames(o).map(function(f){return o[f]});if(u.join("")!=="0123456789")return!1;var h={};return"abcdefghijklmnopqrst".split("").forEach(function(f){h[f]=f}),Object.keys(Object.assign({},h)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return Yf=r()?Object.assign:function(s,o){for(var l,u=n(s),h,f=1;f<arguments.length;f++){l=Object(arguments[f]);for(var m in l)e.call(l,m)&&(u[m]=l[m]);if(i){h=i(l);for(var v=0;v<h.length;v++)t.call(l,h[v])&&(u[h[v]]=l[h[v]])}}return u},Yf}var Jf,R1;function kg(){if(R1)return Jf;R1=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Jf=i,Jf}var Xf,O1;function M0(){return O1||(O1=1,Xf=Function.call.bind(Object.prototype.hasOwnProperty)),Xf}var Zf,M1;function HP(){if(M1)return Zf;M1=1;var i=function(){};if(process.env.NODE_ENV!=="production"){var e=kg(),t={},n=M0();i=function(s){var o="Warning: "+s;typeof console<"u"&&console.error(o);try{throw new Error(o)}catch{}}}function r(s,o,l,u,h){if(process.env.NODE_ENV!=="production"){for(var f in s)if(n(s,f)){var m;try{if(typeof s[f]!="function"){var v=Error((u||"React class")+": "+l+" type `"+f+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof s[f]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw v.name="Invariant Violation",v}m=s[f](o,f,u,l,null,e)}catch(k){m=k}if(m&&!(m instanceof Error)&&i((u||"React class")+": type specification of "+l+" `"+f+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof m+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),m instanceof Error&&!(m.message in t)){t[m.message]=!0;var C=h?h():"";i("Failed "+l+" type: "+m.message+(C??""))}}}}return r.resetWarningCache=function(){process.env.NODE_ENV!=="production"&&(t={})},Zf=r,Zf}var Qf,N1;function qP(){if(N1)return Qf;N1=1;var i=O0(),e=UP(),t=kg(),n=M0(),r=HP(),s=function(){};process.env.NODE_ENV!=="production"&&(s=function(l){var u="Warning: "+l;typeof console<"u"&&console.error(u);try{throw new Error(u)}catch{}});function o(){return null}return Qf=function(l,u){var h=typeof Symbol=="function"&&Symbol.iterator,f="@@iterator";function m(z){var se=z&&(h&&z[h]||z[f]);if(typeof se=="function")return se}var v="<<anonymous>>",C={array:N("array"),bigint:N("bigint"),bool:N("boolean"),func:N("function"),number:N("number"),object:N("object"),string:N("string"),symbol:N("symbol"),any:y(),arrayOf:A,element:P(),elementType:E(),instanceOf:V,node:M(),objectOf:U,oneOf:j,oneOfType:$,shape:J,exact:H};function k(z,se){return z===se?z!==0||1/z===1/se:z!==z&&se!==se}function S(z,se){this.message=z,this.data=se&&typeof se=="object"?se:{},this.stack=""}S.prototype=Error.prototype;function x(z){if(process.env.NODE_ENV!=="production")var se={},ve=0;function ue(he,be,Ee,Pe,Se,ye,De){if(Pe=Pe||v,ye=ye||Ee,De!==t){if(u){var q=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw q.name="Invariant Violation",q}else if(process.env.NODE_ENV!=="production"&&typeof console<"u"){var Ze=Pe+":"+Ee;!se[Ze]&&ve<3&&(s("You are manually calling a React.PropTypes validation function for the `"+ye+"` prop on `"+Pe+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),se[Ze]=!0,ve++)}}return be[Ee]==null?he?be[Ee]===null?new S("The "+Se+" `"+ye+"` is marked as required "+("in `"+Pe+"`, but its value is `null`.")):new S("The "+Se+" `"+ye+"` is marked as required in "+("`"+Pe+"`, but its value is `undefined`.")):null:z(be,Ee,Pe,Se,ye)}var ce=ue.bind(null,!1);return ce.isRequired=ue.bind(null,!0),ce}function N(z){function se(ve,ue,ce,he,be,Ee){var Pe=ve[ue],Se=me(Pe);if(Se!==z){var ye=ee(Pe);return new S("Invalid "+he+" `"+be+"` of type "+("`"+ye+"` supplied to `"+ce+"`, expected ")+("`"+z+"`."),{expectedType:z})}return null}return x(se)}function y(){return x(o)}function A(z){function se(ve,ue,ce,he,be){if(typeof z!="function")return new S("Property `"+be+"` of component `"+ce+"` has invalid PropType notation inside arrayOf.");var Ee=ve[ue];if(!Array.isArray(Ee)){var Pe=me(Ee);return new S("Invalid "+he+" `"+be+"` of type "+("`"+Pe+"` supplied to `"+ce+"`, expected an array."))}for(var Se=0;Se<Ee.length;Se++){var ye=z(Ee,Se,ce,he,be+"["+Se+"]",t);if(ye instanceof Error)return ye}return null}return x(se)}function P(){function z(se,ve,ue,ce,he){var be=se[ve];if(!l(be)){var Ee=me(be);return new S("Invalid "+ce+" `"+he+"` of type "+("`"+Ee+"` supplied to `"+ue+"`, expected a single ReactElement."))}return null}return x(z)}function E(){function z(se,ve,ue,ce,he){var be=se[ve];if(!i.isValidElementType(be)){var Ee=me(be);return new S("Invalid "+ce+" `"+he+"` of type "+("`"+Ee+"` supplied to `"+ue+"`, expected a single ReactElement type."))}return null}return x(z)}function V(z){function se(ve,ue,ce,he,be){if(!(ve[ue]instanceof z)){var Ee=z.name||v,Pe=ne(ve[ue]);return new S("Invalid "+he+" `"+be+"` of type "+("`"+Pe+"` supplied to `"+ce+"`, expected ")+("instance of `"+Ee+"`."))}return null}return x(se)}function j(z){if(!Array.isArray(z))return process.env.NODE_ENV!=="production"&&(arguments.length>1?s("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):s("Invalid argument supplied to oneOf, expected an array.")),o;function se(ve,ue,ce,he,be){for(var Ee=ve[ue],Pe=0;Pe<z.length;Pe++)if(k(Ee,z[Pe]))return null;var Se=JSON.stringify(z,function(De,q){var Ze=ee(q);return Ze==="symbol"?String(q):q});return new S("Invalid "+he+" `"+be+"` of value `"+String(Ee)+"` "+("supplied to `"+ce+"`, expected one of "+Se+"."))}return x(se)}function U(z){function se(ve,ue,ce,he,be){if(typeof z!="function")return new S("Property `"+be+"` of component `"+ce+"` has invalid PropType notation inside objectOf.");var Ee=ve[ue],Pe=me(Ee);if(Pe!=="object")return new S("Invalid "+he+" `"+be+"` of type "+("`"+Pe+"` supplied to `"+ce+"`, expected an object."));for(var Se in Ee)if(n(Ee,Se)){var ye=z(Ee,Se,ce,he,be+"."+Se,t);if(ye instanceof Error)return ye}return null}return x(se)}function $(z){if(!Array.isArray(z))return process.env.NODE_ENV!=="production"&&s("Invalid argument supplied to oneOfType, expected an instance of array."),o;for(var se=0;se<z.length;se++){var ve=z[se];if(typeof ve!="function")return s("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+te(ve)+" at index "+se+"."),o}function ue(ce,he,be,Ee,Pe){for(var Se=[],ye=0;ye<z.length;ye++){var De=z[ye],q=De(ce,he,be,Ee,Pe,t);if(q==null)return null;q.data&&n(q.data,"expectedType")&&Se.push(q.data.expectedType)}var Ze=Se.length>0?", expected one of type ["+Se.join(", ")+"]":"";return new S("Invalid "+Ee+" `"+Pe+"` supplied to "+("`"+be+"`"+Ze+"."))}return x(ue)}function M(){function z(se,ve,ue,ce,he){return Y(se[ve])?null:new S("Invalid "+ce+" `"+he+"` supplied to "+("`"+ue+"`, expected a ReactNode."))}return x(z)}function D(z,se,ve,ue,ce){return new S((z||"React class")+": "+se+" type `"+ve+"."+ue+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+ce+"`.")}function J(z){function se(ve,ue,ce,he,be){var Ee=ve[ue],Pe=me(Ee);if(Pe!=="object")return new S("Invalid "+he+" `"+be+"` of type `"+Pe+"` "+("supplied to `"+ce+"`, expected `object`."));for(var Se in z){var ye=z[Se];if(typeof ye!="function")return D(ce,he,be,Se,ee(ye));var De=ye(Ee,Se,ce,he,be+"."+Se,t);if(De)return De}return null}return x(se)}function H(z){function se(ve,ue,ce,he,be){var Ee=ve[ue],Pe=me(Ee);if(Pe!=="object")return new S("Invalid "+he+" `"+be+"` of type `"+Pe+"` "+("supplied to `"+ce+"`, expected `object`."));var Se=e({},ve[ue],z);for(var ye in Se){var De=z[ye];if(n(z,ye)&&typeof De!="function")return D(ce,he,be,ye,ee(De));if(!De)return new S("Invalid "+he+" `"+be+"` key `"+ye+"` supplied to `"+ce+"`.\nBad object: "+JSON.stringify(ve[ue],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(z),null,"  "));var q=De(Ee,ye,ce,he,be+"."+ye,t);if(q)return q}return null}return x(se)}function Y(z){switch(typeof z){case"number":case"string":case"undefined":return!0;case"boolean":return!z;case"object":if(Array.isArray(z))return z.every(Y);if(z===null||l(z))return!0;var se=m(z);if(se){var ve=se.call(z),ue;if(se!==z.entries){for(;!(ue=ve.next()).done;)if(!Y(ue.value))return!1}else for(;!(ue=ve.next()).done;){var ce=ue.value;if(ce&&!Y(ce[1]))return!1}}else return!1;return!0;default:return!1}}function le(z,se){return z==="symbol"?!0:se?se["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&se instanceof Symbol:!1}function me(z){var se=typeof z;return Array.isArray(z)?"array":z instanceof RegExp?"object":le(se,z)?"symbol":se}function ee(z){if(typeof z>"u"||z===null)return""+z;var se=me(z);if(se==="object"){if(z instanceof Date)return"date";if(z instanceof RegExp)return"regexp"}return se}function te(z){var se=ee(z);switch(se){case"array":case"object":return"an "+se;case"boolean":case"date":case"regexp":return"a "+se;default:return se}}function ne(z){return!z.constructor||!z.constructor.name?v:z.constructor.name}return C.checkPropTypes=r,C.resetWarningCache=r.resetWarningCache,C.PropTypes=C,C},Qf}var em,D1;function KP(){if(D1)return em;D1=1;var i=kg();function e(){}function t(){}return t.resetWarningCache=e,em=function(){function n(o,l,u,h,f,m){if(m!==i){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}n.isRequired=n;function r(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:r,element:n,elementType:n,instanceOf:r,node:n,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},em}if(process.env.NODE_ENV!=="production"){var GP=O0(),YP=!0;x1.exports=qP()(GP.isElement,YP)}else x1.exports=KP()();const JP="exact-prop: ​";function N0(i){return process.env.NODE_ENV==="production"?i:Ae({},i,{[JP]:e=>{const t=Object.keys(e).filter(n=>!i.hasOwnProperty(n));return t.length>0?new Error(`The following props are not supported: ${t.map(n=>`\`${n}\``).join(", ")}. Please remove them.`):null}})}function Pi(i){let e="https://mui.com/production-error/?code="+i;for(let t=1;t<arguments.length;t+=1)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified MUI error #"+i+"; visit "+e+" for the full message."}var ld={},XP={get exports(){return ld},set exports(i){ld=i}},lt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B1;function ZP(){if(B1)return lt;B1=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),C=Symbol.for("react.offscreen"),k;k=Symbol.for("react.module.reference");function S(x){if(typeof x=="object"&&x!==null){var N=x.$$typeof;switch(N){case i:switch(x=x.type,x){case t:case r:case n:case h:case f:return x;default:switch(x=x&&x.$$typeof,x){case l:case o:case u:case v:case m:case s:return x;default:return N}}case e:return N}}}return lt.ContextConsumer=o,lt.ContextProvider=s,lt.Element=i,lt.ForwardRef=u,lt.Fragment=t,lt.Lazy=v,lt.Memo=m,lt.Portal=e,lt.Profiler=r,lt.StrictMode=n,lt.Suspense=h,lt.SuspenseList=f,lt.isAsyncMode=function(){return!1},lt.isConcurrentMode=function(){return!1},lt.isContextConsumer=function(x){return S(x)===o},lt.isContextProvider=function(x){return S(x)===s},lt.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===i},lt.isForwardRef=function(x){return S(x)===u},lt.isFragment=function(x){return S(x)===t},lt.isLazy=function(x){return S(x)===v},lt.isMemo=function(x){return S(x)===m},lt.isPortal=function(x){return S(x)===e},lt.isProfiler=function(x){return S(x)===r},lt.isStrictMode=function(x){return S(x)===n},lt.isSuspense=function(x){return S(x)===h},lt.isSuspenseList=function(x){return S(x)===f},lt.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===t||x===r||x===n||x===h||x===f||x===C||typeof x=="object"&&x!==null&&(x.$$typeof===v||x.$$typeof===m||x.$$typeof===s||x.$$typeof===o||x.$$typeof===u||x.$$typeof===k||x.getModuleId!==void 0)},lt.typeOf=S,lt}var ct={};/**
 * @license React
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V1;function QP(){return V1||(V1=1,process.env.NODE_ENV!=="production"&&function(){var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),C=Symbol.for("react.offscreen"),k=!1,S=!1,x=!1,N=!1,y=!1,A;A=Symbol.for("react.module.reference");function P(de){return!!(typeof de=="string"||typeof de=="function"||de===t||de===r||y||de===n||de===h||de===f||N||de===C||k||S||x||typeof de=="object"&&de!==null&&(de.$$typeof===v||de.$$typeof===m||de.$$typeof===s||de.$$typeof===o||de.$$typeof===u||de.$$typeof===A||de.getModuleId!==void 0))}function E(de){if(typeof de=="object"&&de!==null){var Ye=de.$$typeof;switch(Ye){case i:var rn=de.type;switch(rn){case t:case r:case n:case h:case f:return rn;default:var sn=rn&&rn.$$typeof;switch(sn){case l:case o:case u:case v:case m:case s:return sn;default:return Ye}}case e:return Ye}}}var V=o,j=s,U=i,$=u,M=t,D=v,J=m,H=e,Y=r,le=n,me=h,ee=f,te=!1,ne=!1;function z(de){return te||(te=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 18+.")),!1}function se(de){return ne||(ne=!0,console.warn("The ReactIs.isConcurrentMode() alias has been deprecated, and will be removed in React 18+.")),!1}function ve(de){return E(de)===o}function ue(de){return E(de)===s}function ce(de){return typeof de=="object"&&de!==null&&de.$$typeof===i}function he(de){return E(de)===u}function be(de){return E(de)===t}function Ee(de){return E(de)===v}function Pe(de){return E(de)===m}function Se(de){return E(de)===e}function ye(de){return E(de)===r}function De(de){return E(de)===n}function q(de){return E(de)===h}function Ze(de){return E(de)===f}ct.ContextConsumer=V,ct.ContextProvider=j,ct.Element=U,ct.ForwardRef=$,ct.Fragment=M,ct.Lazy=D,ct.Memo=J,ct.Portal=H,ct.Profiler=Y,ct.StrictMode=le,ct.Suspense=me,ct.SuspenseList=ee,ct.isAsyncMode=z,ct.isConcurrentMode=se,ct.isContextConsumer=ve,ct.isContextProvider=ue,ct.isElement=ce,ct.isForwardRef=he,ct.isFragment=be,ct.isLazy=Ee,ct.isMemo=Pe,ct.isPortal=Se,ct.isProfiler=ye,ct.isStrictMode=De,ct.isSuspense=q,ct.isSuspenseList=Ze,ct.isValidElementType=P,ct.typeOf=E}()),ct}(function(i){process.env.NODE_ENV==="production"?i.exports=ZP():i.exports=QP()})(XP);const e5=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function t5(i){const e=`${i}`.match(e5);return e&&e[1]||""}function D0(i,e=""){return i.displayName||i.name||t5(i)||e}function L1(i,e,t){const n=D0(e);return i.displayName||(n!==""?`${t}(${n})`:t)}function n5(i){if(i!=null){if(typeof i=="string")return i;if(typeof i=="function")return D0(i,"Component");if(typeof i=="object")switch(i.$$typeof){case ld.ForwardRef:return L1(i,i.render,"ForwardRef");case ld.Memo:return L1(i,i.type,"memo");default:return}}}function ol(i){if(typeof i!="string")throw new Error(process.env.NODE_ENV!=="production"?"MUI: `capitalize(string)` expects a string argument.":Pi(7));return i.charAt(0).toUpperCase()+i.slice(1)}function B0(i,e){const t=Ae({},e);return Object.keys(i).forEach(n=>{if(n.toString().match(/^(components|slots)$/))t[n]=Ae({},i[n],t[n]);else if(n.toString().match(/^(componentsProps|slotProps)$/)){const r=i[n]||{},s=e[n];t[n]={},!s||!Object.keys(s)?t[n]=r:!r||!Object.keys(r)?t[n]=s:(t[n]=Ae({},s),Object.keys(r).forEach(o=>{t[n][o]=B0(r[o],s[o])}))}else t[n]===void 0&&(t[n]=i[n])}),t}const F1=i=>i,i5=()=>{let i=F1;return{configure(e){i=e},generate(e){return i(e)},reset(){i=F1}}},r5=i5(),s5=r5,o5={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function a5(i,e,t="Mui"){const n=o5[e];return n?`${t}-${n}`:`${s5.generate(i)}-${e}`}function Wn(i,e){if(i==null)return{};var t={},n=Object.keys(i),r,s;for(s=0;s<n.length;s++)r=n[s],!(e.indexOf(r)>=0)&&(t[r]=i[r]);return t}var cd={},l5={get exports(){return cd},set exports(i){cd=i}},$1;function kl(){return $1||($1=1,function(i){function e(){return i.exports=e=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},i.exports.__esModule=!0,i.exports.default=i.exports,e.apply(this,arguments)}i.exports=e,i.exports.__esModule=!0,i.exports.default=i.exports}(l5)),cd}kl();var ud={},c5={get exports(){return ud},set exports(i){ud=i}},_u={},z1;function u5(){if(z1)return _u;z1=1,Object.defineProperty(_u,"__esModule",{value:!0});function i(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}return _u.default=i,_u}var vu={},W1;function d5(){if(W1)return vu;W1=1,Object.defineProperty(vu,"__esModule",{value:!0});function i(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}return vu.default=i,vu}var j1;function Al(){return j1||(j1=1,function(i){process.env.NODE_ENV==="production"?i.exports=u5():i.exports=d5()}(c5)),ud}var h5=Al();const f5=R0(h5);var m5=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,g5=f5(function(i){return m5.test(i)||i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&i.charCodeAt(2)<91}),Fi={},p5={get exports(){return Fi},set exports(i){Fi=i}},tm={},Vo={},_5={get exports(){return Vo},set exports(i){Vo=i}},wu={},dd={},v5={get exports(){return dd},set exports(i){dd=i}},bu={},U1;function w5(){if(U1)return bu;U1=1,Object.defineProperty(bu,"__esModule",{value:!0});function i(n){if(n.sheet)return n.sheet;for(var r=0;r<document.styleSheets.length;r++)if(document.styleSheets[r].ownerNode===n)return document.styleSheets[r]}function e(n){var r=document.createElement("style");return r.setAttribute("data-emotion",n.key),n.nonce!==void 0&&r.setAttribute("nonce",n.nonce),r.appendChild(document.createTextNode("")),r.setAttribute("data-s",""),r}var t=function(){function n(s){var o=this;this._insertTag=function(l){var u;o.tags.length===0?o.insertionPoint?u=o.insertionPoint.nextSibling:o.prepend?u=o.container.firstChild:u=o.before:u=o.tags[o.tags.length-1].nextSibling,o.container.insertBefore(l,u),o.tags.push(l)},this.isSpeedy=s.speedy===void 0?!0:s.speedy,this.tags=[],this.ctr=0,this.nonce=s.nonce,this.key=s.key,this.container=s.container,this.prepend=s.prepend,this.insertionPoint=s.insertionPoint,this.before=null}var r=n.prototype;return r.hydrate=function(o){o.forEach(this._insertTag)},r.insert=function(o){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(e(this));var l=this.tags[this.tags.length-1];if(this.isSpeedy){var u=i(l);try{u.insertRule(o,u.cssRules.length)}catch{}}else l.appendChild(document.createTextNode(o));this.ctr++},r.flush=function(){this.tags.forEach(function(o){return o.parentNode&&o.parentNode.removeChild(o)}),this.tags=[],this.ctr=0},n}();return bu.StyleSheet=t,bu}var yu={},H1;function b5(){if(H1)return yu;H1=1,Object.defineProperty(yu,"__esModule",{value:!0});function i(n){if(n.sheet)return n.sheet;for(var r=0;r<document.styleSheets.length;r++)if(document.styleSheets[r].ownerNode===n)return document.styleSheets[r]}function e(n){var r=document.createElement("style");return r.setAttribute("data-emotion",n.key),n.nonce!==void 0&&r.setAttribute("nonce",n.nonce),r.appendChild(document.createTextNode("")),r.setAttribute("data-s",""),r}var t=function(){function n(s){var o=this;this._insertTag=function(l){var u;o.tags.length===0?o.insertionPoint?u=o.insertionPoint.nextSibling:o.prepend?u=o.container.firstChild:u=o.before:u=o.tags[o.tags.length-1].nextSibling,o.container.insertBefore(l,u),o.tags.push(l)},this.isSpeedy=s.speedy===void 0?process.env.NODE_ENV==="production":s.speedy,this.tags=[],this.ctr=0,this.nonce=s.nonce,this.key=s.key,this.container=s.container,this.prepend=s.prepend,this.insertionPoint=s.insertionPoint,this.before=null}var r=n.prototype;return r.hydrate=function(o){o.forEach(this._insertTag)},r.insert=function(o){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(e(this));var l=this.tags[this.tags.length-1];if(process.env.NODE_ENV!=="production"){var u=o.charCodeAt(0)===64&&o.charCodeAt(1)===105;u&&this._alreadyInsertedOrderInsensitiveRule&&console.error(`You're attempting to insert the following rule:
`+o+"\n\n`@import` rules must be before all other types of rules in a stylesheet but other rules have already been inserted. Please ensure that `@import` rules are before all other rules."),this._alreadyInsertedOrderInsensitiveRule=this._alreadyInsertedOrderInsensitiveRule||!u}if(this.isSpeedy){var h=i(l);try{h.insertRule(o,h.cssRules.length)}catch(f){process.env.NODE_ENV!=="production"&&!/:(-moz-placeholder|-moz-focus-inner|-moz-focusring|-ms-input-placeholder|-moz-read-write|-moz-read-only|-ms-clear|-ms-expand|-ms-reveal){/.test(o)&&console.error('There was a problem inserting the following rule: "'+o+'"',f)}}else l.appendChild(document.createTextNode(o));this.ctr++},r.flush=function(){this.tags.forEach(function(o){return o.parentNode&&o.parentNode.removeChild(o)}),this.tags=[],this.ctr=0,process.env.NODE_ENV!=="production"&&(this._alreadyInsertedOrderInsensitiveRule=!1)},n}();return yu.StyleSheet=t,yu}var q1;function V0(){return q1||(q1=1,function(i){process.env.NODE_ENV==="production"?i.exports=w5():i.exports=b5()}(v5)),dd}var al={},y5={get exports(){return al},set exports(i){al=i}},K1;function L0(){return K1||(K1=1,function(i,e){(function(t,n){n(e)})(et,function(t){var n="-ms-",r="-moz-",s="-webkit-",o="comm",l="rule",u="decl",h="@page",f="@media",m="@import",v="@charset",C="@viewport",k="@supports",S="@document",x="@namespace",N="@keyframes",y="@font-face",A="@counter-style",P="@font-feature-values",E=Math.abs,V=String.fromCharCode,j=Object.assign;function U(I,ge){return H(I,0)^45?(((ge<<2^H(I,0))<<2^H(I,1))<<2^H(I,2))<<2^H(I,3):0}function $(I){return I.trim()}function M(I,ge){return(I=ge.exec(I))?I[0]:I}function D(I,ge,xe){return I.replace(ge,xe)}function J(I,ge){return I.indexOf(ge)}function H(I,ge){return I.charCodeAt(ge)|0}function Y(I,ge,xe){return I.slice(ge,xe)}function le(I){return I.length}function me(I){return I.length}function ee(I,ge){return ge.push(I),I}function te(I,ge){return I.map(ge).join("")}t.line=1,t.column=1,t.length=0,t.position=0,t.character=0,t.characters="";function ne(I,ge,xe,Be,Fe,ln,vn){return{value:I,root:ge,parent:xe,type:Be,props:Fe,children:ln,line:t.line,column:t.column,length:vn,return:""}}function z(I,ge){return j(ne("",null,null,"",null,null,0),I,{length:-I.length},ge)}function se(){return t.character}function ve(){return t.character=t.position>0?H(t.characters,--t.position):0,t.column--,t.character===10&&(t.column=1,t.line--),t.character}function ue(){return t.character=t.position<t.length?H(t.characters,t.position++):0,t.column++,t.character===10&&(t.column=1,t.line++),t.character}function ce(){return H(t.characters,t.position)}function he(){return t.position}function be(I,ge){return Y(t.characters,I,ge)}function Ee(I){switch(I){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Pe(I){return t.line=t.column=1,t.length=le(t.characters=I),t.position=0,[]}function Se(I){return t.characters="",I}function ye(I){return $(be(t.position-1,Ye(I===91?I+2:I===40?I+1:I)))}function De(I){return Se(Ze(Pe(I)))}function q(I){for(;(t.character=ce())&&t.character<33;)ue();return Ee(I)>2||Ee(t.character)>3?"":" "}function Ze(I){for(;ue();)switch(Ee(t.character)){case 0:ee(sn(t.position-1),I);break;case 2:ee(ye(t.character),I);break;default:ee(V(t.character),I)}return I}function de(I,ge){for(;--ge&&ue()&&!(t.character<48||t.character>102||t.character>57&&t.character<65||t.character>70&&t.character<97););return be(I,he()+(ge<6&&ce()==32&&ue()==32))}function Ye(I){for(;ue();)switch(t.character){case I:return t.position;case 34:case 39:I!==34&&I!==39&&Ye(t.character);break;case 40:I===41&&Ye(I);break;case 92:ue();break}return t.position}function rn(I,ge){for(;ue()&&I+t.character!==47+10;)if(I+t.character===42+42&&ce()===47)break;return"/*"+be(ge,t.position-1)+"*"+V(I===47?I:ue())}function sn(I){for(;!Ee(ce());)ue();return be(I,t.position)}function ei(I){return Se(jn("",null,null,null,[""],I=Pe(I),0,[0],I))}function jn(I,ge,xe,Be,Fe,ln,vn,Zt,fn){for(var wn=0,Sn=0,cn=vn,pi=0,Ui=0,ti=0,Bn=1,Vr=1,Tn=1,$t=0,ni="",Lr=Fe,ii=ln,bn=Be,ft=ni;Vr;)switch(ti=$t,$t=ue()){case 40:if(ti!=108&&H(ft,cn-1)==58){J(ft+=D(ye($t),"&","&\f"),"&\f")!=-1&&(Tn=-1);break}case 34:case 39:case 91:ft+=ye($t);break;case 9:case 10:case 13:case 32:ft+=q(ti);break;case 92:ft+=de(he()-1,7);continue;case 47:switch(ce()){case 42:case 47:ee(on(rn(ue(),he()),ge,xe),fn);break;default:ft+="/"}break;case 123*Bn:Zt[wn++]=le(ft)*Tn;case 125*Bn:case 59:case 0:switch($t){case 0:case 125:Vr=0;case 59+Sn:Ui>0&&le(ft)-cn&&ee(Ui>32?Un(ft+";",Be,xe,cn-1):Un(D(ft," ","")+";",Be,xe,cn-2),fn);break;case 59:ft+=";";default:if(ee(bn=Xt(ft,ge,xe,wn,Sn,Fe,Zt,ni,Lr=[],ii=[],cn),ln),$t===123)if(Sn===0)jn(ft,ge,bn,bn,Lr,ln,cn,Zt,ii);else switch(pi===99&&H(ft,3)===110?100:pi){case 100:case 109:case 115:jn(I,bn,bn,Be&&ee(Xt(I,bn,bn,0,0,Fe,Zt,ni,Fe,Lr=[],cn),ii),Fe,ii,cn,Zt,Be?Lr:ii);break;default:jn(ft,bn,bn,bn,[""],ii,0,Zt,ii)}}wn=Sn=Ui=0,Bn=Tn=1,ni=ft="",cn=vn;break;case 58:cn=1+le(ft),Ui=ti;default:if(Bn<1){if($t==123)--Bn;else if($t==125&&Bn++==0&&ve()==125)continue}switch(ft+=V($t),$t*Bn){case 38:Tn=Sn>0?1:(ft+="\f",-1);break;case 44:Zt[wn++]=(le(ft)-1)*Tn,Tn=1;break;case 64:ce()===45&&(ft+=ye(ue())),pi=ce(),Sn=cn=le(ni=ft+=sn(he())),$t++;break;case 45:ti===45&&le(ft)==2&&(Bn=0)}}return ln}function Xt(I,ge,xe,Be,Fe,ln,vn,Zt,fn,wn,Sn){for(var cn=Fe-1,pi=Fe===0?ln:[""],Ui=me(pi),ti=0,Bn=0,Vr=0;ti<Be;++ti)for(var Tn=0,$t=Y(I,cn+1,cn=E(Bn=vn[ti])),ni=I;Tn<Ui;++Tn)(ni=$(Bn>0?pi[Tn]+" "+$t:D($t,/&\f/g,pi[Tn])))&&(fn[Vr++]=ni);return ne(I,ge,xe,Fe===0?l:Zt,fn,wn,Sn)}function on(I,ge,xe){return ne(I,ge,xe,o,V(se()),Y(I,2,-2),0)}function Un(I,ge,xe,Be){return ne(I,ge,xe,u,Y(I,0,Be),Y(I,Be+1,-1),Be)}function gi(I,ge,xe){switch(U(I,ge)){case 5103:return s+"print-"+I+I;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return s+I+I;case 4789:return r+I+I;case 5349:case 4246:case 4810:case 6968:case 2756:return s+I+r+I+n+I+I;case 5936:switch(H(I,ge+11)){case 114:return s+I+n+D(I,/[svh]\w+-[tblr]{2}/,"tb")+I;case 108:return s+I+n+D(I,/[svh]\w+-[tblr]{2}/,"tb-rl")+I;case 45:return s+I+n+D(I,/[svh]\w+-[tblr]{2}/,"lr")+I}case 6828:case 4268:case 2903:return s+I+n+I+I;case 6165:return s+I+n+"flex-"+I+I;case 5187:return s+I+D(I,/(\w+).+(:[^]+)/,s+"box-$1$2"+n+"flex-$1$2")+I;case 5443:return s+I+n+"flex-item-"+D(I,/flex-|-self/g,"")+(M(I,/flex-|baseline/)?"":n+"grid-row-"+D(I,/flex-|-self/g,""))+I;case 4675:return s+I+n+"flex-line-pack"+D(I,/align-content|flex-|-self/g,"")+I;case 5548:return s+I+n+D(I,"shrink","negative")+I;case 5292:return s+I+n+D(I,"basis","preferred-size")+I;case 6060:return s+"box-"+D(I,"-grow","")+s+I+n+D(I,"grow","positive")+I;case 4554:return s+D(I,/([^-])(transform)/g,"$1"+s+"$2")+I;case 6187:return D(D(D(I,/(zoom-|grab)/,s+"$1"),/(image-set)/,s+"$1"),I,"")+I;case 5495:case 3959:return D(I,/(image-set\([^]*)/,s+"$1$`$1");case 4968:return D(D(I,/(.+:)(flex-)?(.*)/,s+"box-pack:$3"+n+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+s+I+I;case 4200:if(!M(I,/flex-|baseline/))return n+"grid-column-align"+Y(I,ge)+I;break;case 2592:case 3360:return n+D(I,"template-","")+I;case 4384:case 3616:return xe&&xe.some(function(Be,Fe){return ge=Fe,M(Be.props,/grid-\w+-end/)})?~J(I+(xe=xe[ge].value),"span")?I:n+D(I,"-start","")+I+n+"grid-row-span:"+(~J(xe,"span")?M(xe,/\d+/):+M(xe,/\d+/)-+M(I,/\d+/))+";":n+D(I,"-start","")+I;case 4896:case 4128:return xe&&xe.some(function(Be){return M(Be.props,/grid-\w+-start/)})?I:n+D(D(I,"-end","-span"),"span ","")+I;case 4095:case 3583:case 4068:case 2532:return D(I,/(.+)-inline(.+)/,s+"$1$2")+I;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(le(I)-1-ge>6)switch(H(I,ge+1)){case 109:if(H(I,ge+4)!==45)break;case 102:return D(I,/(.+:)(.+)-([^]+)/,"$1"+s+"$2-$3$1"+r+(H(I,ge+3)==108?"$3":"$2-$3"))+I;case 115:return~J(I,"stretch")?gi(D(I,"stretch","fill-available"),ge,xe)+I:I}break;case 5152:case 5920:return D(I,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(Be,Fe,ln,vn,Zt,fn,wn){return n+Fe+":"+ln+wn+(vn?n+Fe+"-span:"+(Zt?fn:+fn-+ln)+wn:"")+I});case 4949:if(H(I,ge+6)===121)return D(I,":",":"+s)+I;break;case 6444:switch(H(I,H(I,14)===45?18:11)){case 120:return D(I,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+s+(H(I,14)===45?"inline-":"")+"box$3$1"+s+"$2$3$1"+n+"$2box$3")+I;case 100:return D(I,":",":"+n)+I}break;case 5719:case 2647:case 2135:case 3927:case 2391:return D(I,"scroll-","scroll-snap-")+I}return I}function Hn(I,ge){for(var xe="",Be=me(I),Fe=0;Fe<Be;Fe++)xe+=ge(I[Fe],Fe,I,ge)||"";return xe}function qn(I,ge,xe,Be){switch(I.type){case m:case u:return I.return=I.return||I.value;case o:return"";case N:return I.return=I.value+"{"+Hn(I.children,Be)+"}";case l:I.value=I.props.join(",")}return le(xe=Hn(I.children,Be))?I.return=I.value+"{"+xe+"}":""}function hn(I){var ge=me(I);return function(xe,Be,Fe,ln){for(var vn="",Zt=0;Zt<ge;Zt++)vn+=I[Zt](xe,Be,Fe,ln)||"";return vn}}function an(I){return function(ge){ge.root||(ge=ge.return)&&I(ge)}}function Nn(I,ge,xe,Be){if(I.length>-1&&!I.return)switch(I.type){case u:I.return=gi(I.value,I.length,xe);return;case N:return Hn([z(I,{value:D(I.value,"@","@"+s)})],Be);case l:if(I.length)return te(I.props,function(Fe){switch(M(Fe,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Hn([z(I,{props:[D(Fe,/:(read-\w+)/,":"+r+"$1")]})],Be);case"::placeholder":return Hn([z(I,{props:[D(Fe,/:(plac\w+)/,":"+s+"input-$1")]}),z(I,{props:[D(Fe,/:(plac\w+)/,":"+r+"$1")]}),z(I,{props:[D(Fe,/:(plac\w+)/,n+"input-$1")]})],Be)}return""})}}function Dn(I){switch(I.type){case l:I.props=I.props.map(function(ge){return te(De(ge),function(xe,Be,Fe){switch(H(xe,0)){case 12:return Y(xe,1,le(xe));case 0:case 40:case 43:case 62:case 126:return xe;case 58:Fe[++Be]==="global"&&(Fe[Be]="",Fe[++Be]="\f"+Y(Fe[Be],Be=1,-1));case 32:return Be===1?"":xe;default:switch(Be){case 0:return I=xe,me(Fe)>1?"":xe;case(Be=me(Fe)-1):case 2:return Be===2?xe+I+I:xe+I;default:return xe}}})})}}t.CHARSET=v,t.COMMENT=o,t.COUNTER_STYLE=A,t.DECLARATION=u,t.DOCUMENT=S,t.FONT_FACE=y,t.FONT_FEATURE_VALUES=P,t.IMPORT=m,t.KEYFRAMES=N,t.MEDIA=f,t.MOZ=r,t.MS=n,t.NAMESPACE=x,t.PAGE=h,t.RULESET=l,t.SUPPORTS=k,t.VIEWPORT=C,t.WEBKIT=s,t.abs=E,t.alloc=Pe,t.append=ee,t.assign=j,t.caret=he,t.char=se,t.charat=H,t.combine=te,t.comment=on,t.commenter=rn,t.compile=ei,t.copy=z,t.dealloc=Se,t.declaration=Un,t.delimit=ye,t.delimiter=Ye,t.escaping=de,t.from=V,t.hash=U,t.identifier=sn,t.indexof=J,t.match=M,t.middleware=hn,t.namespace=Dn,t.next=ue,t.node=ne,t.parse=jn,t.peek=ce,t.prefix=gi,t.prefixer=Nn,t.prev=ve,t.replace=D,t.ruleset=Xt,t.rulesheet=an,t.serialize=Hn,t.sizeof=me,t.slice=be,t.stringify=qn,t.strlen=le,t.substr=Y,t.token=Ee,t.tokenize=De,t.tokenizer=Ze,t.trim=$,t.whitespace=q,Object.defineProperty(t,"__esModule",{value:!0})})}(y5,al)),al}var hd={},E5={get exports(){return hd},set exports(i){hd=i}},Eu={},G1;function C5(){if(G1)return Eu;G1=1,Object.defineProperty(Eu,"__esModule",{value:!0});var i=function(t){var n=new WeakMap;return function(r){if(n.has(r))return n.get(r);var s=t(r);return n.set(r,s),s}};return Eu.default=i,Eu}var Cu={},Y1;function S5(){if(Y1)return Cu;Y1=1,Object.defineProperty(Cu,"__esModule",{value:!0});var i=function(t){var n=new WeakMap;return function(r){if(n.has(r))return n.get(r);var s=t(r);return n.set(r,s),s}};return Cu.default=i,Cu}var J1;function Jo(){return J1||(J1=1,function(i){process.env.NODE_ENV==="production"?i.exports=C5():i.exports=S5()}(E5)),hd}var X1;function T5(){if(X1)return wu;X1=1,Object.defineProperty(wu,"__esModule",{value:!0});var i=V0(),e=L0(),t=Jo(),n=Al();function r(A){return A&&A.__esModule?A:{default:A}}var s=r(t),o=r(n),l=function(P,E,V){for(var j=0,U=0;j=U,U=e.peek(),j===38&&U===12&&(E[V]=1),!e.token(U);)e.next();return e.slice(P,e.position)},u=function(P,E){var V=-1,j=44;do switch(e.token(j)){case 0:j===38&&e.peek()===12&&(E[V]=1),P[V]+=l(e.position-1,E,V);break;case 2:P[V]+=e.delimit(j);break;case 4:if(j===44){P[++V]=e.peek()===58?"&\f":"",E[V]=P[V].length;break}default:P[V]+=e.from(j)}while(j=e.next());return P},h=function(P,E){return e.dealloc(u(e.alloc(P),E))},f=new WeakMap,m=function(P){if(!(P.type!=="rule"||!P.parent||P.length<1)){for(var E=P.value,V=P.parent,j=P.column===V.column&&P.line===V.line;V.type!=="rule";)if(V=V.parent,!V)return;if(!(P.props.length===1&&E.charCodeAt(0)!==58&&!f.get(V))&&!j){f.set(P,!0);for(var U=[],$=h(E,U),M=V.props,D=0,J=0;D<$.length;D++)for(var H=0;H<M.length;H++,J++)P.props[J]=U[D]?$[D].replace(/&\f/g,M[H]):M[H]+" "+$[D]}}},v=function(P){if(P.type==="decl"){var E=P.value;E.charCodeAt(0)===108&&E.charCodeAt(2)===98&&(P.return="",P.value="")}};function C(A,P){switch(e.hash(A,P)){case 5103:return e.WEBKIT+"print-"+A+A;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return e.WEBKIT+A+A;case 5349:case 4246:case 4810:case 6968:case 2756:return e.WEBKIT+A+e.MOZ+A+e.MS+A+A;case 6828:case 4268:return e.WEBKIT+A+e.MS+A+A;case 6165:return e.WEBKIT+A+e.MS+"flex-"+A+A;case 5187:return e.WEBKIT+A+e.replace(A,/(\w+).+(:[^]+)/,e.WEBKIT+"box-$1$2"+e.MS+"flex-$1$2")+A;case 5443:return e.WEBKIT+A+e.MS+"flex-item-"+e.replace(A,/flex-|-self/,"")+A;case 4675:return e.WEBKIT+A+e.MS+"flex-line-pack"+e.replace(A,/align-content|flex-|-self/,"")+A;case 5548:return e.WEBKIT+A+e.MS+e.replace(A,"shrink","negative")+A;case 5292:return e.WEBKIT+A+e.MS+e.replace(A,"basis","preferred-size")+A;case 6060:return e.WEBKIT+"box-"+e.replace(A,"-grow","")+e.WEBKIT+A+e.MS+e.replace(A,"grow","positive")+A;case 4554:return e.WEBKIT+e.replace(A,/([^-])(transform)/g,"$1"+e.WEBKIT+"$2")+A;case 6187:return e.replace(e.replace(e.replace(A,/(zoom-|grab)/,e.WEBKIT+"$1"),/(image-set)/,e.WEBKIT+"$1"),A,"")+A;case 5495:case 3959:return e.replace(A,/(image-set\([^]*)/,e.WEBKIT+"$1$`$1");case 4968:return e.replace(e.replace(A,/(.+:)(flex-)?(.*)/,e.WEBKIT+"box-pack:$3"+e.MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+e.WEBKIT+A+A;case 4095:case 3583:case 4068:case 2532:return e.replace(A,/(.+)-inline(.+)/,e.WEBKIT+"$1$2")+A;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(e.strlen(A)-1-P>6)switch(e.charat(A,P+1)){case 109:if(e.charat(A,P+4)!==45)break;case 102:return e.replace(A,/(.+:)(.+)-([^]+)/,"$1"+e.WEBKIT+"$2-$3$1"+e.MOZ+(e.charat(A,P+3)==108?"$3":"$2-$3"))+A;case 115:return~e.indexof(A,"stretch")?C(e.replace(A,"stretch","fill-available"),P)+A:A}break;case 4949:if(e.charat(A,P+1)!==115)break;case 6444:switch(e.charat(A,e.strlen(A)-3-(~e.indexof(A,"!important")&&10))){case 107:return e.replace(A,":",":"+e.WEBKIT)+A;case 101:return e.replace(A,/(.+:)([^;!]+)(;|!.+)?/,"$1"+e.WEBKIT+(e.charat(A,14)===45?"inline-":"")+"box$3$1"+e.WEBKIT+"$2$3$1"+e.MS+"$2box$3")+A}break;case 5936:switch(e.charat(A,P+11)){case 114:return e.WEBKIT+A+e.MS+e.replace(A,/[svh]\w+-[tblr]{2}/,"tb")+A;case 108:return e.WEBKIT+A+e.MS+e.replace(A,/[svh]\w+-[tblr]{2}/,"tb-rl")+A;case 45:return e.WEBKIT+A+e.MS+e.replace(A,/[svh]\w+-[tblr]{2}/,"lr")+A}return e.WEBKIT+A+e.MS+A+A}return A}var k=function(P,E,V,j){if(P.length>-1&&!P.return)switch(P.type){case e.DECLARATION:P.return=C(P.value,P.length);break;case e.KEYFRAMES:return e.serialize([e.copy(P,{value:e.replace(P.value,"@","@"+e.WEBKIT)})],j);case e.RULESET:if(P.length)return e.combine(P.props,function(U){switch(e.match(U,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return e.serialize([e.copy(P,{props:[e.replace(U,/:(read-\w+)/,":"+e.MOZ+"$1")]})],j);case"::placeholder":return e.serialize([e.copy(P,{props:[e.replace(U,/:(plac\w+)/,":"+e.WEBKIT+"input-$1")]}),e.copy(P,{props:[e.replace(U,/:(plac\w+)/,":"+e.MOZ+"$1")]}),e.copy(P,{props:[e.replace(U,/:(plac\w+)/,e.MS+"input-$1")]})],j)}return""})}},S=typeof document<"u",x=S?void 0:s.default(function(){return o.default(function(){var A={};return function(P){return A[P]}})}),N=[k],y=function(P){var E=P.key;if(S&&E==="css"){var V=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(V,function(ue){var ce=ue.getAttribute("data-emotion");ce.indexOf(" ")!==-1&&(document.head.appendChild(ue),ue.setAttribute("data-s",""))})}var j=P.stylisPlugins||N,U={},$,M=[];S&&($=P.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+E+' "]'),function(ue){for(var ce=ue.getAttribute("data-emotion").split(" "),he=1;he<ce.length;he++)U[ce[he]]=!0;M.push(ue)}));var D,J=[m,v];if(S){var H,Y=[e.stringify,e.rulesheet(function(ue){H.insert(ue)})],le=e.middleware(J.concat(j,Y)),me=function(ce){return e.serialize(e.compile(ce),le)};D=function(ce,he,be,Ee){H=be,me(ce?ce+"{"+he.styles+"}":he.styles),Ee&&(ve.inserted[he.name]=!0)}}else{var ee=[e.stringify],te=e.middleware(J.concat(j,ee)),ne=function(ce){return e.serialize(e.compile(ce),te)},z=x(j)(E),se=function(ce,he){var be=he.name;return z[be]===void 0&&(z[be]=ne(ce?ce+"{"+he.styles+"}":he.styles)),z[be]};D=function(ce,he,be,Ee){var Pe=he.name,Se=se(ce,he);if(ve.compat===void 0)return Ee&&(ve.inserted[Pe]=!0),Se;if(Ee)ve.inserted[Pe]=Se;else return Se}}var ve={key:E,sheet:new i.StyleSheet({key:E,container:$,nonce:P.nonce,speedy:P.speedy,prepend:P.prepend,insertionPoint:P.insertionPoint}),nonce:P.nonce,inserted:U,registered:{},insert:D};return ve.sheet.hydrate(M),ve};return wu.default=y,wu}var Su={},Z1;function x5(){if(Z1)return Su;Z1=1,Object.defineProperty(Su,"__esModule",{value:!0});var i=V0(),e=L0(),t=Jo(),n=Al();function r(M){return M&&M.__esModule?M:{default:M}}var s=r(t),o=r(n),l=function(D,J,H){for(var Y=0,le=0;Y=le,le=e.peek(),Y===38&&le===12&&(J[H]=1),!e.token(le);)e.next();return e.slice(D,e.position)},u=function(D,J){var H=-1,Y=44;do switch(e.token(Y)){case 0:Y===38&&e.peek()===12&&(J[H]=1),D[H]+=l(e.position-1,J,H);break;case 2:D[H]+=e.delimit(Y);break;case 4:if(Y===44){D[++H]=e.peek()===58?"&\f":"",J[H]=D[H].length;break}default:D[H]+=e.from(Y)}while(Y=e.next());return D},h=function(D,J){return e.dealloc(u(e.alloc(D),J))},f=new WeakMap,m=function(D){if(!(D.type!=="rule"||!D.parent||D.length<1)){for(var J=D.value,H=D.parent,Y=D.column===H.column&&D.line===H.line;H.type!=="rule";)if(H=H.parent,!H)return;if(!(D.props.length===1&&J.charCodeAt(0)!==58&&!f.get(H))&&!Y){f.set(D,!0);for(var le=[],me=h(J,le),ee=H.props,te=0,ne=0;te<me.length;te++)for(var z=0;z<ee.length;z++,ne++)D.props[ne]=le[te]?me[te].replace(/&\f/g,ee[z]):ee[z]+" "+me[te]}}},v=function(D){if(D.type==="decl"){var J=D.value;J.charCodeAt(0)===108&&J.charCodeAt(2)===98&&(D.return="",D.value="")}},C="emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason",k=function(D){return D.type==="comm"&&D.children.indexOf(C)>-1},S=function(D){return function(J,H,Y){if(!(J.type!=="rule"||D.compat)){var le=J.value.match(/(:first|:nth|:nth-last)-child/g);if(le){for(var me=J.parent===Y[0],ee=me?Y[0].children:Y,te=ee.length-1;te>=0;te--){var ne=ee[te];if(ne.line<J.line)break;if(ne.column<J.column){if(k(ne))return;break}}le.forEach(function(z){console.error('The pseudo class "'+z+'" is potentially unsafe when doing server-side rendering. Try changing it to "'+z.split("-child")[0]+'-of-type".')})}}}},x=function(D){return D.type.charCodeAt(1)===105&&D.type.charCodeAt(0)===64},N=function(D,J){for(var H=D-1;H>=0;H--)if(!x(J[H]))return!0;return!1},y=function(D){D.type="",D.value="",D.return="",D.children="",D.props=""},A=function(D,J,H){x(D)&&(D.parent?(console.error("`@import` rules can't be nested inside other rules. Please move it to the top level and put it before regular rules. Keep in mind that they can only be used within global styles."),y(D)):N(J,H)&&(console.error("`@import` rules can't be after other rules. Please put your `@import` rules before your other rules."),y(D)))};function P(M,D){switch(e.hash(M,D)){case 5103:return e.WEBKIT+"print-"+M+M;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return e.WEBKIT+M+M;case 5349:case 4246:case 4810:case 6968:case 2756:return e.WEBKIT+M+e.MOZ+M+e.MS+M+M;case 6828:case 4268:return e.WEBKIT+M+e.MS+M+M;case 6165:return e.WEBKIT+M+e.MS+"flex-"+M+M;case 5187:return e.WEBKIT+M+e.replace(M,/(\w+).+(:[^]+)/,e.WEBKIT+"box-$1$2"+e.MS+"flex-$1$2")+M;case 5443:return e.WEBKIT+M+e.MS+"flex-item-"+e.replace(M,/flex-|-self/,"")+M;case 4675:return e.WEBKIT+M+e.MS+"flex-line-pack"+e.replace(M,/align-content|flex-|-self/,"")+M;case 5548:return e.WEBKIT+M+e.MS+e.replace(M,"shrink","negative")+M;case 5292:return e.WEBKIT+M+e.MS+e.replace(M,"basis","preferred-size")+M;case 6060:return e.WEBKIT+"box-"+e.replace(M,"-grow","")+e.WEBKIT+M+e.MS+e.replace(M,"grow","positive")+M;case 4554:return e.WEBKIT+e.replace(M,/([^-])(transform)/g,"$1"+e.WEBKIT+"$2")+M;case 6187:return e.replace(e.replace(e.replace(M,/(zoom-|grab)/,e.WEBKIT+"$1"),/(image-set)/,e.WEBKIT+"$1"),M,"")+M;case 5495:case 3959:return e.replace(M,/(image-set\([^]*)/,e.WEBKIT+"$1$`$1");case 4968:return e.replace(e.replace(M,/(.+:)(flex-)?(.*)/,e.WEBKIT+"box-pack:$3"+e.MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+e.WEBKIT+M+M;case 4095:case 3583:case 4068:case 2532:return e.replace(M,/(.+)-inline(.+)/,e.WEBKIT+"$1$2")+M;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(e.strlen(M)-1-D>6)switch(e.charat(M,D+1)){case 109:if(e.charat(M,D+4)!==45)break;case 102:return e.replace(M,/(.+:)(.+)-([^]+)/,"$1"+e.WEBKIT+"$2-$3$1"+e.MOZ+(e.charat(M,D+3)==108?"$3":"$2-$3"))+M;case 115:return~e.indexof(M,"stretch")?P(e.replace(M,"stretch","fill-available"),D)+M:M}break;case 4949:if(e.charat(M,D+1)!==115)break;case 6444:switch(e.charat(M,e.strlen(M)-3-(~e.indexof(M,"!important")&&10))){case 107:return e.replace(M,":",":"+e.WEBKIT)+M;case 101:return e.replace(M,/(.+:)([^;!]+)(;|!.+)?/,"$1"+e.WEBKIT+(e.charat(M,14)===45?"inline-":"")+"box$3$1"+e.WEBKIT+"$2$3$1"+e.MS+"$2box$3")+M}break;case 5936:switch(e.charat(M,D+11)){case 114:return e.WEBKIT+M+e.MS+e.replace(M,/[svh]\w+-[tblr]{2}/,"tb")+M;case 108:return e.WEBKIT+M+e.MS+e.replace(M,/[svh]\w+-[tblr]{2}/,"tb-rl")+M;case 45:return e.WEBKIT+M+e.MS+e.replace(M,/[svh]\w+-[tblr]{2}/,"lr")+M}return e.WEBKIT+M+e.MS+M+M}return M}var E=function(D,J,H,Y){if(D.length>-1&&!D.return)switch(D.type){case e.DECLARATION:D.return=P(D.value,D.length);break;case e.KEYFRAMES:return e.serialize([e.copy(D,{value:e.replace(D.value,"@","@"+e.WEBKIT)})],Y);case e.RULESET:if(D.length)return e.combine(D.props,function(le){switch(e.match(le,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return e.serialize([e.copy(D,{props:[e.replace(le,/:(read-\w+)/,":"+e.MOZ+"$1")]})],Y);case"::placeholder":return e.serialize([e.copy(D,{props:[e.replace(le,/:(plac\w+)/,":"+e.WEBKIT+"input-$1")]}),e.copy(D,{props:[e.replace(le,/:(plac\w+)/,":"+e.MOZ+"$1")]}),e.copy(D,{props:[e.replace(le,/:(plac\w+)/,e.MS+"input-$1")]})],Y)}return""})}},V=typeof document<"u",j=V?void 0:s.default(function(){return o.default(function(){var M={};return function(D){return M[D]}})}),U=[E],$=function(D){var J=D.key;if(process.env.NODE_ENV!=="production"&&!J)throw new Error(`You have to configure \`key\` for your cache. Please make sure it's unique (and not equal to 'css') as it's used for linking styles to your cache.
If multiple caches share the same key they might "fight" for each other's style elements.`);if(V&&J==="css"){var H=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(H,function(ye){var De=ye.getAttribute("data-emotion");De.indexOf(" ")!==-1&&(document.head.appendChild(ye),ye.setAttribute("data-s",""))})}var Y=D.stylisPlugins||U;if(process.env.NODE_ENV!=="production"&&/[^a-z-]/.test(J))throw new Error('Emotion key must only contain lower case alphabetical characters and - but "'+J+'" was passed');var le={},me,ee=[];V&&(me=D.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+J+' "]'),function(ye){for(var De=ye.getAttribute("data-emotion").split(" "),q=1;q<De.length;q++)le[De[q]]=!0;ee.push(ye)}));var te,ne=[m,v];if(process.env.NODE_ENV!=="production"&&ne.push(S({get compat(){return Se.compat}}),A),V){var z,se=[e.stringify,process.env.NODE_ENV!=="production"?function(ye){ye.root||(ye.return?z.insert(ye.return):ye.value&&ye.type!==e.COMMENT&&z.insert(ye.value+"{}"))}:e.rulesheet(function(ye){z.insert(ye)})],ve=e.middleware(ne.concat(Y,se)),ue=function(De){return e.serialize(e.compile(De),ve)};te=function(De,q,Ze,de){z=Ze,process.env.NODE_ENV!=="production"&&q.map!==void 0&&(z={insert:function(rn){Ze.insert(rn+q.map)}}),ue(De?De+"{"+q.styles+"}":q.styles),de&&(Se.inserted[q.name]=!0)}}else{var ce=[e.stringify],he=e.middleware(ne.concat(Y,ce)),be=function(De){return e.serialize(e.compile(De),he)},Ee=j(Y)(J),Pe=function(De,q){var Ze=q.name;return Ee[Ze]===void 0&&(Ee[Ze]=be(De?De+"{"+q.styles+"}":q.styles)),Ee[Ze]};te=function(De,q,Ze,de){var Ye=q.name,rn=Pe(De,q);if(Se.compat===void 0)return de&&(Se.inserted[Ye]=!0),process.env.NODE_ENV==="development"&&q.map!==void 0?rn+q.map:rn;if(de)Se.inserted[Ye]=rn;else return rn}}var Se={key:J,sheet:new i.StyleSheet({key:J,container:me,nonce:D.nonce,speedy:D.speedy,prepend:D.prepend,insertionPoint:D.insertionPoint}),nonce:D.nonce,inserted:le,registered:{},insert:te};return Se.sheet.hydrate(ee),Se};return Su.default=$,Su}(function(i){process.env.NODE_ENV==="production"?i.exports=T5():i.exports=x5()})(_5);const k5=R0(Vo);var nm={},Tu={},fd={},A5={get exports(){return fd},set exports(i){fd=i}},ut={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q1;function P5(){if(Q1)return ut;Q1=1;var i=typeof Symbol=="function"&&Symbol.for,e=i?Symbol.for("react.element"):60103,t=i?Symbol.for("react.portal"):60106,n=i?Symbol.for("react.fragment"):60107,r=i?Symbol.for("react.strict_mode"):60108,s=i?Symbol.for("react.profiler"):60114,o=i?Symbol.for("react.provider"):60109,l=i?Symbol.for("react.context"):60110,u=i?Symbol.for("react.async_mode"):60111,h=i?Symbol.for("react.concurrent_mode"):60111,f=i?Symbol.for("react.forward_ref"):60112,m=i?Symbol.for("react.suspense"):60113,v=i?Symbol.for("react.suspense_list"):60120,C=i?Symbol.for("react.memo"):60115,k=i?Symbol.for("react.lazy"):60116,S=i?Symbol.for("react.block"):60121,x=i?Symbol.for("react.fundamental"):60117,N=i?Symbol.for("react.responder"):60118,y=i?Symbol.for("react.scope"):60119;function A(E){if(typeof E=="object"&&E!==null){var V=E.$$typeof;switch(V){case e:switch(E=E.type,E){case u:case h:case n:case s:case r:case m:return E;default:switch(E=E&&E.$$typeof,E){case l:case f:case k:case C:case o:return E;default:return V}}case t:return V}}}function P(E){return A(E)===h}return ut.AsyncMode=u,ut.ConcurrentMode=h,ut.ContextConsumer=l,ut.ContextProvider=o,ut.Element=e,ut.ForwardRef=f,ut.Fragment=n,ut.Lazy=k,ut.Memo=C,ut.Portal=t,ut.Profiler=s,ut.StrictMode=r,ut.Suspense=m,ut.isAsyncMode=function(E){return P(E)||A(E)===u},ut.isConcurrentMode=P,ut.isContextConsumer=function(E){return A(E)===l},ut.isContextProvider=function(E){return A(E)===o},ut.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===e},ut.isForwardRef=function(E){return A(E)===f},ut.isFragment=function(E){return A(E)===n},ut.isLazy=function(E){return A(E)===k},ut.isMemo=function(E){return A(E)===C},ut.isPortal=function(E){return A(E)===t},ut.isProfiler=function(E){return A(E)===s},ut.isStrictMode=function(E){return A(E)===r},ut.isSuspense=function(E){return A(E)===m},ut.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===h||E===s||E===r||E===m||E===v||typeof E=="object"&&E!==null&&(E.$$typeof===k||E.$$typeof===C||E.$$typeof===o||E.$$typeof===l||E.$$typeof===f||E.$$typeof===x||E.$$typeof===N||E.$$typeof===y||E.$$typeof===S)},ut.typeOf=A,ut}var dt={};/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev;function I5(){return ev||(ev=1,process.env.NODE_ENV!=="production"&&function(){var i=typeof Symbol=="function"&&Symbol.for,e=i?Symbol.for("react.element"):60103,t=i?Symbol.for("react.portal"):60106,n=i?Symbol.for("react.fragment"):60107,r=i?Symbol.for("react.strict_mode"):60108,s=i?Symbol.for("react.profiler"):60114,o=i?Symbol.for("react.provider"):60109,l=i?Symbol.for("react.context"):60110,u=i?Symbol.for("react.async_mode"):60111,h=i?Symbol.for("react.concurrent_mode"):60111,f=i?Symbol.for("react.forward_ref"):60112,m=i?Symbol.for("react.suspense"):60113,v=i?Symbol.for("react.suspense_list"):60120,C=i?Symbol.for("react.memo"):60115,k=i?Symbol.for("react.lazy"):60116,S=i?Symbol.for("react.block"):60121,x=i?Symbol.for("react.fundamental"):60117,N=i?Symbol.for("react.responder"):60118,y=i?Symbol.for("react.scope"):60119;function A(q){return typeof q=="string"||typeof q=="function"||q===n||q===h||q===s||q===r||q===m||q===v||typeof q=="object"&&q!==null&&(q.$$typeof===k||q.$$typeof===C||q.$$typeof===o||q.$$typeof===l||q.$$typeof===f||q.$$typeof===x||q.$$typeof===N||q.$$typeof===y||q.$$typeof===S)}function P(q){if(typeof q=="object"&&q!==null){var Ze=q.$$typeof;switch(Ze){case e:var de=q.type;switch(de){case u:case h:case n:case s:case r:case m:return de;default:var Ye=de&&de.$$typeof;switch(Ye){case l:case f:case k:case C:case o:return Ye;default:return Ze}}case t:return Ze}}}var E=u,V=h,j=l,U=o,$=e,M=f,D=n,J=k,H=C,Y=t,le=s,me=r,ee=m,te=!1;function ne(q){return te||(te=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),z(q)||P(q)===u}function z(q){return P(q)===h}function se(q){return P(q)===l}function ve(q){return P(q)===o}function ue(q){return typeof q=="object"&&q!==null&&q.$$typeof===e}function ce(q){return P(q)===f}function he(q){return P(q)===n}function be(q){return P(q)===k}function Ee(q){return P(q)===C}function Pe(q){return P(q)===t}function Se(q){return P(q)===s}function ye(q){return P(q)===r}function De(q){return P(q)===m}dt.AsyncMode=E,dt.ConcurrentMode=V,dt.ContextConsumer=j,dt.ContextProvider=U,dt.Element=$,dt.ForwardRef=M,dt.Fragment=D,dt.Lazy=J,dt.Memo=H,dt.Portal=Y,dt.Profiler=le,dt.StrictMode=me,dt.Suspense=ee,dt.isAsyncMode=ne,dt.isConcurrentMode=z,dt.isContextConsumer=se,dt.isContextProvider=ve,dt.isElement=ue,dt.isForwardRef=ce,dt.isFragment=he,dt.isLazy=be,dt.isMemo=Ee,dt.isPortal=Pe,dt.isProfiler=Se,dt.isStrictMode=ye,dt.isSuspense=De,dt.isValidElementType=A,dt.typeOf=P}()),dt}var tv;function R5(){return tv||(tv=1,function(i){process.env.NODE_ENV==="production"?i.exports=P5():i.exports=I5()}(A5)),fd}var im,nv;function Dd(){if(nv)return im;nv=1;var i=R5(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[i.ForwardRef]=n,s[i.Memo]=r;function o(k){return i.isMemo(k)?r:s[k.$$typeof]||e}var l=Object.defineProperty,u=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,v=Object.prototype;function C(k,S,x){if(typeof S!="string"){if(v){var N=m(S);N&&N!==v&&C(k,N,x)}var y=u(S);h&&(y=y.concat(h(S)));for(var A=o(k),P=o(S),E=0;E<y.length;++E){var V=y[E];if(!t[V]&&!(x&&x[V])&&!(P&&P[V])&&!(A&&A[V])){var j=f(S,V);try{l(k,V,j)}catch{}}}}return k}return im=C,im}var iv;function F0(){if(iv)return Tu;iv=1,Object.defineProperty(Tu,"__esModule",{value:!0});var i=Dd();function e(r){return r&&r.__esModule?r:{default:r}}var t=e(i),n=function(r,s){return t.default(r,s)};return Tu.default=n,Tu}var or={},O5={get exports(){return or},set exports(i){or=i}},vo={},rv;function M5(){if(rv)return vo;rv=1,Object.defineProperty(vo,"__esModule",{value:!0});var i=typeof document<"u";function e(r,s,o){var l="";return o.split(" ").forEach(function(u){r[u]!==void 0?s.push(r[u]+";"):l+=u+" "}),l}var t=function(s,o,l){var u=s.key+"-"+o.name;(l===!1||i===!1&&s.compat!==void 0)&&s.registered[u]===void 0&&(s.registered[u]=o.styles)},n=function(s,o,l){t(s,o,l);var u=s.key+"-"+o.name;if(s.inserted[o.name]===void 0){var h="",f=o;do{var m=s.insert(o===f?"."+u:"",f,s.sheet,!0);!i&&m!==void 0&&(h+=m),f=f.next}while(f!==void 0);if(!i&&h.length!==0)return h}};return vo.getRegisteredStyles=e,vo.insertStyles=n,vo.registerStyles=t,vo}var wo={},sv;function N5(){if(sv)return wo;sv=1,Object.defineProperty(wo,"__esModule",{value:!0});var i=typeof document<"u";function e(r,s,o){var l="";return o.split(" ").forEach(function(u){r[u]!==void 0?s.push(r[u]+";"):l+=u+" "}),l}var t=function(s,o,l){var u=s.key+"-"+o.name;(l===!1||i===!1&&s.compat!==void 0)&&s.registered[u]===void 0&&(s.registered[u]=o.styles)},n=function(s,o,l){t(s,o,l);var u=s.key+"-"+o.name;if(s.inserted[o.name]===void 0){var h="",f=o;do{var m=s.insert(o===f?"."+u:"",f,s.sheet,!0);!i&&m!==void 0&&(h+=m),f=f.next}while(f!==void 0);if(!i&&h.length!==0)return h}};return wo.getRegisteredStyles=e,wo.insertStyles=n,wo.registerStyles=t,wo}(function(i){process.env.NODE_ENV==="production"?i.exports=M5():i.exports=N5()})(O5);var ts={},D5={get exports(){return ts},set exports(i){ts=i}},xu={},md={},B5={get exports(){return md},set exports(i){md=i}},ku={},ov;function V5(){if(ov)return ku;ov=1,Object.defineProperty(ku,"__esModule",{value:!0});function i(e){for(var t=0,n,r=0,s=e.length;s>=4;++r,s-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(s){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}return ku.default=i,ku}var Au={},av;function L5(){if(av)return Au;av=1,Object.defineProperty(Au,"__esModule",{value:!0});function i(e){for(var t=0,n,r=0,s=e.length;s>=4;++r,s-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(s){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}return Au.default=i,Au}var lv;function $0(){return lv||(lv=1,function(i){process.env.NODE_ENV==="production"?i.exports=V5():i.exports=L5()}(B5)),md}var gd={},F5={get exports(){return gd},set exports(i){gd=i}},Pu={},cv;function $5(){if(cv)return Pu;cv=1,Object.defineProperty(Pu,"__esModule",{value:!0});var i={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};return Pu.default=i,Pu}var Iu={},uv;function z5(){if(uv)return Iu;uv=1,Object.defineProperty(Iu,"__esModule",{value:!0});var i={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};return Iu.default=i,Iu}var dv;function z0(){return dv||(dv=1,function(i){process.env.NODE_ENV==="production"?i.exports=$5():i.exports=z5()}(F5)),gd}var hv;function W5(){if(hv)return xu;hv=1,Object.defineProperty(xu,"__esModule",{value:!0});var i=$0(),e=z0(),t=Al();function n(A){return A&&A.__esModule?A:{default:A}}var r=n(i),s=n(e),o=n(t),l=/[A-Z]|^ms/g,u=/_EMO_([^_]+?)_([^]*?)_EMO_/g,h=function(P){return P.charCodeAt(1)===45},f=function(P){return P!=null&&typeof P!="boolean"},m=o.default(function(A){return h(A)?A:A.replace(l,"-$&").toLowerCase()}),v=function(P,E){switch(P){case"animation":case"animationName":if(typeof E=="string")return E.replace(u,function(V,j,U){return N={name:j,styles:U,next:N},j})}return s.default[P]!==1&&!h(P)&&typeof E=="number"&&E!==0?E+"px":E},C="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function k(A,P,E){if(E==null)return"";if(E.__emotion_styles!==void 0)return E;switch(typeof E){case"boolean":return"";case"object":{if(E.anim===1)return N={name:E.name,styles:E.styles,next:N},E.name;if(E.styles!==void 0){var V=E.next;if(V!==void 0)for(;V!==void 0;)N={name:V.name,styles:V.styles,next:N},V=V.next;var j=E.styles+";";return j}return S(A,P,E)}case"function":{if(A!==void 0){var U=N,$=E(A);return N=U,k(A,P,$)}break}}if(P==null)return E;var M=P[E];return M!==void 0?M:E}function S(A,P,E){var V="";if(Array.isArray(E))for(var j=0;j<E.length;j++)V+=k(A,P,E[j])+";";else for(var U in E){var $=E[U];if(typeof $!="object")P!=null&&P[$]!==void 0?V+=U+"{"+P[$]+"}":f($)&&(V+=m(U)+":"+v(U,$)+";");else if(Array.isArray($)&&typeof $[0]=="string"&&(P==null||P[$[0]]===void 0))for(var M=0;M<$.length;M++)f($[M])&&(V+=m(U)+":"+v(U,$[M])+";");else{var D=k(A,P,$);switch(U){case"animation":case"animationName":{V+=m(U)+":"+D+";";break}default:V+=U+"{"+D+"}"}}}return V}var x=/label:\s*([^\s;\n{]+)\s*(;|$)/g,N,y=function(P,E,V){if(P.length===1&&typeof P[0]=="object"&&P[0]!==null&&P[0].styles!==void 0)return P[0];var j=!0,U="";N=void 0;var $=P[0];$==null||$.raw===void 0?(j=!1,U+=k(V,E,$)):U+=$[0];for(var M=1;M<P.length;M++)U+=k(V,E,P[M]),j&&(U+=$[M]);x.lastIndex=0;for(var D="",J;(J=x.exec(U))!==null;)D+="-"+J[1];var H=r.default(U)+D;return{name:H,styles:U,next:N}};return xu.serializeStyles=y,xu}var Ru={},fv;function j5(){if(fv)return Ru;fv=1,Object.defineProperty(Ru,"__esModule",{value:!0});var i=$0(),e=z0(),t=Al();function n(J){return J&&J.__esModule?J:{default:J}}var r=n(i),s=n(e),o=n(t),l=`You have illegal escape sequence in your template literal, most likely inside content's property value.
Because you write your CSS inside a JavaScript string you actually have to do double escaping, so for example "content: '\\00d7';" should become "content: '\\\\00d7';".
You can read more about this here:
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#ES2018_revision_of_illegal_escape_sequences`,u="You have passed in falsy value as style object's key (can happen when in example you pass unexported component as computed key).",h=/[A-Z]|^ms/g,f=/_EMO_([^_]+?)_([^]*?)_EMO_/g,m=function(H){return H.charCodeAt(1)===45},v=function(H){return H!=null&&typeof H!="boolean"},C=o.default(function(J){return m(J)?J:J.replace(h,"-$&").toLowerCase()}),k=function(H,Y){switch(H){case"animation":case"animationName":if(typeof Y=="string")return Y.replace(f,function(le,me,ee){return M={name:me,styles:ee,next:M},me})}return s.default[H]!==1&&!m(H)&&typeof Y=="number"&&Y!==0?Y+"px":Y};if(process.env.NODE_ENV!=="production"){var S=/(var|attr|counters?|url|element|(((repeating-)?(linear|radial))|conic)-gradient)\(|(no-)?(open|close)-quote/,x=["normal","none","initial","inherit","unset"],N=k,y=/^-ms-/,A=/-(.)/g,P={};k=function(H,Y){if(H==="content"&&(typeof Y!="string"||x.indexOf(Y)===-1&&!S.test(Y)&&(Y.charAt(0)!==Y.charAt(Y.length-1)||Y.charAt(0)!=='"'&&Y.charAt(0)!=="'")))throw new Error("You seem to be using a value for 'content' without quotes, try replacing it with `content: '\""+Y+"\"'`");var le=N(H,Y);return le!==""&&!m(H)&&H.indexOf("-")!==-1&&P[H]===void 0&&(P[H]=!0,console.error("Using kebab-case for css properties in objects is not supported. Did you mean "+H.replace(y,"ms-").replace(A,function(me,ee){return ee.toUpperCase()})+"?")),le}}var E="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function V(J,H,Y){if(Y==null)return"";if(Y.__emotion_styles!==void 0){if(process.env.NODE_ENV!=="production"&&Y.toString()==="NO_COMPONENT_SELECTOR")throw new Error(E);return Y}switch(typeof Y){case"boolean":return"";case"object":{if(Y.anim===1)return M={name:Y.name,styles:Y.styles,next:M},Y.name;if(Y.styles!==void 0){var le=Y.next;if(le!==void 0)for(;le!==void 0;)M={name:le.name,styles:le.styles,next:M},le=le.next;var me=Y.styles+";";return process.env.NODE_ENV!=="production"&&Y.map!==void 0&&(me+=Y.map),me}return j(J,H,Y)}case"function":{if(J!==void 0){var ee=M,te=Y(J);return M=ee,V(J,H,te)}else process.env.NODE_ENV!=="production"&&console.error("Functions that are interpolated in css calls will be stringified.\nIf you want to have a css call based on props, create a function that returns a css call like this\nlet dynamicStyle = (props) => css`color: ${props.color}`\nIt can be called directly with props or interpolated in a styled call like this\nlet SomeComponent = styled('div')`${dynamicStyle}`");break}case"string":if(process.env.NODE_ENV!=="production"){var ne=[],z=Y.replace(f,function(ve,ue,ce){var he="animation"+ne.length;return ne.push("const "+he+" = keyframes`"+ce.replace(/^@keyframes animation-\w+/,"")+"`"),"${"+he+"}"});ne.length&&console.error("`keyframes` output got interpolated into plain string, please wrap it with `css`.\n\nInstead of doing this:\n\n"+[].concat(ne,["`"+z+"`"]).join(`
`)+`

You should wrap it with \`css\` like this:

`+("css`"+z+"`"))}break}if(H==null)return Y;var se=H[Y];return se!==void 0?se:Y}function j(J,H,Y){var le="";if(Array.isArray(Y))for(var me=0;me<Y.length;me++)le+=V(J,H,Y[me])+";";else for(var ee in Y){var te=Y[ee];if(typeof te!="object")H!=null&&H[te]!==void 0?le+=ee+"{"+H[te]+"}":v(te)&&(le+=C(ee)+":"+k(ee,te)+";");else{if(ee==="NO_COMPONENT_SELECTOR"&&process.env.NODE_ENV!=="production")throw new Error(E);if(Array.isArray(te)&&typeof te[0]=="string"&&(H==null||H[te[0]]===void 0))for(var ne=0;ne<te.length;ne++)v(te[ne])&&(le+=C(ee)+":"+k(ee,te[ne])+";");else{var z=V(J,H,te);switch(ee){case"animation":case"animationName":{le+=C(ee)+":"+z+";";break}default:process.env.NODE_ENV!=="production"&&ee==="undefined"&&console.error(u),le+=ee+"{"+z+"}"}}}}return le}var U=/label:\s*([^\s;\n{]+)\s*(;|$)/g,$;process.env.NODE_ENV!=="production"&&($=/\/\*#\ssourceMappingURL=data:application\/json;\S+\s+\*\//g);var M,D=function(H,Y,le){if(H.length===1&&typeof H[0]=="object"&&H[0]!==null&&H[0].styles!==void 0)return H[0];var me=!0,ee="";M=void 0;var te=H[0];te==null||te.raw===void 0?(me=!1,ee+=V(le,Y,te)):(process.env.NODE_ENV!=="production"&&te[0]===void 0&&console.error(l),ee+=te[0]);for(var ne=1;ne<H.length;ne++)ee+=V(le,Y,H[ne]),me&&(process.env.NODE_ENV!=="production"&&te[ne]===void 0&&console.error(l),ee+=te[ne]);var z;process.env.NODE_ENV!=="production"&&(ee=ee.replace($,function(ce){return z=ce,""})),U.lastIndex=0;for(var se="",ve;(ve=U.exec(ee))!==null;)se+="-"+ve[1];var ue=r.default(ee)+se;return process.env.NODE_ENV!=="production"?{name:ue,styles:ee,map:z,next:M,toString:function(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}}:{name:ue,styles:ee,next:M}};return Ru.serializeStyles=D,Ru}(function(i){process.env.NODE_ENV==="production"?i.exports=W5():i.exports=j5()})(D5);var pd={},U5={get exports(){return pd},set exports(i){pd=i}},ja={},mv;function H5(){if(mv)return ja;mv=1,Object.defineProperty(ja,"__esModule",{value:!0});var i=Nt;function e(u){if(u&&u.__esModule)return u;var h=Object.create(null);return u&&Object.keys(u).forEach(function(f){if(f!=="default"){var m=Object.getOwnPropertyDescriptor(u,f);Object.defineProperty(h,f,m.get?m:{enumerable:!0,get:function(){return u[f]}})}}),h.default=u,Object.freeze(h)}var t=e(i),n=typeof document<"u",r=function(h){return h()},s=t["useInsertionEffect"]?t["useInsertionEffect"]:!1,o=n&&s||r,l=s||i.useLayoutEffect;return ja.useInsertionEffectAlwaysWithSyncFallback=o,ja.useInsertionEffectWithLayoutFallback=l,ja}var Ua={},gv;function q5(){if(gv)return Ua;gv=1,Object.defineProperty(Ua,"__esModule",{value:!0});var i=Nt;function e(u){if(u&&u.__esModule)return u;var h=Object.create(null);return u&&Object.keys(u).forEach(function(f){if(f!=="default"){var m=Object.getOwnPropertyDescriptor(u,f);Object.defineProperty(h,f,m.get?m:{enumerable:!0,get:function(){return u[f]}})}}),h.default=u,Object.freeze(h)}var t=e(i),n=typeof document<"u",r=function(h){return h()},s=t["useInsertionEffect"]?t["useInsertionEffect"]:!1,o=n&&s||r,l=s||i.useLayoutEffect;return Ua.useInsertionEffectAlwaysWithSyncFallback=o,Ua.useInsertionEffectWithLayoutFallback=l,Ua}var pv;function Pl(){return pv||(pv=1,function(i){process.env.NODE_ENV==="production"?i.exports=H5():i.exports=q5()}(U5)),pd}var _v;function K5(){return _v||(_v=1,function(i){var e=Nt,t=Vo,n=kl(),r=Jo(),s=F0(),o=or,l=ts,u=Pl();function h(D){return D&&D.__esModule?D:{default:D}}var f=h(t),m=h(r),v=typeof document<"u",C={}.hasOwnProperty,k=e.createContext(typeof HTMLElement<"u"?f.default({key:"css"}):null),S=k.Provider,x=function(){return e.useContext(k)};i.withEmotionCache=function(J){return e.forwardRef(function(H,Y){var le=e.useContext(k);return J(H,le,Y)})},v||(i.withEmotionCache=function(J){return function(H){var Y=e.useContext(k);return Y===null?(Y=f.default({key:"css"}),e.createElement(k.Provider,{value:Y},J(H,Y))):J(H,Y)}});var N=e.createContext({}),y=function(){return e.useContext(N)},A=function(J,H){if(typeof H=="function"){var Y=H(J);return Y}return n({},J,H)},P=m.default(function(D){return m.default(function(J){return A(D,J)})}),E=function(J){var H=e.useContext(N);return J.theme!==H&&(H=P(H)(J.theme)),e.createElement(N.Provider,{value:H},J.children)};function V(D){var J=D.displayName||D.name||"Component",H=function(me,ee){var te=e.useContext(N);return e.createElement(D,n({theme:te,ref:ee},me))},Y=e.forwardRef(H);return Y.displayName="WithTheme("+J+")",s.default(Y,D)}var j="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",U=function(J,H){var Y={};for(var le in H)C.call(H,le)&&(Y[le]=H[le]);return Y[j]=J,Y},$=function(J){var H=J.cache,Y=J.serialized,le=J.isStringTag;o.registerStyles(H,Y,le);var me=u.useInsertionEffectAlwaysWithSyncFallback(function(){return o.insertStyles(H,Y,le)});if(!v&&me!==void 0){for(var ee,te=Y.name,ne=Y.next;ne!==void 0;)te+=" "+ne.name,ne=ne.next;return e.createElement("style",(ee={},ee["data-emotion"]=H.key+" "+te,ee.dangerouslySetInnerHTML={__html:me},ee.nonce=H.sheet.nonce,ee))}return null},M=i.withEmotionCache(function(D,J,H){var Y=D.css;typeof Y=="string"&&J.registered[Y]!==void 0&&(Y=J.registered[Y]);var le=D[j],me=[Y],ee="";typeof D.className=="string"?ee=o.getRegisteredStyles(J.registered,me,D.className):D.className!=null&&(ee=D.className+" ");var te=l.serializeStyles(me,void 0,e.useContext(N));ee+=J.key+"-"+te.name;var ne={};for(var z in D)C.call(D,z)&&z!=="css"&&z!==j&&(ne[z]=D[z]);return ne.ref=H,ne.className=ee,e.createElement(e.Fragment,null,e.createElement($,{cache:J,serialized:te,isStringTag:typeof le=="string"}),e.createElement(le,ne))});i.CacheProvider=S,i.Emotion=M,i.ThemeContext=N,i.ThemeProvider=E,i.__unsafe_useEmotionCache=x,i.createEmotionProps=U,i.hasOwnProperty=C,i.isBrowser=v,i.useTheme=y,i.withTheme=V}(nm)),nm}var vv;function G5(){return vv||(vv=1,function(i){Object.defineProperty(i,"__esModule",{value:!0});var e=Nt,t=K5();kl(),Jo(),Dd(),F0();var n=or,r=ts,s=Pl(),o=function(S,x){var N=arguments;if(x==null||!t.hasOwnProperty.call(x,"css"))return e.createElement.apply(void 0,N);var y=N.length,A=new Array(y);A[0]=t.Emotion,A[1]=t.createEmotionProps(S,x);for(var P=2;P<y;P++)A[P]=N[P];return e.createElement.apply(null,A)},l=t.withEmotionCache(function(k,S){var x=k.styles,N=r.serializeStyles([x],void 0,e.useContext(t.ThemeContext));if(!t.isBrowser){for(var y,A=N.name,P=N.styles,E=N.next;E!==void 0;)A+=" "+E.name,P+=E.styles,E=E.next;var V=S.compat===!0,j=S.insert("",{name:A,styles:P},S.sheet,V);return V?null:e.createElement("style",(y={},y["data-emotion"]=S.key+"-global "+A,y.dangerouslySetInnerHTML={__html:j},y.nonce=S.sheet.nonce,y))}var U=e.useRef();return s.useInsertionEffectWithLayoutFallback(function(){var $=S.key+"-global",M=new S.sheet.constructor({key:$,nonce:S.sheet.nonce,container:S.sheet.container,speedy:S.sheet.isSpeedy}),D=!1,J=document.querySelector('style[data-emotion="'+$+" "+N.name+'"]');return S.sheet.tags.length&&(M.before=S.sheet.tags[0]),J!==null&&(D=!0,J.setAttribute("data-emotion",$),M.hydrate([J])),U.current=[M,D],function(){M.flush()}},[S]),s.useInsertionEffectWithLayoutFallback(function(){var $=U.current,M=$[0],D=$[1];if(D){$[1]=!1;return}if(N.next!==void 0&&n.insertStyles(S,N.next,!0),M.tags.length){var J=M.tags[M.tags.length-1].nextElementSibling;M.before=J,M.flush()}S.insert("",N,M,!1)},[S,N.name]),null});function u(){for(var k=arguments.length,S=new Array(k),x=0;x<k;x++)S[x]=arguments[x];return r.serializeStyles(S)}var h=function(){var S=u.apply(void 0,arguments),x="animation-"+S.name;return{name:x,styles:"@keyframes "+x+"{"+S.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},f=function k(S){for(var x=S.length,N=0,y="";N<x;N++){var A=S[N];if(A!=null){var P=void 0;switch(typeof A){case"boolean":break;case"object":{if(Array.isArray(A))P=k(A);else{P="";for(var E in A)A[E]&&E&&(P&&(P+=" "),P+=E)}break}default:P=A}P&&(y&&(y+=" "),y+=P)}}return y};function m(k,S,x){var N=[],y=n.getRegisteredStyles(k,N,x);return N.length<2?x:y+S(N)}var v=function(S){var x=S.cache,N=S.serializedArr,y=s.useInsertionEffectAlwaysWithSyncFallback(function(){for(var P="",E=0;E<N.length;E++){var V=n.insertStyles(x,N[E],!1);!t.isBrowser&&V!==void 0&&(P+=V)}if(!t.isBrowser)return P});if(!t.isBrowser&&y.length!==0){var A;return e.createElement("style",(A={},A["data-emotion"]=x.key+" "+N.map(function(P){return P.name}).join(" "),A.dangerouslySetInnerHTML={__html:y},A.nonce=x.sheet.nonce,A))}return null},C=t.withEmotionCache(function(k,S){var x=!1,N=[],y=function(){for(var j=arguments.length,U=new Array(j),$=0;$<j;$++)U[$]=arguments[$];var M=r.serializeStyles(U,S.registered);return N.push(M),n.registerStyles(S,M,!1),S.key+"-"+M.name},A=function(){for(var j=arguments.length,U=new Array(j),$=0;$<j;$++)U[$]=arguments[$];return m(S.registered,y,f(U))},P={css:y,cx:A,theme:e.useContext(t.ThemeContext)},E=k.children(P);return x=!0,e.createElement(e.Fragment,null,e.createElement(v,{cache:S,serializedArr:N}),E)});i.CacheProvider=t.CacheProvider,i.ThemeContext=t.ThemeContext,i.ThemeProvider=t.ThemeProvider,i.__unsafe_useEmotionCache=t.__unsafe_useEmotionCache,i.useTheme=t.useTheme,Object.defineProperty(i,"withEmotionCache",{enumerable:!0,get:function(){return t.withEmotionCache}}),i.withTheme=t.withTheme,i.ClassNames=C,i.Global=l,i.createElement=o,i.css=u,i.jsx=o,i.keyframes=h}(tm)),tm}var rm={},sm={},Ou={},wv;function W0(){if(wv)return Ou;wv=1,Object.defineProperty(Ou,"__esModule",{value:!0});var i=Dd();function e(r){return r&&r.__esModule?r:{default:r}}var t=e(i),n=function(r,s){return t.default(r,s)};return Ou.default=n,Ou}var bv;function Y5(){return bv||(bv=1,function(i){var e=Nt,t=Vo,n=kl(),r=Jo(),s=W0(),o=or,l=ts,u=Pl();function h(ee){return ee&&ee.__esModule?ee:{default:ee}}var f=h(t),m=h(r),v=typeof document<"u",C={}.hasOwnProperty,k=e.createContext(typeof HTMLElement<"u"?f.default({key:"css"}):null);process.env.NODE_ENV!=="production"&&(k.displayName="EmotionCacheContext");var S=k.Provider,x=function(){return e.useContext(k)};i.withEmotionCache=function(te){return e.forwardRef(function(ne,z){var se=e.useContext(k);return te(ne,se,z)})},v||(i.withEmotionCache=function(te){return function(ne){var z=e.useContext(k);return z===null?(z=f.default({key:"css"}),e.createElement(k.Provider,{value:z},te(ne,z))):te(ne,z)}});var N=e.createContext({});process.env.NODE_ENV!=="production"&&(N.displayName="EmotionThemeContext");var y=function(){return e.useContext(N)},A=function(te,ne){if(typeof ne=="function"){var z=ne(te);if(process.env.NODE_ENV!=="production"&&(z==null||typeof z!="object"||Array.isArray(z)))throw new Error("[ThemeProvider] Please return an object from your theme function, i.e. theme={() => ({})}!");return z}if(process.env.NODE_ENV!=="production"&&(ne==null||typeof ne!="object"||Array.isArray(ne)))throw new Error("[ThemeProvider] Please make your theme prop a plain object");return n({},te,ne)},P=m.default(function(ee){return m.default(function(te){return A(ee,te)})}),E=function(te){var ne=e.useContext(N);return te.theme!==ne&&(ne=P(ne)(te.theme)),e.createElement(N.Provider,{value:ne},te.children)};function V(ee){var te=ee.displayName||ee.name||"Component",ne=function(ve,ue){var ce=e.useContext(N);return e.createElement(ee,n({theme:ce,ref:ue},ve))},z=e.forwardRef(ne);return z.displayName="WithTheme("+te+")",s.default(z,ee)}var j=function(te){var ne=te.split(".");return ne[ne.length-1]},U=function(te){var ne=/^\s+at\s+([A-Za-z0-9$.]+)\s/.exec(te);if(ne||(ne=/^([A-Za-z0-9$.]+)@/.exec(te),ne))return j(ne[1])},$=new Set(["renderWithHooks","processChild","finishClassComponent","renderToString"]),M=function(te){return te.replace(/\$/g,"-")},D=function(te){if(te)for(var ne=te.split(`
`),z=0;z<ne.length;z++){var se=U(ne[z]);if(se){if($.has(se))break;if(/^[A-Z]/.test(se))return M(se)}}},J="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",H="__EMOTION_LABEL_PLEASE_DO_NOT_USE__",Y=function(te,ne){if(process.env.NODE_ENV!=="production"&&typeof ne.css=="string"&&ne.css.indexOf(":")!==-1)throw new Error("Strings are not allowed as css prop values, please wrap it in a css template literal from '@emotion/react' like this: css`"+ne.css+"`");var z={};for(var se in ne)C.call(ne,se)&&(z[se]=ne[se]);if(z[J]=te,process.env.NODE_ENV!=="production"&&ne.css&&(typeof ne.css!="object"||typeof ne.css.name!="string"||ne.css.name.indexOf("-")===-1)){var ve=D(new Error().stack);ve&&(z[H]=ve)}return z},le=function(te){var ne=te.cache,z=te.serialized,se=te.isStringTag;o.registerStyles(ne,z,se);var ve=u.useInsertionEffectAlwaysWithSyncFallback(function(){return o.insertStyles(ne,z,se)});if(!v&&ve!==void 0){for(var ue,ce=z.name,he=z.next;he!==void 0;)ce+=" "+he.name,he=he.next;return e.createElement("style",(ue={},ue["data-emotion"]=ne.key+" "+ce,ue.dangerouslySetInnerHTML={__html:ve},ue.nonce=ne.sheet.nonce,ue))}return null},me=i.withEmotionCache(function(ee,te,ne){var z=ee.css;typeof z=="string"&&te.registered[z]!==void 0&&(z=te.registered[z]);var se=ee[J],ve=[z],ue="";typeof ee.className=="string"?ue=o.getRegisteredStyles(te.registered,ve,ee.className):ee.className!=null&&(ue=ee.className+" ");var ce=l.serializeStyles(ve,void 0,e.useContext(N));if(process.env.NODE_ENV!=="production"&&ce.name.indexOf("-")===-1){var he=ee[H];he&&(ce=l.serializeStyles([ce,"label:"+he+";"]))}ue+=te.key+"-"+ce.name;var be={};for(var Ee in ee)C.call(ee,Ee)&&Ee!=="css"&&Ee!==J&&(process.env.NODE_ENV==="production"||Ee!==H)&&(be[Ee]=ee[Ee]);return be.ref=ne,be.className=ue,e.createElement(e.Fragment,null,e.createElement(le,{cache:te,serialized:ce,isStringTag:typeof se=="string"}),e.createElement(se,be))});process.env.NODE_ENV!=="production"&&(me.displayName="EmotionCssPropInternal"),i.CacheProvider=S,i.Emotion=me,i.ThemeContext=N,i.ThemeProvider=E,i.__unsafe_useEmotionCache=x,i.createEmotionProps=Y,i.hasOwnProperty=C,i.isBrowser=v,i.useTheme=y,i.withTheme=V}(sm)),sm}var yv;function J5(){return yv||(yv=1,function(i){Object.defineProperty(i,"__esModule",{value:!0});var e=Nt,t=Y5();kl(),Jo(),Dd(),W0();var n=or,r=ts,s=Pl(),o={name:"@emotion/react",version:"11.10.6",main:"dist/emotion-react.cjs.js",module:"dist/emotion-react.esm.js",browser:{"./dist/emotion-react.esm.js":"./dist/emotion-react.browser.esm.js"},exports:{".":{module:{worker:"./dist/emotion-react.worker.esm.js",browser:"./dist/emotion-react.browser.esm.js",default:"./dist/emotion-react.esm.js"},default:"./dist/emotion-react.cjs.js"},"./jsx-runtime":{module:{worker:"./jsx-runtime/dist/emotion-react-jsx-runtime.worker.esm.js",browser:"./jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js",default:"./jsx-runtime/dist/emotion-react-jsx-runtime.esm.js"},default:"./jsx-runtime/dist/emotion-react-jsx-runtime.cjs.js"},"./_isolated-hnrs":{module:{worker:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.worker.esm.js",browser:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.browser.esm.js",default:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.esm.js"},default:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.cjs.js"},"./jsx-dev-runtime":{module:{worker:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.worker.esm.js",browser:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.browser.esm.js",default:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.esm.js"},default:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.cjs.js"},"./package.json":"./package.json","./types/css-prop":"./types/css-prop.d.ts","./macro":"./macro.js"},types:"types/index.d.ts",files:["src","dist","jsx-runtime","jsx-dev-runtime","_isolated-hnrs","types/*.d.ts","macro.js","macro.d.ts","macro.js.flow"],sideEffects:!1,author:"Emotion Contributors",license:"MIT",scripts:{"test:typescript":"dtslint types"},dependencies:{"@babel/runtime":"^7.18.3","@emotion/babel-plugin":"^11.10.6","@emotion/cache":"^11.10.5","@emotion/serialize":"^1.1.1","@emotion/use-insertion-effect-with-fallbacks":"^1.0.0","@emotion/utils":"^1.2.0","@emotion/weak-memoize":"^0.3.0","hoist-non-react-statics":"^3.3.1"},peerDependencies:{react:">=16.8.0"},peerDependenciesMeta:{"@types/react":{optional:!0}},devDependencies:{"@definitelytyped/dtslint":"0.0.112","@emotion/css":"11.10.6","@emotion/css-prettifier":"1.1.1","@emotion/server":"11.10.0","@emotion/styled":"11.10.6","html-tag-names":"^1.1.2",react:"16.14.0","svg-tag-names":"^1.1.1",typescript:"^4.5.5"},repository:"https://github.com/emotion-js/emotion/tree/main/packages/react",publishConfig:{access:"public"},"umd:main":"dist/emotion-react.umd.min.js",preconstruct:{entrypoints:["./index.js","./jsx-runtime.js","./jsx-dev-runtime.js","./_isolated-hnrs.js"],umdName:"emotionReact",exports:{envConditions:["browser","worker"],extra:{"./types/css-prop":"./types/css-prop.d.ts","./macro":"./macro.js"}}}},l=function(E,V){var j=arguments;if(V==null||!t.hasOwnProperty.call(V,"css"))return e.createElement.apply(void 0,j);var U=j.length,$=new Array(U);$[0]=t.Emotion,$[1]=t.createEmotionProps(E,V);for(var M=2;M<U;M++)$[M]=j[M];return e.createElement.apply(null,$)},u=!1,h=t.withEmotionCache(function(P,E){process.env.NODE_ENV!=="production"&&!u&&(P.className||P.css)&&(console.error("It looks like you're using the css prop on Global, did you mean to use the styles prop instead?"),u=!0);var V=P.styles,j=r.serializeStyles([V],void 0,e.useContext(t.ThemeContext));if(!t.isBrowser){for(var U,$=j.name,M=j.styles,D=j.next;D!==void 0;)$+=" "+D.name,M+=D.styles,D=D.next;var J=E.compat===!0,H=E.insert("",{name:$,styles:M},E.sheet,J);return J?null:e.createElement("style",(U={},U["data-emotion"]=E.key+"-global "+$,U.dangerouslySetInnerHTML={__html:H},U.nonce=E.sheet.nonce,U))}var Y=e.useRef();return s.useInsertionEffectWithLayoutFallback(function(){var le=E.key+"-global",me=new E.sheet.constructor({key:le,nonce:E.sheet.nonce,container:E.sheet.container,speedy:E.sheet.isSpeedy}),ee=!1,te=document.querySelector('style[data-emotion="'+le+" "+j.name+'"]');return E.sheet.tags.length&&(me.before=E.sheet.tags[0]),te!==null&&(ee=!0,te.setAttribute("data-emotion",le),me.hydrate([te])),Y.current=[me,ee],function(){me.flush()}},[E]),s.useInsertionEffectWithLayoutFallback(function(){var le=Y.current,me=le[0],ee=le[1];if(ee){le[1]=!1;return}if(j.next!==void 0&&n.insertStyles(E,j.next,!0),me.tags.length){var te=me.tags[me.tags.length-1].nextElementSibling;me.before=te,me.flush()}E.insert("",j,me,!1)},[E,j.name]),null});process.env.NODE_ENV!=="production"&&(h.displayName="EmotionGlobal");function f(){for(var P=arguments.length,E=new Array(P),V=0;V<P;V++)E[V]=arguments[V];return r.serializeStyles(E)}var m=function(){var E=f.apply(void 0,arguments),V="animation-"+E.name;return{name:V,styles:"@keyframes "+V+"{"+E.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},v=function P(E){for(var V=E.length,j=0,U="";j<V;j++){var $=E[j];if($!=null){var M=void 0;switch(typeof $){case"boolean":break;case"object":{if(Array.isArray($))M=P($);else{process.env.NODE_ENV!=="production"&&$.styles!==void 0&&$.name!==void 0&&console.error("You have passed styles created with `css` from `@emotion/react` package to the `cx`.\n`cx` is meant to compose class names (strings) so you should convert those styles to a class name by passing them to the `css` received from <ClassNames/> component."),M="";for(var D in $)$[D]&&D&&(M&&(M+=" "),M+=D)}break}default:M=$}M&&(U&&(U+=" "),U+=M)}}return U};function C(P,E,V){var j=[],U=n.getRegisteredStyles(P,j,V);return j.length<2?V:U+E(j)}var k=function(E){var V=E.cache,j=E.serializedArr,U=s.useInsertionEffectAlwaysWithSyncFallback(function(){for(var M="",D=0;D<j.length;D++){var J=n.insertStyles(V,j[D],!1);!t.isBrowser&&J!==void 0&&(M+=J)}if(!t.isBrowser)return M});if(!t.isBrowser&&U.length!==0){var $;return e.createElement("style",($={},$["data-emotion"]=V.key+" "+j.map(function(M){return M.name}).join(" "),$.dangerouslySetInnerHTML={__html:U},$.nonce=V.sheet.nonce,$))}return null},S=t.withEmotionCache(function(P,E){var V=!1,j=[],U=function(){if(V&&process.env.NODE_ENV!=="production")throw new Error("css can only be used during render");for(var H=arguments.length,Y=new Array(H),le=0;le<H;le++)Y[le]=arguments[le];var me=r.serializeStyles(Y,E.registered);return j.push(me),n.registerStyles(E,me,!1),E.key+"-"+me.name},$=function(){if(V&&process.env.NODE_ENV!=="production")throw new Error("cx can only be used during render");for(var H=arguments.length,Y=new Array(H),le=0;le<H;le++)Y[le]=arguments[le];return C(E.registered,U,v(Y))},M={css:U,cx:$,theme:e.useContext(t.ThemeContext)},D=P.children(M);return V=!0,e.createElement(e.Fragment,null,e.createElement(k,{cache:E,serializedArr:j}),D)});if(process.env.NODE_ENV!=="production"&&(S.displayName="EmotionClassNames"),process.env.NODE_ENV!=="production"){var x=typeof document<"u",N=typeof jest<"u"||typeof vi<"u";if(x&&!N){var y=typeof globalThis<"u"?globalThis:x?window:et,A="__EMOTION_REACT_"+o.version.split(".")[0]+"__";y[A]&&console.warn("You are loading @emotion/react when it is already loaded. Running multiple instances may cause problems. This can happen if multiple versions are used, or if multiple builds of the same version are used."),y[A]=!0}}i.CacheProvider=t.CacheProvider,i.ThemeContext=t.ThemeContext,i.ThemeProvider=t.ThemeProvider,i.__unsafe_useEmotionCache=t.__unsafe_useEmotionCache,i.useTheme=t.useTheme,Object.defineProperty(i,"withEmotionCache",{enumerable:!0,get:function(){return t.withEmotionCache}}),i.withTheme=t.withTheme,i.ClassNames=S,i.Global=h,i.createElement=l,i.css=f,i.jsx=l,i.keyframes=m}(rm)),rm}(function(i){process.env.NODE_ENV==="production"?i.exports=G5():i.exports=J5()})(p5);var X5=Pl(),Z5=g5,Q5=function(e){return e!=="theme"},Ev=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?Z5:Q5},Cv=function(e,t,n){var r;if(t){var s=t.shouldForwardProp;r=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof r!="function"&&n&&(r=e.__emotion_forwardProp),r},Sv=`You have illegal escape sequence in your template literal, most likely inside content's property value.
Because you write your CSS inside a JavaScript string you actually have to do double escaping, so for example "content: '\\00d7';" should become "content: '\\\\00d7';".
You can read more about this here:
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#ES2018_revision_of_illegal_escape_sequences`,eI=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return or.registerStyles(t,n,r),X5.useInsertionEffectAlwaysWithSyncFallback(function(){return or.insertStyles(t,n,r)}),null},tI=function i(e,t){if(process.env.NODE_ENV!=="production"&&e===void 0)throw new Error(`You are trying to create a styled element with an undefined component.
You may have forgotten to import it.`);var n=e.__emotion_real===e,r=n&&e.__emotion_base||e,s,o;t!==void 0&&(s=t.label,o=t.target);var l=Cv(e,t,n),u=l||Ev(r),h=!u("as");return function(){var f=arguments,m=n&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&m.push("label:"+s+";"),f[0]==null||f[0].raw===void 0)m.push.apply(m,f);else{process.env.NODE_ENV!=="production"&&f[0][0]===void 0&&console.error(Sv),m.push(f[0][0]);for(var v=f.length,C=1;C<v;C++)process.env.NODE_ENV!=="production"&&f[0][C]===void 0&&console.error(Sv),m.push(f[C],f[0][C])}var k=Fi.withEmotionCache(function(S,x,N){var y=h&&S.as||r,A="",P=[],E=S;if(S.theme==null){E={};for(var V in S)E[V]=S[V];E.theme=Nt.useContext(Fi.ThemeContext)}typeof S.className=="string"?A=or.getRegisteredStyles(x.registered,P,S.className):S.className!=null&&(A=S.className+" ");var j=ts.serializeStyles(m.concat(P),x.registered,E);A+=x.key+"-"+j.name,o!==void 0&&(A+=" "+o);var U=h&&l===void 0?Ev(y):u,$={};for(var M in S)h&&M==="as"||U(M)&&($[M]=S[M]);return $.className=A,$.ref=N,Nt.createElement(Nt.Fragment,null,Nt.createElement(eI,{cache:x,serialized:j,isStringTag:typeof y=="string"}),Nt.createElement(y,$))});return k.displayName=s!==void 0?s:"Styled("+(typeof r=="string"?r:r.displayName||r.name||"Component")+")",k.defaultProps=e.defaultProps,k.__emotion_real=k,k.__emotion_base=r,k.__emotion_styles=m,k.__emotion_forwardProp=l,Object.defineProperty(k,"toString",{value:function(){return o===void 0&&process.env.NODE_ENV!=="production"?"NO_COMPONENT_SELECTOR":"."+o}}),k.withComponent=function(S,x){return i(S,Ae({},t,x,{shouldForwardProp:Cv(k,x,!0)})).apply(void 0,m)},k}};const nI=tI;var iI=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Um=nI.bind();iI.forEach(function(i){Um[i]=Um(i)});const rI=Um,sI=k5({key:"css",prepend:!0});function j0(i){const{injectFirst:e,children:t}=i;return e?In.jsx(Fi.CacheProvider,{value:sI,children:t}):t}process.env.NODE_ENV!=="production"&&(j0.propTypes={children:Ue.node,injectFirst:Ue.bool});function oI(i){return i==null||Object.keys(i).length===0}function Yu(i){const{styles:e,defaultTheme:t={}}=i,n=typeof e=="function"?r=>e(oI(r)?t:r):e;return In.jsx(Fi.Global,{styles:n})}process.env.NODE_ENV!=="production"&&(Yu.propTypes={defaultTheme:Ue.object,styles:Ue.oneOfType([Ue.string,Ue.object,Ue.func])});/** @license MUI v5.11.0
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function aI(i,e){const t=rI(i,e);return process.env.NODE_ENV!=="production"?(...n)=>{const r=typeof i=="string"?`"${i}"`:"component";return n.length===0?console.error([`MUI: Seems like you called \`styled(${r})()\` without a \`style\` argument.`,'You must provide a `styles` argument: `styled("div")(styleYouForgotToPass)`.'].join(`
`)):n.some(s=>s===void 0)&&console.error(`MUI: the styled(${r})(...args) API requires all its args to be defined.`),t(...n)}:t}const lI=(i,e)=>{Array.isArray(i.__emotion_styles)&&(i.__emotion_styles=e(i.__emotion_styles))},cI=process.env.NODE_ENV!=="production"?Ue.oneOfType([Ue.number,Ue.string,Ue.object,Ue.array]):{},ss=cI;function ll(i,e){return e?ki(i,e,{clone:!1}):i}const Ag={xs:0,sm:600,md:900,lg:1200,xl:1536},Tv={keys:["xs","sm","md","lg","xl"],up:i=>`@media (min-width:${Ag[i]}px)`};function Pr(i,e,t){const n=i.theme||{};if(Array.isArray(e)){const s=n.breakpoints||Tv;return e.reduce((o,l,u)=>(o[s.up(s.keys[u])]=t(e[u]),o),{})}if(typeof e=="object"){const s=n.breakpoints||Tv;return Object.keys(e).reduce((o,l)=>{if(Object.keys(s.values||Ag).indexOf(l)!==-1){const u=s.up(l);o[u]=t(e[l],l)}else{const u=l;o[u]=e[u]}return o},{})}return t(e)}function uI(i={}){var e;return((e=i.keys)==null?void 0:e.reduce((n,r)=>{const s=i.up(r);return n[s]={},n},{}))||{}}function dI(i,e){return i.reduce((t,n)=>{const r=t[n];return(!r||Object.keys(r).length===0)&&delete t[n],t},e)}function Bd(i,e,t=!0){if(!e||typeof e!="string")return null;if(i&&i.vars&&t){const n=`vars.${e}`.split(".").reduce((r,s)=>r&&r[s]?r[s]:null,i);if(n!=null)return n}return e.split(".").reduce((n,r)=>n&&n[r]!=null?n[r]:null,i)}function _d(i,e,t,n=t){let r;return typeof i=="function"?r=i(t):Array.isArray(i)?r=i[t]||n:r=Bd(i,t)||n,e&&(r=e(r,n,i)),r}function ht(i){const{prop:e,cssProperty:t=i.prop,themeKey:n,transform:r}=i,s=o=>{if(o[e]==null)return null;const l=o[e],u=o.theme,h=Bd(u,n)||{};return Pr(o,l,m=>{let v=_d(h,r,m);return m===v&&typeof m=="string"&&(v=_d(h,r,`${e}${m==="default"?"":ol(m)}`,m)),t===!1?v:{[t]:v}})};return s.propTypes=process.env.NODE_ENV!=="production"?{[e]:ss}:{},s.filterProps=[e],s}function Vd(...i){const e=i.reduce((n,r)=>(r.filterProps.forEach(s=>{n[s]=r}),n),{}),t=n=>Object.keys(n).reduce((r,s)=>e[s]?ll(r,e[s](n)):r,{});return t.propTypes=process.env.NODE_ENV!=="production"?i.reduce((n,r)=>Object.assign(n,r.propTypes),{}):{},t.filterProps=i.reduce((n,r)=>n.concat(r.filterProps),[]),t}function hI(i){const e={};return t=>(e[t]===void 0&&(e[t]=i(t)),e[t])}const fI={m:"margin",p:"padding"},mI={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},xv={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},gI=hI(i=>{if(i.length>2)if(xv[i])i=xv[i];else return[i];const[e,t]=i.split(""),n=fI[e],r=mI[t]||"";return Array.isArray(r)?r.map(s=>n+s):[n+r]}),Ld=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Fd=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],pI=[...Ld,...Fd];function Il(i,e,t,n){var r;const s=(r=Bd(i,e,!1))!=null?r:t;return typeof s=="number"?o=>typeof o=="string"?o:(process.env.NODE_ENV!=="production"&&typeof o!="number"&&console.error(`MUI: Expected ${n} argument to be a number or a string, got ${o}.`),s*o):Array.isArray(s)?o=>typeof o=="string"?o:(process.env.NODE_ENV!=="production"&&(Number.isInteger(o)?o>s.length-1&&console.error([`MUI: The value provided (${o}) overflows.`,`The supported values are: ${JSON.stringify(s)}.`,`${o} > ${s.length-1}, you need to add the missing values.`].join(`
`)):console.error([`MUI: The \`theme.${e}\` array type cannot be combined with non integer values.You should either use an integer value that can be used as index, or define the \`theme.${e}\` as a number.`].join(`
`))),s[o]):typeof s=="function"?s:(process.env.NODE_ENV!=="production"&&console.error([`MUI: The \`theme.${e}\` value (${s}) is invalid.`,"It should be a number, an array or a function."].join(`
`)),()=>{})}function U0(i){return Il(i,"spacing",8,"spacing")}function Rl(i,e){if(typeof e=="string"||e==null)return e;const t=Math.abs(e),n=i(t);return e>=0?n:typeof n=="number"?-n:`-${n}`}function _I(i,e){return t=>i.reduce((n,r)=>(n[r]=Rl(e,t),n),{})}function vI(i,e,t,n){if(e.indexOf(t)===-1)return null;const r=gI(t),s=_I(r,n),o=i[t];return Pr(i,o,s)}function H0(i,e){const t=U0(i.theme);return Object.keys(i).map(n=>vI(i,e,n,t)).reduce(ll,{})}function Ut(i){return H0(i,Ld)}Ut.propTypes=process.env.NODE_ENV!=="production"?Ld.reduce((i,e)=>(i[e]=ss,i),{}):{};Ut.filterProps=Ld;function Ht(i){return H0(i,Fd)}Ht.propTypes=process.env.NODE_ENV!=="production"?Fd.reduce((i,e)=>(i[e]=ss,i),{}):{};Ht.filterProps=Fd;process.env.NODE_ENV!=="production"&&pI.reduce((i,e)=>(i[e]=ss,i),{});function tr(i){return typeof i!="number"?i:`${i}px solid`}const wI=ht({prop:"border",themeKey:"borders",transform:tr}),bI=ht({prop:"borderTop",themeKey:"borders",transform:tr}),yI=ht({prop:"borderRight",themeKey:"borders",transform:tr}),EI=ht({prop:"borderBottom",themeKey:"borders",transform:tr}),CI=ht({prop:"borderLeft",themeKey:"borders",transform:tr}),SI=ht({prop:"borderColor",themeKey:"palette"}),TI=ht({prop:"borderTopColor",themeKey:"palette"}),xI=ht({prop:"borderRightColor",themeKey:"palette"}),kI=ht({prop:"borderBottomColor",themeKey:"palette"}),AI=ht({prop:"borderLeftColor",themeKey:"palette"}),$d=i=>{if(i.borderRadius!==void 0&&i.borderRadius!==null){const e=Il(i.theme,"shape.borderRadius",4,"borderRadius"),t=n=>({borderRadius:Rl(e,n)});return Pr(i,i.borderRadius,t)}return null};$d.propTypes=process.env.NODE_ENV!=="production"?{borderRadius:ss}:{};$d.filterProps=["borderRadius"];Vd(wI,bI,yI,EI,CI,SI,TI,xI,kI,AI,$d);const zd=i=>{if(i.gap!==void 0&&i.gap!==null){const e=Il(i.theme,"spacing",8,"gap"),t=n=>({gap:Rl(e,n)});return Pr(i,i.gap,t)}return null};zd.propTypes=process.env.NODE_ENV!=="production"?{gap:ss}:{};zd.filterProps=["gap"];const Wd=i=>{if(i.columnGap!==void 0&&i.columnGap!==null){const e=Il(i.theme,"spacing",8,"columnGap"),t=n=>({columnGap:Rl(e,n)});return Pr(i,i.columnGap,t)}return null};Wd.propTypes=process.env.NODE_ENV!=="production"?{columnGap:ss}:{};Wd.filterProps=["columnGap"];const jd=i=>{if(i.rowGap!==void 0&&i.rowGap!==null){const e=Il(i.theme,"spacing",8,"rowGap"),t=n=>({rowGap:Rl(e,n)});return Pr(i,i.rowGap,t)}return null};jd.propTypes=process.env.NODE_ENV!=="production"?{rowGap:ss}:{};jd.filterProps=["rowGap"];const PI=ht({prop:"gridColumn"}),II=ht({prop:"gridRow"}),RI=ht({prop:"gridAutoFlow"}),OI=ht({prop:"gridAutoColumns"}),MI=ht({prop:"gridAutoRows"}),NI=ht({prop:"gridTemplateColumns"}),DI=ht({prop:"gridTemplateRows"}),BI=ht({prop:"gridTemplateAreas"}),VI=ht({prop:"gridArea"});Vd(zd,Wd,jd,PI,II,RI,OI,MI,NI,DI,BI,VI);function Do(i,e){return e==="grey"?e:i}const LI=ht({prop:"color",themeKey:"palette",transform:Do}),FI=ht({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Do}),$I=ht({prop:"backgroundColor",themeKey:"palette",transform:Do});Vd(LI,FI,$I);function ui(i){return i<=1&&i!==0?`${i*100}%`:i}const zI=ht({prop:"width",transform:ui}),Pg=i=>{if(i.maxWidth!==void 0&&i.maxWidth!==null){const e=t=>{var n,r,s;return{maxWidth:((n=i.theme)==null||(r=n.breakpoints)==null||(s=r.values)==null?void 0:s[t])||Ag[t]||ui(t)}};return Pr(i,i.maxWidth,e)}return null};Pg.filterProps=["maxWidth"];const WI=ht({prop:"minWidth",transform:ui}),jI=ht({prop:"height",transform:ui}),UI=ht({prop:"maxHeight",transform:ui}),HI=ht({prop:"minHeight",transform:ui});ht({prop:"size",cssProperty:"width",transform:ui});ht({prop:"size",cssProperty:"height",transform:ui});const qI=ht({prop:"boxSizing"});Vd(zI,Pg,WI,jI,UI,HI,qI);const KI={border:{themeKey:"borders",transform:tr},borderTop:{themeKey:"borders",transform:tr},borderRight:{themeKey:"borders",transform:tr},borderBottom:{themeKey:"borders",transform:tr},borderLeft:{themeKey:"borders",transform:tr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:$d},color:{themeKey:"palette",transform:Do},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Do},backgroundColor:{themeKey:"palette",transform:Do},p:{style:Ht},pt:{style:Ht},pr:{style:Ht},pb:{style:Ht},pl:{style:Ht},px:{style:Ht},py:{style:Ht},padding:{style:Ht},paddingTop:{style:Ht},paddingRight:{style:Ht},paddingBottom:{style:Ht},paddingLeft:{style:Ht},paddingX:{style:Ht},paddingY:{style:Ht},paddingInline:{style:Ht},paddingInlineStart:{style:Ht},paddingInlineEnd:{style:Ht},paddingBlock:{style:Ht},paddingBlockStart:{style:Ht},paddingBlockEnd:{style:Ht},m:{style:Ut},mt:{style:Ut},mr:{style:Ut},mb:{style:Ut},ml:{style:Ut},mx:{style:Ut},my:{style:Ut},margin:{style:Ut},marginTop:{style:Ut},marginRight:{style:Ut},marginBottom:{style:Ut},marginLeft:{style:Ut},marginX:{style:Ut},marginY:{style:Ut},marginInline:{style:Ut},marginInlineStart:{style:Ut},marginInlineEnd:{style:Ut},marginBlock:{style:Ut},marginBlockStart:{style:Ut},marginBlockEnd:{style:Ut},displayPrint:{cssProperty:!1,transform:i=>({"@media print":{display:i}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:zd},rowGap:{style:jd},columnGap:{style:Wd},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:ui},maxWidth:{style:Pg},minWidth:{transform:ui},height:{transform:ui},maxHeight:{transform:ui},minHeight:{transform:ui},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},Ud=KI;function GI(...i){const e=i.reduce((n,r)=>n.concat(Object.keys(r)),[]),t=new Set(e);return i.every(n=>t.size===Object.keys(n).length)}function YI(i,e){return typeof i=="function"?i(e):i}function JI(){function i(t,n,r,s){const o={[t]:n,theme:r},l=s[t];if(!l)return{[t]:n};const{cssProperty:u=t,themeKey:h,transform:f,style:m}=l;if(n==null)return null;const v=Bd(r,h)||{};return m?m(o):Pr(o,n,k=>{let S=_d(v,f,k);return k===S&&typeof k=="string"&&(S=_d(v,f,`${t}${k==="default"?"":ol(k)}`,k)),u===!1?S:{[u]:S}})}function e(t){var n;const{sx:r,theme:s={}}=t||{};if(!r)return null;const o=(n=s.unstable_sxConfig)!=null?n:Ud;function l(u){let h=u;if(typeof u=="function")h=u(s);else if(typeof u!="object")return u;if(!h)return null;const f=uI(s.breakpoints),m=Object.keys(f);let v=f;return Object.keys(h).forEach(C=>{const k=YI(h[C],s);if(k!=null)if(typeof k=="object")if(o[C])v=ll(v,i(C,k,s,o));else{const S=Pr({theme:s},k,x=>({[C]:x}));GI(S,k)?v[C]=e({sx:k,theme:s}):v=ll(v,S)}else v=ll(v,i(C,k,s,o))}),dI(m,v)}return Array.isArray(r)?r.map(l):l(r)}return e}const q0=JI();q0.filterProps=["sx"];const Ol=q0,XI=["values","unit","step"],ZI=i=>{const e=Object.keys(i).map(t=>({key:t,val:i[t]}))||[];return e.sort((t,n)=>t.val-n.val),e.reduce((t,n)=>Ae({},t,{[n.key]:n.val}),{})};function K0(i){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:n=5}=i,r=Wn(i,XI),s=ZI(e),o=Object.keys(s);function l(v){return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t})`}function u(v){return`@media (max-width:${(typeof e[v]=="number"?e[v]:v)-n/100}${t})`}function h(v,C){const k=o.indexOf(C);return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t}) and (max-width:${(k!==-1&&typeof e[o[k]]=="number"?e[o[k]]:C)-n/100}${t})`}function f(v){return o.indexOf(v)+1<o.length?h(v,o[o.indexOf(v)+1]):l(v)}function m(v){const C=o.indexOf(v);return C===0?l(o[1]):C===o.length-1?u(o[C]):h(v,o[o.indexOf(v)+1]).replace("@media","@media not all and")}return Ae({keys:o,values:s,up:l,down:u,between:h,only:f,not:m,unit:t},r)}const QI={borderRadius:4},eR=QI;function G0(i=8){if(i.mui)return i;const e=U0({spacing:i}),t=(...n)=>(process.env.NODE_ENV!=="production"&&(n.length<=4||console.error(`MUI: Too many arguments provided, expected between 0 and 4, got ${n.length}`)),(n.length===0?[1]:n).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" "));return t.mui=!0,t}const tR=["breakpoints","palette","spacing","shape"];function Ig(i={},...e){const{breakpoints:t={},palette:n={},spacing:r,shape:s={}}=i,o=Wn(i,tR),l=K0(t),u=G0(r);let h=ki({breakpoints:l,direction:"ltr",components:{},palette:Ae({mode:"light"},n),spacing:u,shape:Ae({},eR,s)},o);return h=e.reduce((f,m)=>ki(f,m),h),h.unstable_sxConfig=Ae({},Ud,o?.unstable_sxConfig),h.unstable_sx=function(m){return Ol({sx:m,theme:this})},h}const Y0=qt.createContext(null);process.env.NODE_ENV!=="production"&&(Y0.displayName="ThemeContext");const J0=Y0;function Rg(){const i=qt.useContext(J0);return process.env.NODE_ENV!=="production"&&qt.useDebugValue(i),i}const nR=typeof Symbol=="function"&&Symbol.for,iR=nR?Symbol.for("mui.nested"):"__THEME_NESTED__";function rR(i,e){if(typeof e=="function"){const t=e(i);return process.env.NODE_ENV!=="production"&&(t||console.error(["MUI: You should return an object from your theme function, i.e.","<ThemeProvider theme={() => ({})} />"].join(`
`))),t}return Ae({},i,e)}function vd(i){const{children:e,theme:t}=i,n=Rg();process.env.NODE_ENV!=="production"&&n===null&&typeof t=="function"&&console.error(["MUI: You are providing a theme function prop to the ThemeProvider component:","<ThemeProvider theme={outerTheme => outerTheme} />","","However, no outer theme is present.","Make sure a theme is already injected higher in the React tree or provide a theme object."].join(`
`));const r=qt.useMemo(()=>{const s=n===null?t:rR(n,t);return s!=null&&(s[iR]=n!==null),s},[t,n]);return In.jsx(J0.Provider,{value:r,children:e})}process.env.NODE_ENV!=="production"&&(vd.propTypes={children:Ue.node,theme:Ue.oneOfType([Ue.object,Ue.func]).isRequired});process.env.NODE_ENV!=="production"&&process.env.NODE_ENV!=="production"&&(vd.propTypes=N0(vd.propTypes));function sR(i){return Object.keys(i).length===0}function oR(i=null){const e=Rg();return!e||sR(e)?i:e}const aR=Ig();function Og(i=aR){return oR(i)}const lR=["variant"];function kv(i){return i.length===0}function X0(i){const{variant:e}=i,t=Wn(i,lR);let n=e||"";return Object.keys(t).sort().forEach(r=>{r==="color"?n+=kv(n)?i[r]:ol(i[r]):n+=`${kv(n)?r:ol(r)}${ol(i[r].toString())}`}),n}const cR=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],uR=["theme"],dR=["theme"];function Ha(i){return Object.keys(i).length===0}function hR(i){return typeof i=="string"&&i.charCodeAt(0)>96}const fR=(i,e)=>e.components&&e.components[i]&&e.components[i].styleOverrides?e.components[i].styleOverrides:null,mR=(i,e)=>{let t=[];e&&e.components&&e.components[i]&&e.components[i].variants&&(t=e.components[i].variants);const n={};return t.forEach(r=>{const s=X0(r.props);n[s]=r.style}),n},gR=(i,e,t,n)=>{var r,s;const{ownerState:o={}}=i,l=[],u=t==null||(r=t.components)==null||(s=r[n])==null?void 0:s.variants;return u&&u.forEach(h=>{let f=!0;Object.keys(h.props).forEach(m=>{o[m]!==h.props[m]&&i[m]!==h.props[m]&&(f=!1)}),f&&l.push(e[X0(h.props)])}),l};function Ju(i){return i!=="ownerState"&&i!=="theme"&&i!=="sx"&&i!=="as"}const pR=Ig(),_R=i=>i.charAt(0).toLowerCase()+i.slice(1);function vR(i={}){const{defaultTheme:e=pR,rootShouldForwardProp:t=Ju,slotShouldForwardProp:n=Ju}=i,r=s=>{const o=Ha(s.theme)?e:s.theme;return Ol(Ae({},s,{theme:o}))};return r.__mui_systemSx=!0,(s,o={})=>{lI(s,A=>A.filter(P=>!(P!=null&&P.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:h,skipSx:f,overridesResolver:m}=o,v=Wn(o,cR),C=h!==void 0?h:u&&u!=="Root"||!1,k=f||!1;let S;process.env.NODE_ENV!=="production"&&l&&(S=`${l}-${_R(u||"Root")}`);let x=Ju;u==="Root"?x=t:u?x=n:hR(s)&&(x=void 0);const N=aI(s,Ae({shouldForwardProp:x,label:S},v)),y=(A,...P)=>{const E=P?P.map($=>typeof $=="function"&&$.__emotion_real!==$?M=>{let{theme:D}=M,J=Wn(M,uR);return $(Ae({theme:Ha(D)?e:D},J))}:$):[];let V=A;l&&m&&E.push($=>{const M=Ha($.theme)?e:$.theme,D=fR(l,M);if(D){const J={};return Object.entries(D).forEach(([H,Y])=>{J[H]=typeof Y=="function"?Y(Ae({},$,{theme:M})):Y}),m($,J)}return null}),l&&!C&&E.push($=>{const M=Ha($.theme)?e:$.theme;return gR($,mR(l,M),M,l)}),k||E.push(r);const j=E.length-P.length;if(Array.isArray(A)&&j>0){const $=new Array(j).fill("");V=[...A,...$],V.raw=[...A.raw,...$]}else typeof A=="function"&&A.__emotion_real!==A&&(V=$=>{let{theme:M}=$,D=Wn($,dR);return A(Ae({theme:Ha(M)?e:M},D))});const U=N(V,...E);if(process.env.NODE_ENV!=="production"){let $;l&&($=`${l}${u||""}`),$===void 0&&($=`Styled(${n5(s)})`),U.displayName=$}return U};return N.withConfig&&(y.withConfig=N.withConfig),y}}function wR(i){const{theme:e,name:t,props:n}=i;return!e||!e.components||!e.components[t]||!e.components[t].defaultProps?n:B0(e.components[t].defaultProps,n)}function bR({props:i,name:e,defaultTheme:t}){const n=Og(t);return wR({theme:n,name:e,props:i})}function Mg(i,e=0,t=1){return process.env.NODE_ENV!=="production"&&(i<e||i>t)&&console.error(`MUI: The value provided ${i} is out of range [${e}, ${t}].`),Math.min(Math.max(e,i),t)}function Z0(i){i=i.slice(1);const e=new RegExp(`.{1,${i.length>=6?2:1}}`,"g");let t=i.match(e);return t&&t[0].length===1&&(t=t.map(n=>n+n)),t?`rgb${t.length===4?"a":""}(${t.map((n,r)=>r<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function yR(i){const e=i.toString(16);return e.length===1?`0${e}`:e}function ar(i){if(i.type)return i;if(i.charAt(0)==="#")return ar(Z0(i));const e=i.indexOf("("),t=i.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(t)===-1)throw new Error(process.env.NODE_ENV!=="production"?`MUI: Unsupported \`${i}\` color.
The following formats are supported: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().`:Pi(9,i));let n=i.substring(e+1,i.length-1),r;if(t==="color"){if(n=n.split(" "),r=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r)===-1)throw new Error(process.env.NODE_ENV!=="production"?`MUI: unsupported \`${r}\` color space.
The following color spaces are supported: srgb, display-p3, a98-rgb, prophoto-rgb, rec-2020.`:Pi(10,r))}else n=n.split(",");return n=n.map(s=>parseFloat(s)),{type:t,values:n,colorSpace:r}}const ER=i=>{const e=ar(i);return e.values.slice(0,3).map((t,n)=>e.type.indexOf("hsl")!==-1&&n!==0?`${t}%`:t).join(" ")},Ti=(i,e)=>{try{return ER(i)}catch{return e&&process.env.NODE_ENV!=="production"&&console.warn(e),i}};function Ml(i){const{type:e,colorSpace:t}=i;let{values:n}=i;return e.indexOf("rgb")!==-1?n=n.map((r,s)=>s<3?parseInt(r,10):r):e.indexOf("hsl")!==-1&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),e.indexOf("color")!==-1?n=`${t} ${n.join(" ")}`:n=`${n.join(", ")}`,`${e}(${n})`}function CR(i){if(i.indexOf("#")===0)return i;const{values:e}=ar(i);return`#${e.map((t,n)=>yR(n===3?Math.round(255*t):t)).join("")}`}function Q0(i){i=ar(i);const{values:e}=i,t=e[0],n=e[1]/100,r=e[2]/100,s=n*Math.min(r,1-r),o=(h,f=(h+t/30)%12)=>r-s*Math.max(Math.min(f-3,9-f,1),-1);let l="rgb";const u=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return i.type==="hsla"&&(l+="a",u.push(e[3])),Ml({type:l,values:u})}function wd(i){i=ar(i);let e=i.type==="hsl"||i.type==="hsla"?ar(Q0(i)).values:i.values;return e=e.map(t=>(i.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Hm(i,e){const t=wd(i),n=wd(e);return(Math.max(t,n)+.05)/(Math.min(t,n)+.05)}function ey(i,e){return i=ar(i),e=Mg(e),(i.type==="rgb"||i.type==="hsl")&&(i.type+="a"),i.type==="color"?i.values[3]=`/${e}`:i.values[3]=e,Ml(i)}function Mu(i,e,t){try{return ey(i,e)}catch{return t&&process.env.NODE_ENV!=="production"&&console.warn(t),i}}function Hd(i,e){if(i=ar(i),e=Mg(e),i.type.indexOf("hsl")!==-1)i.values[2]*=1-e;else if(i.type.indexOf("rgb")!==-1||i.type.indexOf("color")!==-1)for(let t=0;t<3;t+=1)i.values[t]*=1-e;return Ml(i)}function St(i,e,t){try{return Hd(i,e)}catch{return t&&process.env.NODE_ENV!=="production"&&console.warn(t),i}}function qd(i,e){if(i=ar(i),e=Mg(e),i.type.indexOf("hsl")!==-1)i.values[2]+=(100-i.values[2])*e;else if(i.type.indexOf("rgb")!==-1)for(let t=0;t<3;t+=1)i.values[t]+=(255-i.values[t])*e;else if(i.type.indexOf("color")!==-1)for(let t=0;t<3;t+=1)i.values[t]+=(1-i.values[t])*e;return Ml(i)}function Tt(i,e,t){try{return qd(i,e)}catch{return t&&process.env.NODE_ENV!=="production"&&console.warn(t),i}}function SR(i,e=.15){return wd(i)>.5?Hd(i,e):qd(i,e)}function il(i,e,t){try{return il(i,e)}catch{return t&&process.env.NODE_ENV!=="production"&&console.warn(t),i}}const TR={};function ty(i){const e=Og();return In.jsx(Fi.ThemeContext.Provider,{value:typeof e=="object"?e:TR,children:i.children})}process.env.NODE_ENV!=="production"&&(ty.propTypes={children:Ue.node});function gl(i){const{children:e,theme:t}=i;return In.jsx(vd,{theme:t,children:In.jsx(ty,{children:e})})}process.env.NODE_ENV!=="production"&&(gl.propTypes={children:Ue.node,theme:Ue.oneOfType([Ue.func,Ue.object]).isRequired});process.env.NODE_ENV!=="production"&&process.env.NODE_ENV!=="production"&&(gl.propTypes=N0(gl.propTypes));const xR=(i,e,t,n=[])=>{let r=i;e.forEach((s,o)=>{o===e.length-1?Array.isArray(r)?r[Number(s)]=t:r&&typeof r=="object"&&(r[s]=t):r&&typeof r=="object"&&(r[s]||(r[s]=n.includes(s)?[]:{}),r=r[s])})},kR=(i,e,t)=>{function n(r,s=[],o=[]){Object.entries(r).forEach(([l,u])=>{(!t||t&&!t([...s,l]))&&u!=null&&(typeof u=="object"&&Object.keys(u).length>0?n(u,[...s,l],Array.isArray(u)?[...o,l]:o):e([...s,l],u,o))})}n(i)},AR=(i,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(n=>i.includes(n))||i[i.length-1].toLowerCase().indexOf("opacity")>=0?e:`${e}px`:e;function Av(i,e){const{prefix:t,shouldSkipGeneratingVar:n}=e||{},r={},s={};return kR(i,(o,l,u)=>{if((typeof l=="string"||typeof l=="number")&&(!n||!n(o,l))){const h=`--${t?`${t}-`:""}${o.join("-")}`;Object.assign(r,{[h]:AR(o,l)}),xR(s,o,`var(${h})`,u)}},o=>o[0]==="vars"),{css:r,vars:s}}const Ng="mode",Dg="color-scheme",ny="data-color-scheme";function PR(i){const{defaultMode:e="light",defaultLightColorScheme:t="light",defaultDarkColorScheme:n="dark",modeStorageKey:r=Ng,colorSchemeStorageKey:s=Dg,attribute:o=ny,colorSchemeNode:l="document.documentElement"}=i||{};return In.jsx("script",{dangerouslySetInnerHTML:{__html:`(function() { try {
        var mode = localStorage.getItem('${r}') || '${e}';
        var cssColorScheme = mode;
        var colorScheme = '';
        if (mode === 'system') {
          // handle system mode
          var mql = window.matchMedia('(prefers-color-scheme: dark)');
          if (mql.matches) {
            cssColorScheme = 'dark';
            colorScheme = localStorage.getItem('${s}-dark') || '${n}';
          } else {
            cssColorScheme = 'light';
            colorScheme = localStorage.getItem('${s}-light') || '${t}';
          }
        }
        if (mode === 'light') {
          colorScheme = localStorage.getItem('${s}-light') || '${t}';
        }
        if (mode === 'dark') {
          colorScheme = localStorage.getItem('${s}-dark') || '${n}';
        }
        if (colorScheme) {
          ${l}.setAttribute('${o}', colorScheme);
        }
      } catch (e) {} })();`}},"mui-color-scheme-init")}function Pv(i){if(typeof window<"u"&&i==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function iy(i,e){if(i.mode==="light"||i.mode==="system"&&i.systemMode==="light")return e("light");if(i.mode==="dark"||i.mode==="system"&&i.systemMode==="dark")return e("dark")}function IR(i){return iy(i,e=>{if(e==="light")return i.lightColorScheme;if(e==="dark")return i.darkColorScheme})}function om(i,e){if(typeof window>"u")return;let t;try{t=localStorage.getItem(i)||void 0,t||localStorage.setItem(i,e)}catch{}return t||e}function RR(i){const{defaultMode:e="light",defaultLightColorScheme:t,defaultDarkColorScheme:n,supportedColorSchemes:r=[],modeStorageKey:s=Ng,colorSchemeStorageKey:o=Dg,storageWindow:l=typeof window>"u"?void 0:window}=i,u=r.join(","),[h,f]=qt.useState(()=>{const x=om(s,e),N=om(`${o}-light`,t),y=om(`${o}-dark`,n);return{mode:x,systemMode:Pv(x),lightColorScheme:N,darkColorScheme:y}}),m=IR(h),v=qt.useCallback(x=>{f(N=>{if(x===N.mode)return N;const y=x||e;try{localStorage.setItem(s,y)}catch{}return Ae({},N,{mode:y,systemMode:Pv(y)})})},[s,e]),C=qt.useCallback(x=>{x?typeof x=="string"?x&&!u.includes(x)?console.error(`\`${x}\` does not exist in \`theme.colorSchemes\`.`):f(N=>{const y=Ae({},N);return iy(N,A=>{try{localStorage.setItem(`${o}-${A}`,x)}catch{}A==="light"&&(y.lightColorScheme=x),A==="dark"&&(y.darkColorScheme=x)}),y}):f(N=>{const y=Ae({},N),A=x.light===null?t:x.light,P=x.dark===null?n:x.dark;if(A)if(!u.includes(A))console.error(`\`${A}\` does not exist in \`theme.colorSchemes\`.`);else{y.lightColorScheme=A;try{localStorage.setItem(`${o}-light`,A)}catch{}}if(P)if(!u.includes(P))console.error(`\`${P}\` does not exist in \`theme.colorSchemes\`.`);else{y.darkColorScheme=P;try{localStorage.setItem(`${o}-dark`,P)}catch{}}return y}):f(N=>{try{localStorage.setItem(`${o}-light`,t),localStorage.setItem(`${o}-dark`,n)}catch{}return Ae({},N,{lightColorScheme:t,darkColorScheme:n})})},[u,o,t,n]),k=qt.useCallback(x=>{h.mode==="system"&&f(N=>Ae({},N,{systemMode:x!=null&&x.matches?"dark":"light"}))},[h.mode]),S=qt.useRef(k);return S.current=k,qt.useEffect(()=>{const x=(...y)=>S.current(...y),N=window.matchMedia("(prefers-color-scheme: dark)");return N.addListener(x),x(N),()=>N.removeListener(x)},[]),qt.useEffect(()=>{const x=N=>{const y=N.newValue;typeof N.key=="string"&&N.key.startsWith(o)&&(!y||u.match(y))&&(N.key.endsWith("light")&&C({light:y}),N.key.endsWith("dark")&&C({dark:y})),N.key===s&&(!y||["light","dark","system"].includes(y))&&v(y||e)};if(l)return l.addEventListener("storage",x),()=>l.removeEventListener("storage",x)},[C,v,s,o,u,e,l]),Ae({},h,{colorScheme:m,setMode:v,setColorScheme:C})}const OR=["colorSchemes","components","cssVarPrefix"],MR="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function NR(i){const{theme:e={},attribute:t=ny,modeStorageKey:n=Ng,colorSchemeStorageKey:r=Dg,defaultMode:s="light",defaultColorScheme:o,disableTransitionOnChange:l=!1,shouldSkipGeneratingVar:u,resolveTheme:h,excludeVariablesFromRoot:f}=i;(!e.colorSchemes||typeof o=="string"&&!e.colorSchemes[o]||typeof o=="object"&&!e.colorSchemes[o?.light]||typeof o=="object"&&!e.colorSchemes[o?.dark])&&console.error(`MUI: \`${o}\` does not exist in \`theme.colorSchemes\`.`);const m=qt.createContext(void 0),v=()=>{const N=qt.useContext(m);if(!N)throw new Error(process.env.NODE_ENV!=="production"?"MUI: `useColorScheme` must be called under <CssVarsProvider />":Pi(19));return N};function C({children:N,theme:y=e,modeStorageKey:A=n,colorSchemeStorageKey:P=r,attribute:E=t,defaultMode:V=s,defaultColorScheme:j=o,disableTransitionOnChange:U=l,storageWindow:$=typeof window>"u"?void 0:window,documentNode:M=typeof document>"u"?void 0:document,colorSchemeNode:D=typeof document>"u"?void 0:document.documentElement,colorSchemeSelector:J=":root",shouldSkipGeneratingVar:H=u,disableNestedContext:Y=!1,disableStyleSheetGeneration:le=!1}){const me=qt.useRef(!1),ee=Rg(),te=qt.useContext(m),ne=!!te&&!Y,{colorSchemes:z={},components:se={},cssVarPrefix:ve}=y,ue=Wn(y,OR),ce=Object.keys(z),he=typeof j=="string"?j:j.light,be=typeof j=="string"?j:j.dark,{mode:Ee,setMode:Pe,systemMode:Se,lightColorScheme:ye,darkColorScheme:De,colorScheme:q,setColorScheme:Ze}=RR({supportedColorSchemes:ce,defaultLightColorScheme:he,defaultDarkColorScheme:be,modeStorageKey:A,colorSchemeStorageKey:P,defaultMode:V,storageWindow:$});let de=Ee,Ye=q;ne&&(de=te.mode,Ye=te.colorScheme);const rn=(()=>de||(V==="system"?s:V))(),sn=(()=>Ye||(rn==="dark"?be:he))(),{css:ei,vars:jn}=Av(ue,{prefix:ve,shouldSkipGeneratingVar:H}),Xt=Ae({},ue,{components:se,colorSchemes:z,cssVarPrefix:ve,vars:jn,getColorSchemeSelector:hn=>`[${E}="${hn}"] &`}),on={},Un={};Object.entries(z).forEach(([hn,an])=>{const{css:Nn,vars:Dn}=Av(an,{prefix:ve,shouldSkipGeneratingVar:H});Xt.vars=ki(Xt.vars,Dn),hn===sn&&(Object.keys(an).forEach(ge=>{an[ge]&&typeof an[ge]=="object"?Xt[ge]=Ae({},Xt[ge],an[ge]):Xt[ge]=an[ge]}),Xt.palette&&(Xt.palette.colorScheme=hn));const I=(()=>typeof j=="string"?j:V==="dark"?j.dark:j.light)();if(hn===I){if(f){const ge={};f(ve).forEach(xe=>{ge[xe]=Nn[xe],delete Nn[xe]}),on[`[${E}="${hn}"]`]=ge}on[`${J}, [${E}="${hn}"]`]=Nn}else Un[`${J===":root"?"":J}[${E}="${hn}"]`]=Nn}),qt.useEffect(()=>{Ye&&D&&D.setAttribute(E,Ye)},[Ye,E,D]),qt.useEffect(()=>{let hn;if(U&&me.current&&M){const an=M.createElement("style");an.appendChild(M.createTextNode(MR)),M.head.appendChild(an),window.getComputedStyle(M.body),hn=setTimeout(()=>{M.head.removeChild(an)},1)}return()=>{clearTimeout(hn)}},[Ye,U,M]),qt.useEffect(()=>(me.current=!0,()=>{me.current=!1}),[]);const gi=qt.useMemo(()=>({mode:de,systemMode:Se,setMode:Pe,lightColorScheme:ye,darkColorScheme:De,colorScheme:Ye,setColorScheme:Ze,allColorSchemes:ce}),[ce,Ye,De,ye,de,Ze,Pe,Se]);let Hn=!0;(le||ne&&ee?.cssVarPrefix===ve)&&(Hn=!1);const qn=In.jsxs(qt.Fragment,{children:[Hn&&In.jsxs(qt.Fragment,{children:[In.jsx(Yu,{styles:{[J]:ei}}),In.jsx(Yu,{styles:on}),In.jsx(Yu,{styles:Un})]}),In.jsx(gl,{theme:h?h(Xt):Xt,children:N})]});return ne?qn:In.jsx(m.Provider,{value:gi,children:qn})}process.env.NODE_ENV!=="production"&&(C.propTypes={attribute:Ue.string,children:Ue.node,colorSchemeNode:Ue.any,colorSchemeSelector:Ue.string,colorSchemeStorageKey:Ue.string,defaultColorScheme:Ue.oneOfType([Ue.string,Ue.object]),defaultMode:Ue.string,disableNestedContext:Ue.bool,disableStyleSheetGeneration:Ue.bool,disableTransitionOnChange:Ue.bool,documentNode:Ue.any,modeStorageKey:Ue.string,shouldSkipGeneratingVar:Ue.func,storageWindow:Ue.any,theme:Ue.object});const k=typeof o=="string"?o:o.light,S=typeof o=="string"?o:o.dark;return{CssVarsProvider:C,useColorScheme:v,getInitColorSchemeScript:N=>PR(Ae({attribute:t,colorSchemeStorageKey:r,defaultMode:s,defaultLightColorScheme:k,defaultDarkColorScheme:S,modeStorageKey:n},N))}}function DR(i=""){function e(...n){if(!n.length)return"";const r=n[0];return typeof r=="string"&&!r.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))/)?`, var(--${i?`${i}-`:""}${r}${e(...n.slice(1))})`:`, ${r}`}return(n,...r)=>`var(--${i?`${i}-`:""}${n}${e(...r)})`}const BR=["defaultProps","mixins","overrides","palette","props","styleOverrides"],VR=["type","mode"];function LR(i){process.env.NODE_ENV!=="production"&&console.warn(["MUI: adaptV4Theme() is deprecated.","Follow the upgrade guide on https://mui.com/r/migration-v4#theme."].join(`
`));const{defaultProps:e={},mixins:t={},overrides:n={},palette:r={},props:s={},styleOverrides:o={}}=i,l=Wn(i,BR),u=Ae({},l,{components:{}});Object.keys(e).forEach(S=>{const x=u.components[S]||{};x.defaultProps=e[S],u.components[S]=x}),Object.keys(s).forEach(S=>{const x=u.components[S]||{};x.defaultProps=s[S],u.components[S]=x}),Object.keys(o).forEach(S=>{const x=u.components[S]||{};x.styleOverrides=o[S],u.components[S]=x}),Object.keys(n).forEach(S=>{const x=u.components[S]||{};x.styleOverrides=n[S],u.components[S]=x}),u.spacing=G0(i.spacing);const h=K0(i.breakpoints||{}),f=u.spacing;u.mixins=Ae({gutters:(S={})=>Ae({paddingLeft:f(2),paddingRight:f(2)},S,{[h.up("sm")]:Ae({paddingLeft:f(3),paddingRight:f(3)},S[h.up("sm")])})},t);const{type:m,mode:v}=r,C=Wn(r,VR),k=v||m||"light";return u.palette=Ae({text:{hint:k==="dark"?"rgba(255, 255, 255, 0.5)":"rgba(0, 0, 0, 0.38)"},mode:k,type:k},C),u}function FR(i,e){return Ae({toolbar:{minHeight:56,[i.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[i.up("sm")]:{minHeight:64}}},e)}const $R={black:"#000",white:"#fff"},pl=$R,zR={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},WR=zR,jR={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},bo=jR,UR={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},yo=UR,HR={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},qa=HR,qR={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Eo=qR,KR={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Co=KR,GR={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},So=GR,YR=["mode","contrastThreshold","tonalOffset"],Iv={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:pl.white,default:pl.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},am={text:{primary:pl.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:pl.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Rv(i,e,t,n){const r=n.light||n,s=n.dark||n*1.5;i[e]||(i.hasOwnProperty(t)?i[e]=i[t]:e==="light"?i.light=qd(i.main,r):e==="dark"&&(i.dark=Hd(i.main,s)))}function JR(i="light"){return i==="dark"?{main:Eo[200],light:Eo[50],dark:Eo[400]}:{main:Eo[700],light:Eo[400],dark:Eo[800]}}function XR(i="light"){return i==="dark"?{main:bo[200],light:bo[50],dark:bo[400]}:{main:bo[500],light:bo[300],dark:bo[700]}}function ZR(i="light"){return i==="dark"?{main:yo[500],light:yo[300],dark:yo[700]}:{main:yo[700],light:yo[400],dark:yo[800]}}function QR(i="light"){return i==="dark"?{main:Co[400],light:Co[300],dark:Co[700]}:{main:Co[700],light:Co[500],dark:Co[900]}}function eO(i="light"){return i==="dark"?{main:So[400],light:So[300],dark:So[700]}:{main:So[800],light:So[500],dark:So[900]}}function tO(i="light"){return i==="dark"?{main:qa[400],light:qa[300],dark:qa[700]}:{main:"#ed6c02",light:qa[500],dark:qa[900]}}function nO(i){const{mode:e="light",contrastThreshold:t=3,tonalOffset:n=.2}=i,r=Wn(i,YR),s=i.primary||JR(e),o=i.secondary||XR(e),l=i.error||ZR(e),u=i.info||QR(e),h=i.success||eO(e),f=i.warning||tO(e);function m(S){const x=Hm(S,am.text.primary)>=t?am.text.primary:Iv.text.primary;if(process.env.NODE_ENV!=="production"){const N=Hm(S,x);N<3&&console.error([`MUI: The contrast ratio of ${N}:1 for ${x} on ${S}`,"falls below the WCAG recommended absolute minimum contrast ratio of 3:1.","https://www.w3.org/TR/2008/REC-WCAG20-20081211/#visual-audio-contrast-contrast"].join(`
`))}return x}const v=({color:S,name:x,mainShade:N=500,lightShade:y=300,darkShade:A=700})=>{if(S=Ae({},S),!S.main&&S[N]&&(S.main=S[N]),!S.hasOwnProperty("main"))throw new Error(process.env.NODE_ENV!=="production"?`MUI: The color${x?` (${x})`:""} provided to augmentColor(color) is invalid.
The color object needs to have a \`main\` property or a \`${N}\` property.`:Pi(11,x?` (${x})`:"",N));if(typeof S.main!="string")throw new Error(process.env.NODE_ENV!=="production"?`MUI: The color${x?` (${x})`:""} provided to augmentColor(color) is invalid.
\`color.main\` should be a string, but \`${JSON.stringify(S.main)}\` was provided instead.

Did you intend to use one of the following approaches?

import { green } from "@mui/material/colors";

const theme1 = createTheme({ palette: {
  primary: green,
} });

const theme2 = createTheme({ palette: {
  primary: { main: green[500] },
} });`:Pi(12,x?` (${x})`:"",JSON.stringify(S.main)));return Rv(S,"light",y,n),Rv(S,"dark",A,n),S.contrastText||(S.contrastText=m(S.main)),S},C={dark:am,light:Iv};return process.env.NODE_ENV!=="production"&&(C[e]||console.error(`MUI: The palette mode \`${e}\` is not supported.`)),ki(Ae({common:Ae({},pl),mode:e,primary:v({color:s,name:"primary"}),secondary:v({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:l,name:"error"}),warning:v({color:f,name:"warning"}),info:v({color:u,name:"info"}),success:v({color:h,name:"success"}),grey:WR,contrastThreshold:t,getContrastText:m,augmentColor:v,tonalOffset:n},C[e]),r)}const iO=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function rO(i){return Math.round(i*1e5)/1e5}const Ov={textTransform:"uppercase"},Mv='"Roboto", "Helvetica", "Arial", sans-serif';function Bg(i,e){const t=typeof e=="function"?e(i):e,{fontFamily:n=Mv,fontSize:r=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:l=500,fontWeightBold:u=700,htmlFontSize:h=16,allVariants:f,pxToRem:m}=t,v=Wn(t,iO);process.env.NODE_ENV!=="production"&&(typeof r!="number"&&console.error("MUI: `fontSize` is required to be a number."),typeof h!="number"&&console.error("MUI: `htmlFontSize` is required to be a number."));const C=r/14,k=m||(N=>`${N/h*C}rem`),S=(N,y,A,P,E)=>Ae({fontFamily:n,fontWeight:N,fontSize:k(y),lineHeight:A},n===Mv?{letterSpacing:`${rO(P/y)}em`}:{},E,f),x={h1:S(s,96,1.167,-1.5),h2:S(s,60,1.2,-.5),h3:S(o,48,1.167,0),h4:S(o,34,1.235,.25),h5:S(o,24,1.334,0),h6:S(l,20,1.6,.15),subtitle1:S(o,16,1.75,.15),subtitle2:S(l,14,1.57,.1),body1:S(o,16,1.5,.15),body2:S(o,14,1.43,.15),button:S(l,14,1.75,.4,Ov),caption:S(o,12,1.66,.4),overline:S(o,12,2.66,1,Ov)};return ki(Ae({htmlFontSize:h,pxToRem:k,fontFamily:n,fontSize:r,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:l,fontWeightBold:u},x),v,{clone:!1})}const sO=.2,oO=.14,aO=.12;function Lt(...i){return[`${i[0]}px ${i[1]}px ${i[2]}px ${i[3]}px rgba(0,0,0,${sO})`,`${i[4]}px ${i[5]}px ${i[6]}px ${i[7]}px rgba(0,0,0,${oO})`,`${i[8]}px ${i[9]}px ${i[10]}px ${i[11]}px rgba(0,0,0,${aO})`].join(",")}const lO=["none",Lt(0,2,1,-1,0,1,1,0,0,1,3,0),Lt(0,3,1,-2,0,2,2,0,0,1,5,0),Lt(0,3,3,-2,0,3,4,0,0,1,8,0),Lt(0,2,4,-1,0,4,5,0,0,1,10,0),Lt(0,3,5,-1,0,5,8,0,0,1,14,0),Lt(0,3,5,-1,0,6,10,0,0,1,18,0),Lt(0,4,5,-2,0,7,10,1,0,2,16,1),Lt(0,5,5,-3,0,8,10,1,0,3,14,2),Lt(0,5,6,-3,0,9,12,1,0,3,16,2),Lt(0,6,6,-3,0,10,14,1,0,4,18,3),Lt(0,6,7,-4,0,11,15,1,0,4,20,3),Lt(0,7,8,-4,0,12,17,2,0,5,22,4),Lt(0,7,8,-4,0,13,19,2,0,5,24,4),Lt(0,7,9,-4,0,14,21,2,0,5,26,4),Lt(0,8,9,-5,0,15,22,2,0,6,28,5),Lt(0,8,10,-5,0,16,24,2,0,6,30,5),Lt(0,8,11,-5,0,17,26,2,0,6,32,5),Lt(0,9,11,-5,0,18,28,2,0,7,34,6),Lt(0,9,12,-6,0,19,29,2,0,7,36,6),Lt(0,10,13,-6,0,20,31,3,0,8,38,7),Lt(0,10,13,-6,0,21,33,3,0,8,40,7),Lt(0,10,14,-6,0,22,35,3,0,8,42,7),Lt(0,11,14,-7,0,23,36,3,0,9,44,8),Lt(0,11,15,-7,0,24,38,3,0,9,46,8)],cO=lO,uO=["duration","easing","delay"],ry={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},sy={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Nv(i){return`${Math.round(i)}ms`}function dO(i){if(!i)return 0;const e=i/36;return Math.round((4+15*e**.25+e/5)*10)}function hO(i){const e=Ae({},ry,i.easing),t=Ae({},sy,i.duration);return Ae({getAutoHeightDuration:dO,create:(r=["all"],s={})=>{const{duration:o=t.standard,easing:l=e.easeInOut,delay:u=0}=s,h=Wn(s,uO);if(process.env.NODE_ENV!=="production"){const f=v=>typeof v=="string",m=v=>!isNaN(parseFloat(v));!f(r)&&!Array.isArray(r)&&console.error('MUI: Argument "props" must be a string or Array.'),!m(o)&&!f(o)&&console.error(`MUI: Argument "duration" must be a number or a string but found ${o}.`),f(l)||console.error('MUI: Argument "easing" must be a string.'),!m(u)&&!f(u)&&console.error('MUI: Argument "delay" must be a number or a string.'),Object.keys(h).length!==0&&console.error(`MUI: Unrecognized argument(s) [${Object.keys(h).join(",")}].`)}return(Array.isArray(r)?r:[r]).map(f=>`${f} ${typeof o=="string"?o:Nv(o)} ${l} ${typeof u=="string"?u:Nv(u)}`).join(",")}},i,{easing:e,duration:t})}const fO={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},mO=fO,gO=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Lo(i={},...e){const{mixins:t={},palette:n={},transitions:r={},typography:s={}}=i,o=Wn(i,gO);if(i.vars)throw new Error(process.env.NODE_ENV!=="production"?"MUI: `vars` is a private field used for CSS variables support.\nPlease use another name.":Pi(18));const l=nO(n),u=Ig(i);let h=ki(u,{mixins:FR(u.breakpoints,t),palette:l,shadows:cO.slice(),typography:Bg(l,s),transitions:hO(r),zIndex:Ae({},mO)});if(h=ki(h,o),h=e.reduce((f,m)=>ki(f,m),h),process.env.NODE_ENV!=="production"){const f=["active","checked","completed","disabled","error","expanded","focused","focusVisible","required","selected"],m=(v,C)=>{let k;for(k in v){const S=v[k];if(f.indexOf(k)!==-1&&Object.keys(S).length>0){if(process.env.NODE_ENV!=="production"){const x=a5("",k);console.error([`MUI: The \`${C}\` component increases the CSS specificity of the \`${k}\` internal state.`,"You can not override it like this: ",JSON.stringify(v,null,2),"",`Instead, you need to use the '&.${x}' syntax:`,JSON.stringify({root:{[`&.${x}`]:S}},null,2),"","https://mui.com/r/state-classes-guide"].join(`
`))}v[k]={}}}};Object.keys(h.components).forEach(v=>{const C=h.components[v].styleOverrides;C&&v.indexOf("Mui")===0&&m(C,v)})}return h.unstable_sxConfig=Ae({},Ud,o?.unstable_sxConfig),h.unstable_sx=function(m){return Ol({sx:m,theme:this})},h}let Dv=!1;function pO(...i){return process.env.NODE_ENV!=="production"&&(Dv||(Dv=!0,console.error(["MUI: the createMuiTheme function was renamed to createTheme.","","You should use `import { createTheme } from '@mui/material/styles'`"].join(`
`)))),Lo(...i)}function _O(i,...e){return Lo(ki({unstable_strictMode:!0},i),...e)}let Bv=!1;function vO(i){return Bv||(console.warn(["MUI: createStyles from @mui/material/styles is deprecated.","Please use @mui/styles/createStyles"].join(`
`)),Bv=!0),i}function Vv(i){return String(parseFloat(i)).length===String(i).length}function oy(i){return String(i).match(/[\d.\-+]*\s*(.*)/)[1]||""}function Xr(i){return parseFloat(i)}function wO(i){return(e,t)=>{const n=oy(e);if(n===t)return e;let r=Xr(e);n!=="px"&&(n==="em"||n==="rem")&&(r=Xr(e)*Xr(i));let s=r;if(t!=="px")if(t==="em")s=r/Xr(i);else if(t==="rem")s=r/Xr(i);else return e;return parseFloat(s.toFixed(5))+t}}function bO({size:i,grid:e}){const t=i-i%e,n=t+e;return i-t<n-i?t:n}function yO({lineHeight:i,pixels:e,htmlFontSize:t}){return e/(i*t)}function EO({cssProperty:i,min:e,max:t,unit:n="rem",breakpoints:r=[600,900,1200],transform:s=null}){const o={[i]:`${e}${n}`},l=(t-e)/r[r.length-1];return r.forEach(u=>{let h=e+l*u;s!==null&&(h=s(h)),o[`@media (min-width:${u}px)`]={[i]:`${Math.round(h*1e4)/1e4}${n}`}}),o}function CO(i,e={}){const{breakpoints:t=["sm","md","lg"],disableAlign:n=!1,factor:r=2,variants:s=["h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","caption","button","overline"]}=e,o=Ae({},i);o.typography=Ae({},o.typography);const l=o.typography,u=wO(l.htmlFontSize),h=t.map(f=>o.breakpoints.values[f]);return s.forEach(f=>{const m=l[f],v=parseFloat(u(m.fontSize,"rem"));if(v<=1)return;const C=v,k=1+(C-1)/r;let{lineHeight:S}=m;if(!Vv(S)&&!n)throw new Error(process.env.NODE_ENV!=="production"?`MUI: Unsupported non-unitless line height with grid alignment.
Use unitless line heights instead.`:Pi(6));Vv(S)||(S=parseFloat(u(S,"rem"))/parseFloat(v));let x=null;n||(x=N=>bO({size:N,grid:yO({pixels:4,lineHeight:S,htmlFontSize:l.htmlFontSize})})),l[f]=Ae({},m,EO({cssProperty:"fontSize",min:k,max:C,unit:"rem",breakpoints:h,transform:x}))}),o}const SO=Lo(),Vg=SO;function TO(){const i=Og(Vg);return process.env.NODE_ENV!=="production"&&qt.useDebugValue(i),i}function xO({props:i,name:e}){return bR({props:i,name:e,defaultTheme:Vg})}const kO=i=>Ju(i)&&i!=="classes",AO=vR({defaultTheme:Vg,rootShouldForwardProp:kO}),Lv=AO;function PO(){throw new Error(process.env.NODE_ENV!=="production"?`MUI: makeStyles is no longer exported from @mui/material/styles.
You have to import it from @mui/styles.
See https://mui.com/r/migration-v4/#mui-material-styles for more details.`:Pi(14))}function IO(){throw new Error(process.env.NODE_ENV!=="production"?`MUI: withStyles is no longer exported from @mui/material/styles.
You have to import it from @mui/styles.
See https://mui.com/r/migration-v4/#mui-material-styles for more details.`:Pi(15))}function RO(){throw new Error(process.env.NODE_ENV!=="production"?`MUI: withTheme is no longer exported from @mui/material/styles.
You have to import it from @mui/styles.
See https://mui.com/r/migration-v4/#mui-material-styles for more details.`:Pi(16))}const OO=i=>{let e;return i<1?e=5.11916*i**2:e=4.5*Math.log(i+1)+2,(e/100).toFixed(2)},ay=OO,MO=["colorSchemes","cssVarPrefix"],NO=["palette"],DO=[...Array(25)].map((i,e)=>{if(e===0)return;const t=ay(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function BO(i,e){e.forEach(t=>{i[t]||(i[t]={})})}function Q(i,e,t){!i[e]&&t&&(i[e]=t)}const Zi=i=>{try{return i()}catch{}},VO=(i="mui")=>DR(i);function ly(i={},...e){var t,n,r,s,o,l;const{colorSchemes:u={},cssVarPrefix:h="mui"}=i,f=Wn(i,MO),m=VO(h),v=Lo(Ae({},f,u.light&&{palette:(t=u.light)==null?void 0:t.palette})),{palette:C}=v,k=Wn(v,NO),{palette:S}=Lo({palette:Ae({mode:"dark"},(n=u.dark)==null?void 0:n.palette)});let x=Ae({},k,{cssVarPrefix:h,getCssVar:m,colorSchemes:Ae({},u,{light:Ae({},u.light,{palette:C,opacity:Ae({inputPlaceholder:.42,inputUnderline:.42,switchTrackDisabled:.12,switchTrack:.38},(r=u.light)==null?void 0:r.opacity),overlays:((s=u.light)==null?void 0:s.overlays)||[]}),dark:Ae({},u.dark,{palette:S,opacity:Ae({inputPlaceholder:.5,inputUnderline:.7,switchTrackDisabled:.2,switchTrack:.3},(o=u.dark)==null?void 0:o.opacity),overlays:((l=u.dark)==null?void 0:l.overlays)||DO})})});return Object.keys(x.colorSchemes).forEach(N=>{const y=x.colorSchemes[N].palette;if(N==="light"?(Q(y.common,"background","#fff"),Q(y.common,"onBackground","#000")):(Q(y.common,"background","#000"),Q(y.common,"onBackground","#fff")),BO(y,["Alert","AppBar","Avatar","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),N==="light"){Q(y.Alert,"errorColor",St(y.error.light,.6)),Q(y.Alert,"infoColor",St(y.info.light,.6)),Q(y.Alert,"successColor",St(y.success.light,.6)),Q(y.Alert,"warningColor",St(y.warning.light,.6)),Q(y.Alert,"errorFilledBg",m("palette-error-main")),Q(y.Alert,"infoFilledBg",m("palette-info-main")),Q(y.Alert,"successFilledBg",m("palette-success-main")),Q(y.Alert,"warningFilledBg",m("palette-warning-main")),Q(y.Alert,"errorFilledColor",Zi(()=>C.getContrastText(y.error.main))),Q(y.Alert,"infoFilledColor",Zi(()=>C.getContrastText(y.info.main))),Q(y.Alert,"successFilledColor",Zi(()=>C.getContrastText(y.success.main))),Q(y.Alert,"warningFilledColor",Zi(()=>C.getContrastText(y.warning.main))),Q(y.Alert,"errorStandardBg",Tt(y.error.light,.9)),Q(y.Alert,"infoStandardBg",Tt(y.info.light,.9)),Q(y.Alert,"successStandardBg",Tt(y.success.light,.9)),Q(y.Alert,"warningStandardBg",Tt(y.warning.light,.9)),Q(y.Alert,"errorIconColor",m("palette-error-main")),Q(y.Alert,"infoIconColor",m("palette-info-main")),Q(y.Alert,"successIconColor",m("palette-success-main")),Q(y.Alert,"warningIconColor",m("palette-warning-main")),Q(y.AppBar,"defaultBg",m("palette-grey-100")),Q(y.Avatar,"defaultBg",m("palette-grey-400")),Q(y.Chip,"defaultBorder",m("palette-grey-400")),Q(y.Chip,"defaultAvatarColor",m("palette-grey-700")),Q(y.Chip,"defaultIconColor",m("palette-grey-700")),Q(y.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Q(y.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Q(y.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Q(y.LinearProgress,"primaryBg",Tt(y.primary.main,.62)),Q(y.LinearProgress,"secondaryBg",Tt(y.secondary.main,.62)),Q(y.LinearProgress,"errorBg",Tt(y.error.main,.62)),Q(y.LinearProgress,"infoBg",Tt(y.info.main,.62)),Q(y.LinearProgress,"successBg",Tt(y.success.main,.62)),Q(y.LinearProgress,"warningBg",Tt(y.warning.main,.62)),Q(y.Skeleton,"bg",`rgba(${m("palette-text-primaryChannel")} / 0.11)`),Q(y.Slider,"primaryTrack",Tt(y.primary.main,.62)),Q(y.Slider,"secondaryTrack",Tt(y.secondary.main,.62)),Q(y.Slider,"errorTrack",Tt(y.error.main,.62)),Q(y.Slider,"infoTrack",Tt(y.info.main,.62)),Q(y.Slider,"successTrack",Tt(y.success.main,.62)),Q(y.Slider,"warningTrack",Tt(y.warning.main,.62));const A=il(y.background.default,.8);Q(y.SnackbarContent,"bg",A),Q(y.SnackbarContent,"color",Zi(()=>C.getContrastText(A))),Q(y.SpeedDialAction,"fabHoverBg",il(y.background.paper,.15)),Q(y.StepConnector,"border",m("palette-grey-400")),Q(y.StepContent,"border",m("palette-grey-400")),Q(y.Switch,"defaultColor",m("palette-common-white")),Q(y.Switch,"defaultDisabledColor",m("palette-grey-100")),Q(y.Switch,"primaryDisabledColor",Tt(y.primary.main,.62)),Q(y.Switch,"secondaryDisabledColor",Tt(y.secondary.main,.62)),Q(y.Switch,"errorDisabledColor",Tt(y.error.main,.62)),Q(y.Switch,"infoDisabledColor",Tt(y.info.main,.62)),Q(y.Switch,"successDisabledColor",Tt(y.success.main,.62)),Q(y.Switch,"warningDisabledColor",Tt(y.warning.main,.62)),Q(y.TableCell,"border",Tt(Mu(y.divider,1),.88)),Q(y.Tooltip,"bg",Mu(y.grey[700],.92))}else{Q(y.Alert,"errorColor",Tt(y.error.light,.6)),Q(y.Alert,"infoColor",Tt(y.info.light,.6)),Q(y.Alert,"successColor",Tt(y.success.light,.6)),Q(y.Alert,"warningColor",Tt(y.warning.light,.6)),Q(y.Alert,"errorFilledBg",m("palette-error-dark")),Q(y.Alert,"infoFilledBg",m("palette-info-dark")),Q(y.Alert,"successFilledBg",m("palette-success-dark")),Q(y.Alert,"warningFilledBg",m("palette-warning-dark")),Q(y.Alert,"errorFilledColor",Zi(()=>S.getContrastText(y.error.dark))),Q(y.Alert,"infoFilledColor",Zi(()=>S.getContrastText(y.info.dark))),Q(y.Alert,"successFilledColor",Zi(()=>S.getContrastText(y.success.dark))),Q(y.Alert,"warningFilledColor",Zi(()=>S.getContrastText(y.warning.dark))),Q(y.Alert,"errorStandardBg",St(y.error.light,.9)),Q(y.Alert,"infoStandardBg",St(y.info.light,.9)),Q(y.Alert,"successStandardBg",St(y.success.light,.9)),Q(y.Alert,"warningStandardBg",St(y.warning.light,.9)),Q(y.Alert,"errorIconColor",m("palette-error-main")),Q(y.Alert,"infoIconColor",m("palette-info-main")),Q(y.Alert,"successIconColor",m("palette-success-main")),Q(y.Alert,"warningIconColor",m("palette-warning-main")),Q(y.AppBar,"defaultBg",m("palette-grey-900")),Q(y.AppBar,"darkBg",m("palette-background-paper")),Q(y.AppBar,"darkColor",m("palette-text-primary")),Q(y.Avatar,"defaultBg",m("palette-grey-600")),Q(y.Chip,"defaultBorder",m("palette-grey-700")),Q(y.Chip,"defaultAvatarColor",m("palette-grey-300")),Q(y.Chip,"defaultIconColor",m("palette-grey-300")),Q(y.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Q(y.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Q(y.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Q(y.LinearProgress,"primaryBg",St(y.primary.main,.5)),Q(y.LinearProgress,"secondaryBg",St(y.secondary.main,.5)),Q(y.LinearProgress,"errorBg",St(y.error.main,.5)),Q(y.LinearProgress,"infoBg",St(y.info.main,.5)),Q(y.LinearProgress,"successBg",St(y.success.main,.5)),Q(y.LinearProgress,"warningBg",St(y.warning.main,.5)),Q(y.Skeleton,"bg",`rgba(${m("palette-text-primaryChannel")} / 0.13)`),Q(y.Slider,"primaryTrack",St(y.primary.main,.5)),Q(y.Slider,"secondaryTrack",St(y.secondary.main,.5)),Q(y.Slider,"errorTrack",St(y.error.main,.5)),Q(y.Slider,"infoTrack",St(y.info.main,.5)),Q(y.Slider,"successTrack",St(y.success.main,.5)),Q(y.Slider,"warningTrack",St(y.warning.main,.5));const A=il(y.background.default,.98);Q(y.SnackbarContent,"bg",A),Q(y.SnackbarContent,"color",Zi(()=>S.getContrastText(A))),Q(y.SpeedDialAction,"fabHoverBg",il(y.background.paper,.15)),Q(y.StepConnector,"border",m("palette-grey-600")),Q(y.StepContent,"border",m("palette-grey-600")),Q(y.Switch,"defaultColor",m("palette-grey-300")),Q(y.Switch,"defaultDisabledColor",m("palette-grey-600")),Q(y.Switch,"primaryDisabledColor",St(y.primary.main,.55)),Q(y.Switch,"secondaryDisabledColor",St(y.secondary.main,.55)),Q(y.Switch,"errorDisabledColor",St(y.error.main,.55)),Q(y.Switch,"infoDisabledColor",St(y.info.main,.55)),Q(y.Switch,"successDisabledColor",St(y.success.main,.55)),Q(y.Switch,"warningDisabledColor",St(y.warning.main,.55)),Q(y.TableCell,"border",St(Mu(y.divider,1),.68)),Q(y.Tooltip,"bg",Mu(y.grey[700],.92))}Q(y.background,"defaultChannel",Ti(y.background.default,"MUI: The value of `palette.background.default` should be one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().")),Q(y.common,"backgroundChannel",Ti(y.common.background,"MUI: The value of `palette.common.background` should be one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().")),Q(y.common,"onBackgroundChannel",Ti(y.common.onBackground,"MUI: The value of `palette.common.onBackground` should be one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().")),Q(y,"dividerChannel",Ti(y.divider,"MUI: The value of `palette.divider` should be one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().")),Object.keys(y).forEach(A=>{const P=y[A];P&&typeof P=="object"&&(P.main&&Q(y[A],"mainChannel",Ti(P.main)),P.light&&Q(y[A],"lightChannel",Ti(P.light)),P.dark&&Q(y[A],"darkChannel",Ti(P.dark)),P.contrastText&&Q(y[A],"contrastTextChannel",Ti(P.contrastText)),A==="text"&&(Q(y[A],"primaryChannel",Ti(P.primary,"MUI: The value of `palette.text.primary` should be one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().")),Q(y[A],"secondaryChannel",Ti(P.secondary,"MUI: The value of `palette.text.secondary` should be one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color()."))),A==="action"&&(P.active&&Q(y[A],"activeChannel",Ti(P.active,"MUI: The value of `palette.action.active` should be one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().")),P.selected&&Q(y[A],"selectedChannel",Ti(P.selected,"MUI: The value of `palette.action.selected` should be one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color()."))))})}),x=e.reduce((N,y)=>ki(N,y),x),x.unstable_sxConfig=Ae({},Ud,f?.unstable_sxConfig),x.unstable_sx=function(y){return Ol({sx:y,theme:this})},x}const LO=i=>[...[...Array(24)].map((e,t)=>`--${i?`${i}-`:""}overlays-${t+1}`),`--${i?`${i}-`:""}palette-AppBar-darkBg`,`--${i?`${i}-`:""}palette-AppBar-darkColor`],cy=LO,uy=i=>{var e;return!!i[0].match(/(typography|mixins|breakpoints|direction|transitions)/)||i[0]==="palette"&&!!((e=i[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))},FO=ly(),{CssVarsProvider:$O,useColorScheme:zO,getInitColorSchemeScript:WO}=NR({theme:FO,attribute:"data-mui-color-scheme",modeStorageKey:"mui-mode",colorSchemeStorageKey:"mui-color-scheme",defaultColorScheme:{light:"light",dark:"dark"},resolveTheme:i=>{const e=Ae({},i,{typography:Bg(i.palette,i.typography)});return e.unstable_sx=function(n){return Ol({sx:n,theme:this})},e},shouldSkipGeneratingVar:uy,excludeVariablesFromRoot:cy});function jO(){throw new Error(process.env.NODE_ENV!=="production"?"MUI: The `experimental_sx` has been moved to `theme.unstable_sx`.For more details, see https://github.com/mui/material-ui/pull/35150.":Pi(20))}const UO=Object.freeze(Object.defineProperty({__proto__:null,Experimental_CssVarsProvider:$O,StyledEngineProvider:j0,ThemeProvider:gl,adaptV4Theme:LR,alpha:ey,createMuiTheme:pO,createStyles:vO,createTheme:Lo,css:Fi.css,darken:Hd,decomposeColor:ar,duration:sy,easing:ry,emphasize:SR,experimentalStyled:Lv,experimental_extendTheme:ly,experimental_sx:jO,getContrastRatio:Hm,getInitColorSchemeScript:WO,getLuminance:wd,getOverlayAlpha:ay,hexToRgb:Z0,hslToRgb:Q0,keyframes:Fi.keyframes,lighten:qd,makeStyles:PO,private_createTypography:Bg,private_excludeVariablesFromRoot:cy,recomposeColor:Ml,responsiveFontSizes:CO,rgbToHex:CR,shouldSkipGeneratingVar:uy,styled:Lv,unstable_createMuiStrictModeTheme:_O,unstable_getUnit:oy,unstable_toUnitless:Xr,useColorScheme:zO,useTheme:TO,useThemeProps:xO,withStyles:IO,withTheme:RO},Symbol.toStringTag,{value:"Module"})),HO=LP(UO);var dy={},Kd={},hy={},Nl={};Object.defineProperty(Nl,"__esModule",{value:!0});Nl.assert=void 0;function qO(i,e){if(!i)throw new Error(e)}Nl.assert=qO;var Dl={};Object.defineProperty(Dl,"__esModule",{value:!0});Dl.typeGuard=void 0;function KO(i,e){return e}Dl.typeGuard=KO;(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.classnames=void 0;const e=Nl,t=Dl,n=r=>{const s=r.length;let o=0,l="";for(;o<s;o++){const u=r[o];if(u==null)continue;let h;switch(typeof u){case"boolean":break;case"object":{if(Array.isArray(u))h=(0,i.classnames)(u);else{(0,e.assert)(!(0,t.typeGuard)(u,!1)),process.env.NODE_ENV!=="production"&&u.styles!==void 0&&u.name!==void 0&&console.error("You have passed styles created with `css` from `@emotion/react` package to the `cx`.\n`cx` is meant to compose class names (strings) so you should convert those styles to a class name by passing them to the `css` received from <ClassNames/> component."),h="";for(const f in u)u[f]&&f&&(h&&(h+=" "),h+=f)}break}default:h=u}h&&(l&&(l+=" "),l+=h)}return l};i.classnames=n})(hy);var Gd={};Object.defineProperty(Gd,"__esModule",{value:!0});Gd.useGuaranteedMemo=void 0;const GO=Nt;function YO(i,e){const t=(0,GO.useRef)();return(!t.current||e.length!==t.current.prevDeps.length||t.current.prevDeps.map((n,r)=>n===e[r]).indexOf(!1)>=0)&&(t.current={v:i(),prevDeps:[...e]}),t.current.v}Gd.useGuaranteedMemo=YO;var xi={},JO=et&&et.__createBinding||(Object.create?function(i,e,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(e,t);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(i,n,r)}:function(i,e,t,n){n===void 0&&(n=t),i[n]=e[t]}),XO=et&&et.__setModuleDefault||(Object.create?function(i,e){Object.defineProperty(i,"default",{enumerable:!0,value:e})}:function(i,e){i.default=e}),ZO=et&&et.__importStar||function(i){if(i&&i.__esModule)return i;var e={};if(i!=null)for(var t in i)t!=="default"&&Object.prototype.hasOwnProperty.call(i,t)&&JO(e,i,t);return XO(e,i),e},QO=et&&et.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(xi,"__esModule",{value:!0});xi.TssCacheProvider=xi.useTssEmotionCache=xi.getTssDefaultEmotionCache=xi.getDoExistsTssDefaultEmotionCacheMemoizedValue=void 0;const bd=ZO(Nt),e3=QO(Vo),{getDoExistsTssDefaultEmotionCacheMemoizedValue:t3,getTssDefaultEmotionCache:fy,reactContext:my}=(()=>{const i="__tss-react_context",e=bd.createContext;let t=e["__tss-react_context"];if(t===void 0){const{getTssDefaultEmotionCache:n,getDoExistsTssDefaultEmotionCacheMemoizedValue:r}=(()=>{let s;function o(l){const{doReset:u=!1}=l??{};return u&&(s=void 0),s===void 0&&(s=(0,e3.default)({key:"tss"})),s}return{getTssDefaultEmotionCache:o,getDoExistsTssDefaultEmotionCacheMemoizedValue:()=>s!==void 0}})();t={getTssDefaultEmotionCache:n,getDoExistsTssDefaultEmotionCacheMemoizedValue:r,reactContext:(0,bd.createContext)(void 0)},Object.defineProperty(e,i,{configurable:!1,enumerable:!1,writable:!1,value:t})}return t})();xi.getDoExistsTssDefaultEmotionCacheMemoizedValue=t3;xi.getTssDefaultEmotionCache=fy;function n3(){const i=(0,bd.useContext)(my);return i??fy()}xi.useTssEmotionCache=n3;function i3(i){const{children:e,value:t}=i;return bd.default.createElement(my.Provider,{value:t},e)}xi.TssCacheProvider=i3;var Yd={};Object.defineProperty(Yd,"__esModule",{value:!0});Yd.matchCSSObject=void 0;function r3(i){return i instanceof Object&&!("styles"in i)&&!("length"in i)&&!("__emotion_styles"in i)}Yd.matchCSSObject=r3;(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.useCssAndCx=i.createCssAndCx=void 0;const e=hy,t=ts,n=or,r=Gd,s=xi,o=Yd;i.createCssAndCx=(()=>{function h(m,v,C){const k=[],S=(0,n.getRegisteredStyles)(m,k,C);return k.length<2?C:S+v(k)}function f(m){const{cache:v}=m,C=(...S)=>{const x=(0,t.serializeStyles)(S,v.registered);(0,n.insertStyles)(v,x,!1);const N=`${v.key}-${x.name}`;e:{const y=S[0];if(!(0,o.matchCSSObject)(y))break e;u.saveClassNameCSSObjectMapping(v,N,y)}return N};return{css:C,cx:(...S)=>{const x=(0,e.classnames)(S),N=u.fixClassName(v,x,C);return h(v.registered,C,N)}}}return{createCssAndCx:f}})().createCssAndCx;function l(){const h=(0,s.useTssEmotionCache)(),{css:f,cx:m}=(0,r.useGuaranteedMemo)(()=>(0,i.createCssAndCx)({cache:h}),[h]);return{css:f,cx:m}}i.useCssAndCx=l;const u=(()=>{const h=new WeakMap;return{saveClassNameCSSObjectMapping:(f,m,v)=>{let C=h.get(f);C===void 0&&(C=new Map,h.set(f,C)),C.set(m,v)},fixClassName:(()=>{function f(m){let v=!1;return m.map(([C,k])=>{if(k===void 0)return C;let S;if(v)S={"&&":k};else{S=C;for(const x in k)if(x.startsWith("@media")){v=!0;break}}return S})}return(m,v,C)=>{const k=h.get(m);return(0,e.classnames)(f(v.split(" ").map(S=>[S,k?.get(S)])).map(S=>typeof S=="string"?S:C(S)))}})()}})()})(Kd);var Vs={},Bl={};Object.defineProperty(Bl,"__esModule",{value:!0});Bl.objectKeys=void 0;function s3(i){return Object.keys(i)}Bl.objectKeys=s3;var Vl={};Object.defineProperty(Vl,"__esModule",{value:!0});Vl.getDependencyArrayRef=void 0;function o3(i){if(!(i instanceof Object)||typeof i=="function")return i;const e=[];for(const t in i){const n=i[t],r=typeof n;if(!(r==="string"||r==="number"&&!isNaN(n)||r==="boolean"||n===void 0||n===null))return i;e.push(`${t}:${r}_${n}`)}return"xSqLiJdLMd9s"+e.join("|")}Vl.getDependencyArrayRef=o3;Object.defineProperty(Vs,"__esModule",{value:!0});Vs.useMergedClasses=Vs.mergeClasses=void 0;const Fv=Bl,a3=Vl,l3=Kd,c3=Nt;function gy(i,e,t){if(!(e instanceof Object))return i;const n={};return(0,Fv.objectKeys)(i).forEach(r=>n[r]=t(i[r],e[r])),(0,Fv.objectKeys)(e).forEach(r=>{if(r in i)return;const s=e[r];typeof s=="string"&&(n[r]=s)}),n}Vs.mergeClasses=gy;function u3(i,e){const{cx:t}=(0,l3.useCssAndCx)();return(0,c3.useMemo)(()=>gy(i,e,t),[i,(0,a3.getDependencyArrayRef)(e),t])}Vs.useMergedClasses=u3;var Ll={},Jd={};Object.defineProperty(Jd,"__esModule",{value:!0});Jd.objectFromEntries=void 0;Jd.objectFromEntries=Object.fromEntries?Object.fromEntries:i=>{if(!i||!i[Symbol.iterator])throw new Error("Object.fromEntries() requires a single iterable argument");const e={};return Object.keys(i).forEach(t=>{const[n,r]=i[t];e[n]=r}),e};Object.defineProperty(Ll,"__esModule",{value:!0});Ll.createMakeStyles=void 0;const Nu=Nt,d3=Jd,$v=Bl,zv=Kd,Du=Vl,h3=Dl,f3=xi,m3=Nl,Wv=Vs;let g3=0;function p3(i){const{useTheme:e}=i;function t(r){const{name:s,uniqId:o=g3++}=r??{},l=typeof s!="object"?s:Object.keys(s)[0];return function(u){const h=typeof u=="function"?u:()=>u;return function(m,v){var C,k;const S=e(),{css:x,cx:N}=(0,zv.useCssAndCx)(),y=(0,f3.useTssEmotionCache)();let A=(0,Nu.useMemo)(()=>{const E={},V=typeof Proxy<"u"&&new Proxy({},{get:($,M)=>(typeof M=="symbol"&&(0,m3.assert)(!1),E[M]=`${y.key}-${o}${l!==void 0?`-${l}`:""}-${M}-ref`)}),j=h(S,m,V||{}),U=(0,d3.objectFromEntries)((0,$v.objectKeys)(j).map($=>{const M=j[$];return M.label||(M.label=`${l!==void 0?`${l}-`:""}${$}`),[$,`${x(M)}${(0,h3.typeGuard)($,$ in E)?` ${E[$]}`:""}`]}));return(0,$v.objectKeys)(E).forEach($=>{$ in U||(U[$]=E[$])}),U},[y,x,N,S,(0,Du.getDependencyArrayRef)(m)]);const P=v?.props.classes;A=(0,Nu.useMemo)(()=>(0,Wv.mergeClasses)(A,P,N),[A,(0,Du.getDependencyArrayRef)(P),N]);{let E;try{E=l!==void 0?(k=(C=S.components)===null||C===void 0?void 0:C[l])===null||k===void 0?void 0:k.styleOverrides:void 0}catch{}const V=(0,Nu.useMemo)(()=>{if(!E)return;const j={};for(const U in E){const $=E[U];$ instanceof Object&&(j[U]=x(typeof $=="function"?$(Object.assign({theme:S,ownerState:v?.ownerState},v?.props)):$))}return j},[E===void 0?void 0:JSON.stringify(E),(0,Du.getDependencyArrayRef)(v?.props),(0,Du.getDependencyArrayRef)(v?.ownerState),x]);A=(0,Nu.useMemo)(()=>(0,Wv.mergeClasses)(A,V,N),[A,V,N])}return{classes:A,theme:S,css:x,cx:N}}}}function n(){const r=e(),{css:s,cx:o}=(0,zv.useCssAndCx)();return{theme:r,css:s,cx:o}}return{makeStyles:t,useStyles:n}}Ll.createMakeStyles=p3;var Xd={},Zd={};Object.defineProperty(Zd,"__esModule",{value:!0});Zd.capitalize=void 0;function _3(i){return i.charAt(0).toUpperCase()+i.slice(1)}Zd.capitalize=_3;var v3=et&&et.__createBinding||(Object.create?function(i,e,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(e,t);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(i,n,r)}:function(i,e,t,n){n===void 0&&(n=t),i[n]=e[t]}),w3=et&&et.__setModuleDefault||(Object.create?function(i,e){Object.defineProperty(i,"default",{enumerable:!0,value:e})}:function(i,e){i.default=e}),b3=et&&et.__importStar||function(i){if(i&&i.__esModule)return i;var e={};if(i!=null)for(var t in i)t!=="default"&&Object.prototype.hasOwnProperty.call(i,t)&&v3(e,i,t);return w3(e,i),e},jv=et&&et.__rest||function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};Object.defineProperty(Xd,"__esModule",{value:!0});Xd.createWithStyles=void 0;const lm=b3(Nt),y3=Ll,E3=Zd;function C3(i){const{useTheme:e}=i,{makeStyles:t}=(0,y3.createMakeStyles)({useTheme:e});function n(r,s,o){const l=typeof r=="string"?(()=>{const m=r,v=function(C){var{children:k}=C,S=jv(C,["children"]);return(0,lm.createElement)(m,S,k)};return Object.defineProperty(v,"name",{value:(0,E3.capitalize)(m)}),v})():r,u=(()=>{const{name:m}=l;return typeof m=="string"?m:void 0})(),h=t(o)(typeof s=="function"?(m,v,C)=>Uv(s(m,v,C)):Uv(s)),f=(0,lm.forwardRef)(function(m,v){const{className:C,classes:k}=m,S=jv(m,["className","classes"]),{classes:x,cx:N}=h(m,{props:m});return lm.default.createElement(l,Object.assign({ref:v,className:N(x.root,C)},typeof r=="string"?{}:{classes:x},S))});return u!==void 0&&Object.defineProperty(f,"name",{value:`${u}WithStyles`}),f}return{withStyles:n}}Xd.createWithStyles=C3;function Uv(i){const e={},t={};return Object.keys(i).forEach(n=>(n.startsWith("@media")?t:e)[n]=i[n]),Object.keys(t).forEach(n=>{const r=t[n];Object.keys(r).forEach(s=>{var o;return e[s]=Object.assign(Object.assign({},(o=e[s])!==null&&o!==void 0?o:{}),{[n]:r[s]})})}),e}var Qd={},S3=et&&et.__createBinding||(Object.create?function(i,e,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(e,t);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(i,n,r)}:function(i,e,t,n){n===void 0&&(n=t),i[n]=e[t]}),T3=et&&et.__setModuleDefault||(Object.create?function(i,e){Object.defineProperty(i,"default",{enumerable:!0,value:e})}:function(i,e){i.default=e}),x3=et&&et.__importStar||function(i){if(i&&i.__esModule)return i;var e={};if(i!=null)for(var t in i)t!=="default"&&Object.prototype.hasOwnProperty.call(i,t)&&S3(e,i,t);return T3(e,i),e},k3=et&&et.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Qd,"__esModule",{value:!0});Qd.GlobalStyles=void 0;const A3=k3(Nt),Hv=x3(Fi);function P3(i){const{styles:e}=i;return A3.default.createElement(Hv.Global,{styles:Hv.css(e)})}Qd.GlobalStyles=P3;(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.createMakeAndWithStyles=i.TssCacheProvider=i.getTssDefaultEmotionCache=i.GlobalStyles=i.keyframes=i.createWithStyles=i.createMakeStyles=i.useMergedClasses=i.useCssAndCx=void 0;var e=Kd;Object.defineProperty(i,"useCssAndCx",{enumerable:!0,get:function(){return e.useCssAndCx}});var t=Vs;Object.defineProperty(i,"useMergedClasses",{enumerable:!0,get:function(){return t.useMergedClasses}});const n=Ll;Object.defineProperty(i,"createMakeStyles",{enumerable:!0,get:function(){return n.createMakeStyles}});const r=Xd;Object.defineProperty(i,"createWithStyles",{enumerable:!0,get:function(){return r.createWithStyles}});var s=Fi;Object.defineProperty(i,"keyframes",{enumerable:!0,get:function(){return s.keyframes}});var o=Qd;Object.defineProperty(i,"GlobalStyles",{enumerable:!0,get:function(){return o.GlobalStyles}});var l=xi;Object.defineProperty(i,"getTssDefaultEmotionCache",{enumerable:!0,get:function(){return l.getTssDefaultEmotionCache}}),Object.defineProperty(i,"TssCacheProvider",{enumerable:!0,get:function(){return l.TssCacheProvider}});function u(h){return Object.assign(Object.assign({},(0,n.createMakeStyles)(h)),(0,r.createWithStyles)(h))}i.createMakeAndWithStyles=u})(dy);var Lg,Bu;Object.defineProperty(Rs,"__esModule",{value:!0});Rs.useStyles=Rs.withStyles=Lg=Rs.makeStyles=void 0;const I3=HO,R3=dy;Bu=(0,R3.createMakeAndWithStyles)({useTheme:I3.useTheme}),Lg=Rs.makeStyles=Bu.makeStyles,Rs.withStyles=Bu.withStyles,Rs.useStyles=Bu.useStyles;/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function O3(){try{return navigator.userAgent.toLowerCase()}catch{return""}}const Cs=O3(),qe={isMac:py(Cs),isWindows:M3(Cs),isGecko:N3(Cs),isSafari:D3(Cs),isiOS:B3(Cs),isAndroid:V3(Cs),isBlink:L3(Cs),features:{isRegExpUnicodePropertySupported:F3()}};function py(i){return i.indexOf("macintosh")>-1}function M3(i){return i.indexOf("windows")>-1}function N3(i){return!!i.match(/gecko\/\d+/)}function D3(i){return i.indexOf(" applewebkit/")>-1&&i.indexOf("chrome")===-1}function B3(i){return!!i.match(/iphone|ipad/i)||py(i)&&navigator.maxTouchPoints>0}function V3(i){return i.indexOf("android")>-1}function L3(i){return i.indexOf("chrome/")>-1&&i.indexOf("edge/")<0}function F3(){let i=!1;try{i="ć".search(new RegExp("[\\p{L}]","u"))===0}catch{}return i}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function _y(i,e,t,n){t=t||function(u,h){return u===h};const r=Array.isArray(i)?i:Array.prototype.slice.call(i),s=Array.isArray(e)?e:Array.prototype.slice.call(e),o=$3(r,s,t);return n?W3(o,s.length):z3(s,o)}function $3(i,e,t){const n=qv(i,e,t);if(n===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const r=Kv(i,n),s=Kv(e,n),o=qv(r,s,t),l=i.length-o,u=e.length-o;return{firstIndex:n,lastIndexOld:l,lastIndexNew:u}}function qv(i,e,t){for(let n=0;n<Math.max(i.length,e.length);n++)if(i[n]===void 0||e[n]===void 0||!t(i[n],e[n]))return n;return-1}function Kv(i,e){return i.slice(e).reverse()}function z3(i,e){const t=[],{firstIndex:n,lastIndexOld:r,lastIndexNew:s}=e;return s-n>0&&t.push({index:n,type:"insert",values:i.slice(n,s)}),r-n>0&&t.push({index:n+(s-n),type:"delete",howMany:r-n}),t}function W3(i,e){const{firstIndex:t,lastIndexOld:n,lastIndexNew:r}=i;if(t===-1)return Array(e).fill("equal");let s=[];return t>0&&(s=s.concat(Array(t).fill("equal"))),r-t>0&&(s=s.concat(Array(r-t).fill("insert"))),n-t>0&&(s=s.concat(Array(n-t).fill("delete"))),r<e&&(s=s.concat(Array(e-r).fill("equal"))),s}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function cl(i,e,t){t=t||function(S,x){return S===x};const n=i.length,r=e.length;if(n>200||r>200||n+r>300)return cl.fastDiff(i,e,t,!0);let s,o;if(r<n){const S=i;i=e,e=S,s="delete",o="insert"}else s="insert",o="delete";const l=i.length,u=e.length,h=u-l,f={},m={};function v(S){const x=(m[S-1]!==void 0?m[S-1]:-1)+1,N=m[S+1]!==void 0?m[S+1]:-1,y=x>N?-1:1;f[S+y]&&(f[S]=f[S+y].slice(0)),f[S]||(f[S]=[]),f[S].push(x>N?s:o);let A=Math.max(x,N),P=A-S;for(;P<l&&A<u&&t(i[P],e[A]);)P++,A++,f[S].push("equal");return A}let C=0,k;do{for(k=-C;k<h;k++)m[k]=v(k);for(k=h+C;k>h;k--)m[k]=v(k);m[h]=v(h),C++}while(m[h]!==u);return f[h].slice(1)}cl.fastDiff=_y;/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Gv(){return function i(){i.called=!0}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ir{constructor(e,t){this.source=e,this.name=t,this.path=[],this.stop=Gv(),this.off=Gv()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Pn=new Array(256).fill("").map((i,e)=>("0"+e.toString(16)).slice(-2));function Rr(){const i=Math.random()*4294967296>>>0,e=Math.random()*4294967296>>>0,t=Math.random()*4294967296>>>0,n=Math.random()*4294967296>>>0;return"e"+Pn[i>>0&255]+Pn[i>>8&255]+Pn[i>>16&255]+Pn[i>>24&255]+Pn[e>>0&255]+Pn[e>>8&255]+Pn[e>>16&255]+Pn[e>>24&255]+Pn[t>>0&255]+Pn[t>>8&255]+Pn[t>>16&255]+Pn[t>>24&255]+Pn[n>>0&255]+Pn[n>>8&255]+Pn[n>>16&255]+Pn[n>>24&255]}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Os={get(i="normal"){return typeof i!="number"?this[i]||this.normal:i},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function j3(i,e){const t=Os.get(e.priority);for(let n=0;n<i.length;n++)if(Os.get(i[n].priority)<t){i.splice(n,0,e);return}i.push(e)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const U3="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class B extends Error{constructor(e,t,n){super(H3(e,n)),this.name="CKEditorError",this.context=t,this.data=n}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,t){if(e.is&&e.is("CKEditorError"))throw e;const n=new B(e.message,t);throw n.stack=e.stack,n}}function Jt(i,e){console.warn(...q3(i,e))}function vy(i){return`
Read more: ${U3}#error-${i}`}function H3(i,e){const t=new WeakSet,r=e?` ${JSON.stringify(e,(o,l)=>{if(typeof l=="object"&&l!==null){if(t.has(l))return`[object ${l.constructor.name}]`;t.add(l)}return l})}`:"",s=vy(i);return i+r+s}function q3(i,e){const t=vy(i);return e?[i,e,t]:[i,t]}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const K3="37.1.0";/* istanbul ignore next -- @preserve */const Yv=typeof window=="object"?window:global;/* istanbul ignore next -- @preserve */if(Yv.CKEDITOR_VERSION)throw new B("ckeditor-duplicated-modules",null);Yv.CKEDITOR_VERSION=K3;/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Io=Symbol("listeningTo"),qm=Symbol("emitterId"),Sr=Symbol("delegations"),wy=kt(Object);function kt(i){if(!i)return wy;class e extends i{on(n,r,s){this.listenTo(this,n,r,s)}once(n,r,s){let o=!1;const l=(u,...h)=>{o||(o=!0,u.off(),r.call(this,u,...h))};this.listenTo(this,n,l,s)}off(n,r){this.stopListening(this,n,r)}listenTo(n,r,s,o={}){let l,u;this[Io]||(this[Io]={});const h=this[Io];cm(n)||by(n);const f=cm(n);(l=h[f])||(l=h[f]={emitter:n,callbacks:{}}),(u=l.callbacks[r])||(u=l.callbacks[r]=[]),u.push(s),X3(this,n,r,s,o)}stopListening(n,r,s){const o=this[Io];let l=n&&cm(n);const u=o&&l?o[l]:void 0,h=u&&r?u.callbacks[r]:void 0;if(!(!o||n&&!u||r&&!h))if(s)um(this,n,r,s),h.indexOf(s)!==-1&&(h.length===1?delete u.callbacks[r]:um(this,n,r,s));else if(h){for(;s=h.pop();)um(this,n,r,s);delete u.callbacks[r]}else if(u){for(r in u.callbacks)this.stopListening(n,r);delete o[l]}else{for(l in o)this.stopListening(o[l].emitter);delete this[Io]}}fire(n,...r){try{const s=n instanceof Ir?n:new Ir(this,n),o=s.name;let l=Ey(this,o);if(s.path.push(this),l){const h=[s,...r];l=Array.from(l);for(let f=0;f<l.length&&(l[f].callback.apply(this,h),s.off.called&&(delete s.off.called,this._removeEventListener(o,l[f].callback)),!s.stop.called);f++);}const u=this[Sr];if(u){const h=u.get(o),f=u.get("*");h&&Jv(h,s,r),f&&Jv(f,s,r)}return s.return}catch(s){/* istanbul ignore next -- @preserve */B.rethrowUnexpectedError(s,this)}}delegate(...n){return{to:(r,s)=>{this[Sr]||(this[Sr]=new Map),n.forEach(o=>{const l=this[Sr].get(o);l?l.set(r,s):this[Sr].set(o,new Map([[r,s]]))})}}}stopDelegating(n,r){if(this[Sr])if(!n)this[Sr].clear();else if(!r)this[Sr].delete(n);else{const s=this[Sr].get(n);s&&s.delete(r)}}_addEventListener(n,r,s){J3(this,n);const o=Km(this,n),l=Os.get(s.priority),u={callback:r,priority:l};for(const h of o)j3(h,u)}_removeEventListener(n,r){const s=Km(this,n);for(const o of s)for(let l=0;l<o.length;l++)o[l].callback==r&&(o.splice(l,1),l--)}}return e}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(i=>{kt[i]=wy.prototype[i]});function G3(i,e){const t=i[Io];return t&&t[e]?t[e].emitter:null}function by(i,e){i[qm]||(i[qm]=e||Rr())}function cm(i){return i[qm]}function yy(i){return i._events||Object.defineProperty(i,"_events",{value:{}}),i._events}function Y3(){return{callbacks:[],childEvents:[]}}function J3(i,e){const t=yy(i);if(t[e])return;let n=e,r=null;const s=[];for(;n!==""&&!t[n];)t[n]=Y3(),s.push(t[n]),r&&t[n].childEvents.push(r),r=n,n=n.substr(0,n.lastIndexOf(":"));if(n!==""){for(const o of s)o.callbacks=t[n].callbacks.slice();t[n].childEvents.push(r)}}function Km(i,e){const t=yy(i)[e];if(!t)return[];let n=[t.callbacks];for(let r=0;r<t.childEvents.length;r++){const s=Km(i,t.childEvents[r]);n=n.concat(s)}return n}function Ey(i,e){let t;return!i._events||!(t=i._events[e])||!t.callbacks.length?e.indexOf(":")>-1?Ey(i,e.substr(0,e.lastIndexOf(":"))):null:t.callbacks}function Jv(i,e,t){for(let[n,r]of i){r?typeof r=="function"&&(r=r(e.name)):r=e.name;const s=new Ir(e.source,r);s.path=[...e.path],n.fire(s,...t)}}function X3(i,e,t,n,r){e._addEventListener?e._addEventListener(t,n,r):i._addEventListener.call(e,t,n,r)}function um(i,e,t,n){e._removeEventListener?e._removeEventListener(t,n):i._removeEventListener.call(e,t,n)}var Z3=typeof global=="object"&&global&&global.Object===Object&&global;const Cy=Z3;var Q3=typeof self=="object"&&self&&self.Object===Object&&self,e4=Cy||Q3||Function("return this")();const ji=e4;var t4=ji.Symbol;const lr=t4;var Sy=Object.prototype,n4=Sy.hasOwnProperty,i4=Sy.toString,Ka=lr?lr.toStringTag:void 0;function r4(i){var e=n4.call(i,Ka),t=i[Ka];try{i[Ka]=void 0;var n=!0}catch{}var r=i4.call(i);return n&&(e?i[Ka]=t:delete i[Ka]),r}var s4=Object.prototype,o4=s4.toString;function a4(i){return o4.call(i)}var l4="[object Null]",c4="[object Undefined]",Xv=lr?lr.toStringTag:void 0;function os(i){return i==null?i===void 0?c4:l4:Xv&&Xv in Object(i)?r4(i):a4(i)}function Ii(i){return i!=null&&typeof i=="object"}var u4="[object Symbol]";function eh(i){return typeof i=="symbol"||Ii(i)&&os(i)==u4}function d4(i,e){for(var t=-1,n=i==null?0:i.length,r=Array(n);++t<n;)r[t]=e(i[t],t,i);return r}var h4=Array.isArray;const zn=h4;var f4=1/0,Zv=lr?lr.prototype:void 0,Qv=Zv?Zv.toString:void 0;function Ty(i){if(typeof i=="string")return i;if(zn(i))return d4(i,Ty)+"";if(eh(i))return Qv?Qv.call(i):"";var e=i+"";return e=="0"&&1/i==-f4?"-0":e}var m4=/\s/;function g4(i){for(var e=i.length;e--&&m4.test(i.charAt(e)););return e}var p4=/^\s+/;function _4(i){return i&&i.slice(0,g4(i)+1).replace(p4,"")}function Ft(i){var e=typeof i;return i!=null&&(e=="object"||e=="function")}var ew=0/0,v4=/^[-+]0x[0-9a-f]+$/i,w4=/^0b[01]+$/i,b4=/^0o[0-7]+$/i,y4=parseInt;function tw(i){if(typeof i=="number")return i;if(eh(i))return ew;if(Ft(i)){var e=typeof i.valueOf=="function"?i.valueOf():i;i=Ft(e)?e+"":e}if(typeof i!="string")return i===0?i:+i;i=_4(i);var t=w4.test(i);return t||b4.test(i)?y4(i.slice(2),t?2:8):v4.test(i)?ew:+i}function Ps(i){return i}var E4="[object AsyncFunction]",C4="[object Function]",S4="[object GeneratorFunction]",T4="[object Proxy]";function Ls(i){if(!Ft(i))return!1;var e=os(i);return e==C4||e==S4||e==E4||e==T4}var x4=ji["__core-js_shared__"];const dm=x4;var nw=function(){var i=/[^.]+$/.exec(dm&&dm.keys&&dm.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function k4(i){return!!nw&&nw in i}var A4=Function.prototype,P4=A4.toString;function zs(i){if(i!=null){try{return P4.call(i)}catch{}try{return i+""}catch{}}return""}var I4=/[\\^$.*+?()[\]{}|]/g,R4=/^\[object .+?Constructor\]$/,O4=Function.prototype,M4=Object.prototype,N4=O4.toString,D4=M4.hasOwnProperty,B4=RegExp("^"+N4.call(D4).replace(I4,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function V4(i){if(!Ft(i)||k4(i))return!1;var e=Ls(i)?B4:R4;return e.test(zs(i))}function L4(i,e){return i?.[e]}function Ws(i,e){var t=L4(i,e);return V4(t)?t:void 0}var F4=Ws(ji,"WeakMap");const Gm=F4;var iw=Object.create,$4=function(){function i(){}return function(e){if(!Ft(e))return{};if(iw)return iw(e);i.prototype=e;var t=new i;return i.prototype=void 0,t}}();const z4=$4;function W4(i,e,t){switch(t.length){case 0:return i.call(e);case 1:return i.call(e,t[0]);case 2:return i.call(e,t[0],t[1]);case 3:return i.call(e,t[0],t[1],t[2])}return i.apply(e,t)}function xy(i,e){var t=-1,n=i.length;for(e||(e=Array(n));++t<n;)e[t]=i[t];return e}var j4=800,U4=16,H4=Date.now;function q4(i){var e=0,t=0;return function(){var n=H4(),r=U4-(n-t);if(t=n,r>0){if(++e>=j4)return arguments[0]}else e=0;return i.apply(void 0,arguments)}}function K4(i){return function(){return i}}var G4=function(){try{var i=Ws(Object,"defineProperty");return i({},"",{}),i}catch{}}();const yd=G4;var Y4=yd?function(i,e){return yd(i,"toString",{configurable:!0,enumerable:!1,value:K4(e),writable:!0})}:Ps;const J4=Y4;var X4=q4(J4);const Z4=X4;function Q4(i,e){for(var t=-1,n=i==null?0:i.length;++t<n&&e(i[t],t,i)!==!1;);return i}var eM=9007199254740991,tM=/^(?:0|[1-9]\d*)$/;function Fg(i,e){var t=typeof i;return e=e??eM,!!e&&(t=="number"||t!="symbol"&&tM.test(i))&&i>-1&&i%1==0&&i<e}function $g(i,e,t){e=="__proto__"&&yd?yd(i,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):i[e]=t}function Fl(i,e){return i===e||i!==i&&e!==e}var nM=Object.prototype,iM=nM.hasOwnProperty;function zg(i,e,t){var n=i[e];(!(iM.call(i,e)&&Fl(n,t))||t===void 0&&!(e in i))&&$g(i,e,t)}function Xo(i,e,t,n){var r=!t;t||(t={});for(var s=-1,o=e.length;++s<o;){var l=e[s],u=n?n(t[l],i[l],l,t,i):void 0;u===void 0&&(u=i[l]),r?$g(t,l,u):zg(t,l,u)}return t}var rw=Math.max;function rM(i,e,t){return e=rw(e===void 0?i.length-1:e,0),function(){for(var n=arguments,r=-1,s=rw(n.length-e,0),o=Array(s);++r<s;)o[r]=n[e+r];r=-1;for(var l=Array(e+1);++r<e;)l[r]=n[r];return l[e]=t(o),W4(i,this,l)}}function sM(i,e){return Z4(rM(i,e,Ps),i+"")}var oM=9007199254740991;function ky(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=oM}function th(i){return i!=null&&ky(i.length)&&!Ls(i)}function aM(i,e,t){if(!Ft(t))return!1;var n=typeof e;return(n=="number"?th(t)&&Fg(e,t.length):n=="string"&&e in t)?Fl(t[e],i):!1}function Ay(i){return sM(function(e,t){var n=-1,r=t.length,s=r>1?t[r-1]:void 0,o=r>2?t[2]:void 0;for(s=i.length>3&&typeof s=="function"?(r--,s):void 0,o&&aM(t[0],t[1],o)&&(s=r<3?void 0:s,r=1),e=Object(e);++n<r;){var l=t[n];l&&i(e,l,n,s)}return e})}var lM=Object.prototype;function Wg(i){var e=i&&i.constructor,t=typeof e=="function"&&e.prototype||lM;return i===t}function cM(i,e){for(var t=-1,n=Array(i);++t<i;)n[t]=e(t);return n}var uM="[object Arguments]";function sw(i){return Ii(i)&&os(i)==uM}var Py=Object.prototype,dM=Py.hasOwnProperty,hM=Py.propertyIsEnumerable,fM=sw(function(){return arguments}())?sw:function(i){return Ii(i)&&dM.call(i,"callee")&&!hM.call(i,"callee")};const Ym=fM;function mM(){return!1}var Iy=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ow=Iy&&typeof module=="object"&&module&&!module.nodeType&&module,gM=ow&&ow.exports===Iy,aw=gM?ji.Buffer:void 0,pM=aw?aw.isBuffer:void 0,_M=pM||mM;const _l=_M;var vM="[object Arguments]",wM="[object Array]",bM="[object Boolean]",yM="[object Date]",EM="[object Error]",CM="[object Function]",SM="[object Map]",TM="[object Number]",xM="[object Object]",kM="[object RegExp]",AM="[object Set]",PM="[object String]",IM="[object WeakMap]",RM="[object ArrayBuffer]",OM="[object DataView]",MM="[object Float32Array]",NM="[object Float64Array]",DM="[object Int8Array]",BM="[object Int16Array]",VM="[object Int32Array]",LM="[object Uint8Array]",FM="[object Uint8ClampedArray]",$M="[object Uint16Array]",zM="[object Uint32Array]",Ot={};Ot[MM]=Ot[NM]=Ot[DM]=Ot[BM]=Ot[VM]=Ot[LM]=Ot[FM]=Ot[$M]=Ot[zM]=!0;Ot[vM]=Ot[wM]=Ot[RM]=Ot[bM]=Ot[OM]=Ot[yM]=Ot[EM]=Ot[CM]=Ot[SM]=Ot[TM]=Ot[xM]=Ot[kM]=Ot[AM]=Ot[PM]=Ot[IM]=!1;function WM(i){return Ii(i)&&ky(i.length)&&!!Ot[os(i)]}function jg(i){return function(e){return i(e)}}var Ry=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ul=Ry&&typeof module=="object"&&module&&!module.nodeType&&module,jM=ul&&ul.exports===Ry,hm=jM&&Cy.process,UM=function(){try{var i=ul&&ul.require&&ul.require("util").types;return i||hm&&hm.binding&&hm.binding("util")}catch{}}();const Fo=UM;var lw=Fo&&Fo.isTypedArray,HM=lw?jg(lw):WM;const Ug=HM;var qM=Object.prototype,KM=qM.hasOwnProperty;function Oy(i,e){var t=zn(i),n=!t&&Ym(i),r=!t&&!n&&_l(i),s=!t&&!n&&!r&&Ug(i),o=t||n||r||s,l=o?cM(i.length,String):[],u=l.length;for(var h in i)(e||KM.call(i,h))&&!(o&&(h=="length"||r&&(h=="offset"||h=="parent")||s&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||Fg(h,u)))&&l.push(h);return l}function My(i,e){return function(t){return i(e(t))}}var GM=My(Object.keys,Object);const YM=GM;var JM=Object.prototype,XM=JM.hasOwnProperty;function ZM(i){if(!Wg(i))return YM(i);var e=[];for(var t in Object(i))XM.call(i,t)&&t!="constructor"&&e.push(t);return e}function Hg(i){return th(i)?Oy(i):ZM(i)}function QM(i){var e=[];if(i!=null)for(var t in Object(i))e.push(t);return e}var e6=Object.prototype,t6=e6.hasOwnProperty;function n6(i){if(!Ft(i))return QM(i);var e=Wg(i),t=[];for(var n in i)n=="constructor"&&(e||!t6.call(i,n))||t.push(n);return t}function Zo(i){return th(i)?Oy(i,!0):n6(i)}var i6=Ay(function(i,e){Xo(e,Zo(e),i)});const Ny=i6;var r6=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s6=/^\w*$/;function o6(i,e){if(zn(i))return!1;var t=typeof i;return t=="number"||t=="symbol"||t=="boolean"||i==null||eh(i)?!0:s6.test(i)||!r6.test(i)||e!=null&&i in Object(e)}var a6=Ws(Object,"create");const vl=a6;function l6(){this.__data__=vl?vl(null):{},this.size=0}function c6(i){var e=this.has(i)&&delete this.__data__[i];return this.size-=e?1:0,e}var u6="__lodash_hash_undefined__",d6=Object.prototype,h6=d6.hasOwnProperty;function f6(i){var e=this.__data__;if(vl){var t=e[i];return t===u6?void 0:t}return h6.call(e,i)?e[i]:void 0}var m6=Object.prototype,g6=m6.hasOwnProperty;function p6(i){var e=this.__data__;return vl?e[i]!==void 0:g6.call(e,i)}var _6="__lodash_hash_undefined__";function v6(i,e){var t=this.__data__;return this.size+=this.has(i)?0:1,t[i]=vl&&e===void 0?_6:e,this}function Fs(i){var e=-1,t=i==null?0:i.length;for(this.clear();++e<t;){var n=i[e];this.set(n[0],n[1])}}Fs.prototype.clear=l6;Fs.prototype.delete=c6;Fs.prototype.get=f6;Fs.prototype.has=p6;Fs.prototype.set=v6;function w6(){this.__data__=[],this.size=0}function nh(i,e){for(var t=i.length;t--;)if(Fl(i[t][0],e))return t;return-1}var b6=Array.prototype,y6=b6.splice;function E6(i){var e=this.__data__,t=nh(e,i);if(t<0)return!1;var n=e.length-1;return t==n?e.pop():y6.call(e,t,1),--this.size,!0}function C6(i){var e=this.__data__,t=nh(e,i);return t<0?void 0:e[t][1]}function S6(i){return nh(this.__data__,i)>-1}function T6(i,e){var t=this.__data__,n=nh(t,i);return n<0?(++this.size,t.push([i,e])):t[n][1]=e,this}function Mr(i){var e=-1,t=i==null?0:i.length;for(this.clear();++e<t;){var n=i[e];this.set(n[0],n[1])}}Mr.prototype.clear=w6;Mr.prototype.delete=E6;Mr.prototype.get=C6;Mr.prototype.has=S6;Mr.prototype.set=T6;var x6=Ws(ji,"Map");const wl=x6;function k6(){this.size=0,this.__data__={hash:new Fs,map:new(wl||Mr),string:new Fs}}function A6(i){var e=typeof i;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?i!=="__proto__":i===null}function ih(i,e){var t=i.__data__;return A6(e)?t[typeof e=="string"?"string":"hash"]:t.map}function P6(i){var e=ih(this,i).delete(i);return this.size-=e?1:0,e}function I6(i){return ih(this,i).get(i)}function R6(i){return ih(this,i).has(i)}function O6(i,e){var t=ih(this,i),n=t.size;return t.set(i,e),this.size+=t.size==n?0:1,this}function Nr(i){var e=-1,t=i==null?0:i.length;for(this.clear();++e<t;){var n=i[e];this.set(n[0],n[1])}}Nr.prototype.clear=k6;Nr.prototype.delete=P6;Nr.prototype.get=I6;Nr.prototype.has=R6;Nr.prototype.set=O6;var M6="Expected a function";function qg(i,e){if(typeof i!="function"||e!=null&&typeof e!="function")throw new TypeError(M6);var t=function(){var n=arguments,r=e?e.apply(this,n):n[0],s=t.cache;if(s.has(r))return s.get(r);var o=i.apply(this,n);return t.cache=s.set(r,o)||s,o};return t.cache=new(qg.Cache||Nr),t}qg.Cache=Nr;var N6=500;function D6(i){var e=qg(i,function(n){return t.size===N6&&t.clear(),n}),t=e.cache;return e}var B6=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,V6=/\\(\\)?/g,L6=D6(function(i){var e=[];return i.charCodeAt(0)===46&&e.push(""),i.replace(B6,function(t,n,r,s){e.push(r?s.replace(V6,"$1"):n||t)}),e});const F6=L6;function Dy(i){return i==null?"":Ty(i)}function Kg(i,e){return zn(i)?i:o6(i,e)?[i]:F6(Dy(i))}var $6=1/0;function Gg(i){if(typeof i=="string"||eh(i))return i;var e=i+"";return e=="0"&&1/i==-$6?"-0":e}function By(i,e){e=Kg(e,i);for(var t=0,n=e.length;i!=null&&t<n;)i=i[Gg(e[t++])];return t&&t==n?i:void 0}function Ed(i,e,t){var n=i==null?void 0:By(i,e);return n===void 0?t:n}function Vy(i,e){for(var t=-1,n=e.length,r=i.length;++t<n;)i[r+t]=e[t];return i}var z6=My(Object.getPrototypeOf,Object);const Yg=z6;var W6="[object Object]",j6=Function.prototype,U6=Object.prototype,Ly=j6.toString,H6=U6.hasOwnProperty,q6=Ly.call(Object);function di(i){if(!Ii(i)||os(i)!=W6)return!1;var e=Yg(i);if(e===null)return!0;var t=H6.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&Ly.call(t)==q6}function Fy(i,e,t){var n=-1,r=i.length;e<0&&(e=-e>r?0:r+e),t=t>r?r:t,t<0&&(t+=r),r=e>t?0:t-e>>>0,e>>>=0;for(var s=Array(r);++n<r;)s[n]=i[n+e];return s}function K6(i,e,t){var n=i.length;return t=t===void 0?n:t,!e&&t>=n?i:Fy(i,e,t)}var G6="\\ud800-\\udfff",Y6="\\u0300-\\u036f",J6="\\ufe20-\\ufe2f",X6="\\u20d0-\\u20ff",Z6=Y6+J6+X6,Q6="\\ufe0e\\ufe0f",e7="\\u200d",t7=RegExp("["+e7+G6+Z6+Q6+"]");function $y(i){return t7.test(i)}function n7(i){return i.split("")}var zy="\\ud800-\\udfff",i7="\\u0300-\\u036f",r7="\\ufe20-\\ufe2f",s7="\\u20d0-\\u20ff",o7=i7+r7+s7,a7="\\ufe0e\\ufe0f",l7="["+zy+"]",Jm="["+o7+"]",Xm="\\ud83c[\\udffb-\\udfff]",c7="(?:"+Jm+"|"+Xm+")",Wy="[^"+zy+"]",jy="(?:\\ud83c[\\udde6-\\uddff]){2}",Uy="[\\ud800-\\udbff][\\udc00-\\udfff]",u7="\\u200d",Hy=c7+"?",qy="["+a7+"]?",d7="(?:"+u7+"(?:"+[Wy,jy,Uy].join("|")+")"+qy+Hy+")*",h7=qy+Hy+d7,f7="(?:"+[Wy+Jm+"?",Jm,jy,Uy,l7].join("|")+")",m7=RegExp(Xm+"(?="+Xm+")|"+f7+h7,"g");function g7(i){return i.match(m7)||[]}function p7(i){return $y(i)?g7(i):n7(i)}function _7(i){return function(e){e=Dy(e);var t=$y(e)?p7(e):void 0,n=t?t[0]:e.charAt(0),r=t?K6(t,1).join(""):e.slice(1);return n[i]()+r}}var v7=_7("toUpperCase");const w7=v7;function b7(){this.__data__=new Mr,this.size=0}function y7(i){var e=this.__data__,t=e.delete(i);return this.size=e.size,t}function E7(i){return this.__data__.get(i)}function C7(i){return this.__data__.has(i)}var S7=200;function T7(i,e){var t=this.__data__;if(t instanceof Mr){var n=t.__data__;if(!wl||n.length<S7-1)return n.push([i,e]),this.size=++t.size,this;t=this.__data__=new Nr(n)}return t.set(i,e),this.size=t.size,this}function rr(i){var e=this.__data__=new Mr(i);this.size=e.size}rr.prototype.clear=b7;rr.prototype.delete=y7;rr.prototype.get=E7;rr.prototype.has=C7;rr.prototype.set=T7;function x7(i,e){return i&&Xo(e,Hg(e),i)}function k7(i,e){return i&&Xo(e,Zo(e),i)}var Ky=typeof exports=="object"&&exports&&!exports.nodeType&&exports,cw=Ky&&typeof module=="object"&&module&&!module.nodeType&&module,A7=cw&&cw.exports===Ky,uw=A7?ji.Buffer:void 0,dw=uw?uw.allocUnsafe:void 0;function Gy(i,e){if(e)return i.slice();var t=i.length,n=dw?dw(t):new i.constructor(t);return i.copy(n),n}function P7(i,e){for(var t=-1,n=i==null?0:i.length,r=0,s=[];++t<n;){var o=i[t];e(o,t,i)&&(s[r++]=o)}return s}function Yy(){return[]}var I7=Object.prototype,R7=I7.propertyIsEnumerable,hw=Object.getOwnPropertySymbols,O7=hw?function(i){return i==null?[]:(i=Object(i),P7(hw(i),function(e){return R7.call(i,e)}))}:Yy;const Jg=O7;function M7(i,e){return Xo(i,Jg(i),e)}var N7=Object.getOwnPropertySymbols,D7=N7?function(i){for(var e=[];i;)Vy(e,Jg(i)),i=Yg(i);return e}:Yy;const Jy=D7;function B7(i,e){return Xo(i,Jy(i),e)}function Xy(i,e,t){var n=e(i);return zn(i)?n:Vy(n,t(i))}function Zm(i){return Xy(i,Hg,Jg)}function V7(i){return Xy(i,Zo,Jy)}var L7=Ws(ji,"DataView");const Qm=L7;var F7=Ws(ji,"Promise");const eg=F7;var $7=Ws(ji,"Set");const tg=$7;var fw="[object Map]",z7="[object Object]",mw="[object Promise]",gw="[object Set]",pw="[object WeakMap]",_w="[object DataView]",W7=zs(Qm),j7=zs(wl),U7=zs(eg),H7=zs(tg),q7=zs(Gm),ks=os;(Qm&&ks(new Qm(new ArrayBuffer(1)))!=_w||wl&&ks(new wl)!=fw||eg&&ks(eg.resolve())!=mw||tg&&ks(new tg)!=gw||Gm&&ks(new Gm)!=pw)&&(ks=function(i){var e=os(i),t=e==z7?i.constructor:void 0,n=t?zs(t):"";if(n)switch(n){case W7:return _w;case j7:return fw;case U7:return mw;case H7:return gw;case q7:return pw}return e});const bl=ks;var K7=Object.prototype,G7=K7.hasOwnProperty;function Y7(i){var e=i.length,t=new i.constructor(e);return e&&typeof i[0]=="string"&&G7.call(i,"index")&&(t.index=i.index,t.input=i.input),t}var J7=ji.Uint8Array;const Cd=J7;function Xg(i){var e=new i.constructor(i.byteLength);return new Cd(e).set(new Cd(i)),e}function X7(i,e){var t=e?Xg(i.buffer):i.buffer;return new i.constructor(t,i.byteOffset,i.byteLength)}var Z7=/\w*$/;function Q7(i){var e=new i.constructor(i.source,Z7.exec(i));return e.lastIndex=i.lastIndex,e}var vw=lr?lr.prototype:void 0,ww=vw?vw.valueOf:void 0;function eN(i){return ww?Object(ww.call(i)):{}}function Zy(i,e){var t=e?Xg(i.buffer):i.buffer;return new i.constructor(t,i.byteOffset,i.length)}var tN="[object Boolean]",nN="[object Date]",iN="[object Map]",rN="[object Number]",sN="[object RegExp]",oN="[object Set]",aN="[object String]",lN="[object Symbol]",cN="[object ArrayBuffer]",uN="[object DataView]",dN="[object Float32Array]",hN="[object Float64Array]",fN="[object Int8Array]",mN="[object Int16Array]",gN="[object Int32Array]",pN="[object Uint8Array]",_N="[object Uint8ClampedArray]",vN="[object Uint16Array]",wN="[object Uint32Array]";function bN(i,e,t){var n=i.constructor;switch(e){case cN:return Xg(i);case tN:case nN:return new n(+i);case uN:return X7(i,t);case dN:case hN:case fN:case mN:case gN:case pN:case _N:case vN:case wN:return Zy(i,t);case iN:return new n;case rN:case aN:return new n(i);case sN:return Q7(i);case oN:return new n;case lN:return eN(i)}}function Qy(i){return typeof i.constructor=="function"&&!Wg(i)?z4(Yg(i)):{}}var yN="[object Map]";function EN(i){return Ii(i)&&bl(i)==yN}var bw=Fo&&Fo.isMap,CN=bw?jg(bw):EN;const SN=CN;var TN="[object Set]";function xN(i){return Ii(i)&&bl(i)==TN}var yw=Fo&&Fo.isSet,kN=yw?jg(yw):xN;const AN=kN;var PN=1,IN=2,RN=4,eE="[object Arguments]",ON="[object Array]",MN="[object Boolean]",NN="[object Date]",DN="[object Error]",tE="[object Function]",BN="[object GeneratorFunction]",VN="[object Map]",LN="[object Number]",nE="[object Object]",FN="[object RegExp]",$N="[object Set]",zN="[object String]",WN="[object Symbol]",jN="[object WeakMap]",UN="[object ArrayBuffer]",HN="[object DataView]",qN="[object Float32Array]",KN="[object Float64Array]",GN="[object Int8Array]",YN="[object Int16Array]",JN="[object Int32Array]",XN="[object Uint8Array]",ZN="[object Uint8ClampedArray]",QN="[object Uint16Array]",eD="[object Uint32Array]",It={};It[eE]=It[ON]=It[UN]=It[HN]=It[MN]=It[NN]=It[qN]=It[KN]=It[GN]=It[YN]=It[JN]=It[VN]=It[LN]=It[nE]=It[FN]=It[$N]=It[zN]=It[WN]=It[XN]=It[ZN]=It[QN]=It[eD]=!0;It[DN]=It[tE]=It[jN]=!1;function Bo(i,e,t,n,r,s){var o,l=e&PN,u=e&IN,h=e&RN;if(t&&(o=r?t(i,n,r,s):t(i)),o!==void 0)return o;if(!Ft(i))return i;var f=zn(i);if(f){if(o=Y7(i),!l)return xy(i,o)}else{var m=bl(i),v=m==tE||m==BN;if(_l(i))return Gy(i,l);if(m==nE||m==eE||v&&!r){if(o=u||v?{}:Qy(i),!l)return u?B7(i,k7(o,i)):M7(i,x7(o,i))}else{if(!It[m])return r?i:{};o=bN(i,m,l)}}s||(s=new rr);var C=s.get(i);if(C)return C;s.set(i,o),AN(i)?i.forEach(function(x){o.add(Bo(x,e,t,x,i,s))}):SN(i)&&i.forEach(function(x,N){o.set(N,Bo(x,e,t,N,i,s))});var k=h?u?V7:Zm:u?Zo:Hg,S=f?void 0:k(i);return Q4(S||i,function(x,N){S&&(N=x,x=i[N]),zg(o,N,Bo(x,e,t,N,i,s))}),o}var tD=4;function iE(i){return Bo(i,tD)}var nD=1,iD=4;function js(i){return Bo(i,nD|iD)}var rD=1,sD=4;function Zg(i,e){return e=typeof e=="function"?e:void 0,Bo(i,rD|sD,e)}var oD="__lodash_hash_undefined__";function aD(i){return this.__data__.set(i,oD),this}function lD(i){return this.__data__.has(i)}function Sd(i){var e=-1,t=i==null?0:i.length;for(this.__data__=new Nr;++e<t;)this.add(i[e])}Sd.prototype.add=Sd.prototype.push=aD;Sd.prototype.has=lD;function cD(i,e){for(var t=-1,n=i==null?0:i.length;++t<n;)if(e(i[t],t,i))return!0;return!1}function uD(i,e){return i.has(e)}var dD=1,hD=2;function rE(i,e,t,n,r,s){var o=t&dD,l=i.length,u=e.length;if(l!=u&&!(o&&u>l))return!1;var h=s.get(i),f=s.get(e);if(h&&f)return h==e&&f==i;var m=-1,v=!0,C=t&hD?new Sd:void 0;for(s.set(i,e),s.set(e,i);++m<l;){var k=i[m],S=e[m];if(n)var x=o?n(S,k,m,e,i,s):n(k,S,m,i,e,s);if(x!==void 0){if(x)continue;v=!1;break}if(C){if(!cD(e,function(N,y){if(!uD(C,y)&&(k===N||r(k,N,t,n,s)))return C.push(y)})){v=!1;break}}else if(!(k===S||r(k,S,t,n,s))){v=!1;break}}return s.delete(i),s.delete(e),v}function fD(i){var e=-1,t=Array(i.size);return i.forEach(function(n,r){t[++e]=[r,n]}),t}function mD(i){var e=-1,t=Array(i.size);return i.forEach(function(n){t[++e]=n}),t}var gD=1,pD=2,_D="[object Boolean]",vD="[object Date]",wD="[object Error]",bD="[object Map]",yD="[object Number]",ED="[object RegExp]",CD="[object Set]",SD="[object String]",TD="[object Symbol]",xD="[object ArrayBuffer]",kD="[object DataView]",Ew=lr?lr.prototype:void 0,fm=Ew?Ew.valueOf:void 0;function AD(i,e,t,n,r,s,o){switch(t){case kD:if(i.byteLength!=e.byteLength||i.byteOffset!=e.byteOffset)return!1;i=i.buffer,e=e.buffer;case xD:return!(i.byteLength!=e.byteLength||!s(new Cd(i),new Cd(e)));case _D:case vD:case yD:return Fl(+i,+e);case wD:return i.name==e.name&&i.message==e.message;case ED:case SD:return i==e+"";case bD:var l=fD;case CD:var u=n&gD;if(l||(l=mD),i.size!=e.size&&!u)return!1;var h=o.get(i);if(h)return h==e;n|=pD,o.set(i,e);var f=rE(l(i),l(e),n,r,s,o);return o.delete(i),f;case TD:if(fm)return fm.call(i)==fm.call(e)}return!1}var PD=1,ID=Object.prototype,RD=ID.hasOwnProperty;function OD(i,e,t,n,r,s){var o=t&PD,l=Zm(i),u=l.length,h=Zm(e),f=h.length;if(u!=f&&!o)return!1;for(var m=u;m--;){var v=l[m];if(!(o?v in e:RD.call(e,v)))return!1}var C=s.get(i),k=s.get(e);if(C&&k)return C==e&&k==i;var S=!0;s.set(i,e),s.set(e,i);for(var x=o;++m<u;){v=l[m];var N=i[v],y=e[v];if(n)var A=o?n(y,N,v,e,i,s):n(N,y,v,i,e,s);if(!(A===void 0?N===y||r(N,y,t,n,s):A)){S=!1;break}x||(x=v=="constructor")}if(S&&!x){var P=i.constructor,E=e.constructor;P!=E&&"constructor"in i&&"constructor"in e&&!(typeof P=="function"&&P instanceof P&&typeof E=="function"&&E instanceof E)&&(S=!1)}return s.delete(i),s.delete(e),S}var MD=1,Cw="[object Arguments]",Sw="[object Array]",Vu="[object Object]",ND=Object.prototype,Tw=ND.hasOwnProperty;function DD(i,e,t,n,r,s){var o=zn(i),l=zn(e),u=o?Sw:bl(i),h=l?Sw:bl(e);u=u==Cw?Vu:u,h=h==Cw?Vu:h;var f=u==Vu,m=h==Vu,v=u==h;if(v&&_l(i)){if(!_l(e))return!1;o=!0,f=!1}if(v&&!f)return s||(s=new rr),o||Ug(i)?rE(i,e,t,n,r,s):AD(i,e,u,t,n,r,s);if(!(t&MD)){var C=f&&Tw.call(i,"__wrapped__"),k=m&&Tw.call(e,"__wrapped__");if(C||k){var S=C?i.value():i,x=k?e.value():e;return s||(s=new rr),r(S,x,t,n,s)}}return v?(s||(s=new rr),OD(i,e,t,n,r,s)):!1}function Qg(i,e,t,n,r){return i===e?!0:i==null||e==null||!Ii(i)&&!Ii(e)?i!==i&&e!==e:DD(i,e,t,n,Qg,r)}function BD(i){return function(e,t,n){for(var r=-1,s=Object(e),o=n(e),l=o.length;l--;){var u=o[i?l:++r];if(t(s[u],u,s)===!1)break}return e}}var VD=BD();const LD=VD;var FD=function(){return ji.Date.now()};const mm=FD;var $D="Expected a function",zD=Math.max,WD=Math.min;function $o(i,e,t){var n,r,s,o,l,u,h=0,f=!1,m=!1,v=!0;if(typeof i!="function")throw new TypeError($D);e=tw(e)||0,Ft(t)&&(f=!!t.leading,m="maxWait"in t,s=m?zD(tw(t.maxWait)||0,e):s,v="trailing"in t?!!t.trailing:v);function C(V){var j=n,U=r;return n=r=void 0,h=V,o=i.apply(U,j),o}function k(V){return h=V,l=setTimeout(N,e),f?C(V):o}function S(V){var j=V-u,U=V-h,$=e-j;return m?WD($,s-U):$}function x(V){var j=V-u,U=V-h;return u===void 0||j>=e||j<0||m&&U>=s}function N(){var V=mm();if(x(V))return y(V);l=setTimeout(N,S(V))}function y(V){return l=void 0,v&&n?C(V):(n=r=void 0,o)}function A(){l!==void 0&&clearTimeout(l),h=0,n=u=r=l=void 0}function P(){return l===void 0?o:y(mm())}function E(){var V=mm(),j=x(V);if(n=arguments,r=this,u=V,j){if(l===void 0)return k(u);if(m)return clearTimeout(l),l=setTimeout(N,e),C(u)}return l===void 0&&(l=setTimeout(N,e)),o}return E.cancel=A,E.flush=P,E}function ng(i,e,t){(t!==void 0&&!Fl(i[e],t)||t===void 0&&!(e in i))&&$g(i,e,t)}function jD(i){return Ii(i)&&th(i)}function ig(i,e){if(!(e==="constructor"&&typeof i[e]=="function")&&e!="__proto__")return i[e]}function UD(i){return Xo(i,Zo(i))}function HD(i,e,t,n,r,s,o){var l=ig(i,t),u=ig(e,t),h=o.get(u);if(h){ng(i,t,h);return}var f=s?s(l,u,t+"",i,e,o):void 0,m=f===void 0;if(m){var v=zn(u),C=!v&&_l(u),k=!v&&!C&&Ug(u);f=u,v||C||k?zn(l)?f=l:jD(l)?f=xy(l):C?(m=!1,f=Gy(u,!0)):k?(m=!1,f=Zy(u,!0)):f=[]:di(u)||Ym(u)?(f=l,Ym(l)?f=UD(l):(!Ft(l)||Ls(l))&&(f=Qy(u))):m=!1}m&&(o.set(u,f),r(f,u,n,s,o),o.delete(u)),ng(i,t,f)}function sE(i,e,t,n,r){i!==e&&LD(e,function(s,o){if(r||(r=new rr),Ft(s))HD(i,e,o,t,sE,n,r);else{var l=n?n(ig(i,o),s,o+"",i,e,r):void 0;l===void 0&&(l=s),ng(i,o,l)}},Zo)}function qD(i){var e=i==null?0:i.length;return e?i[e-1]:void 0}var KD="[object String]";function xw(i){return typeof i=="string"||!zn(i)&&Ii(i)&&os(i)==KD}function GD(i,e){return e.length<2?i:By(i,Fy(e,0,-1))}function Dr(i){return Ii(i)&&i.nodeType===1&&!di(i)}function kw(i,e){return Qg(i,e)}function YD(i,e,t){t=typeof t=="function"?t:void 0;var n=t?t(i,e):void 0;return n===void 0?Qg(i,e,void 0,t):!!n}var JD=Ay(function(i,e,t){sE(i,e,t)});const oE=JD;function XD(i,e){return e=Kg(e,i),i=GD(i,e),i==null||delete i[Gg(qD(e))]}function ZD(i,e,t,n){if(!Ft(i))return i;e=Kg(e,i);for(var r=-1,s=e.length,o=s-1,l=i;l!=null&&++r<s;){var u=Gg(e[r]),h=t;if(u==="__proto__"||u==="constructor"||u==="prototype")return i;if(r!=o){var f=l[u];h=n?n(f,u,l):void 0,h===void 0&&(h=Ft(f)?f:Fg(e[r+1])?[]:{})}zg(l,u,h),l=l[u]}return i}function QD(i,e,t){return i==null?i:ZD(i,e,t)}var eB="Expected a function";function ep(i,e,t){var n=!0,r=!0;if(typeof i!="function")throw new TypeError(eB);return Ft(t)&&(n="leading"in t?!!t.leading:n,r="trailing"in t?!!t.trailing:r),$o(i,e,{leading:n,maxWait:e,trailing:r})}function tB(i,e){return i==null?!0:XD(i,e)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Td=Symbol("observableProperties"),rh=Symbol("boundObservables"),xd=Symbol("boundProperties"),To=Symbol("decoratedMethods"),Aw=Symbol("decoratedOriginal"),aE=Dt(kt());function Dt(i){if(!i)return aE;class e extends i{set(n,r){if(Ft(n)){Object.keys(n).forEach(o=>{this.set(o,n[o])},this);return}gm(this);const s=this[Td];if(n in this&&!s.has(n))throw new B("observable-set-cannot-override",this);Object.defineProperty(this,n,{enumerable:!0,configurable:!0,get(){return s.get(n)},set(o){const l=s.get(n);let u=this.fire(`set:${n}`,n,o,l);u===void 0&&(u=o),(l!==u||!s.has(n))&&(s.set(n,u),this.fire(`change:${n}`,n,u,l))}}),this[n]=r}bind(...n){if(!n.length||!Pw(n))throw new B("observable-bind-wrong-properties",this);if(new Set(n).size!==n.length)throw new B("observable-bind-duplicate-properties",this);gm(this);const r=this[xd];n.forEach(o=>{if(r.has(o))throw new B("observable-bind-rebind",this)});const s=new Map;return n.forEach(o=>{const l={property:o,to:[]};r.set(o,l),s.set(o,l)}),{to:nB,toMany:iB,_observable:this,_bindProperties:n,_to:[],_bindings:s}}unbind(...n){if(!this[Td])return;const r=this[xd],s=this[rh];if(n.length){if(!Pw(n))throw new B("observable-unbind-wrong-properties",this);n.forEach(o=>{const l=r.get(o);l&&(l.to.forEach(([u,h])=>{const f=s.get(u),m=f[h];m.delete(l),m.size||delete f[h],Object.keys(f).length||(s.delete(u),this.stopListening(u,"change"))}),r.delete(o))})}else s.forEach((o,l)=>{this.stopListening(l,"change")}),s.clear(),r.clear()}decorate(n){gm(this);const r=this[n];if(!r)throw new B("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:n});this.on(n,(s,o)=>{s.return=r.apply(this,o)}),this[n]=function(...s){return this.fire(n,s)},this[n][Aw]=r,this[To]||(this[To]=[]),this[To].push(n)}stopListening(n,r,s){if(!n&&this[To]){for(const o of this[To])this[o]=this[o][Aw];delete this[To]}super.stopListening(n,r,s)}}return e}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(i=>{Dt[i]=aE.prototype[i]});function gm(i){i[Td]||(Object.defineProperty(i,Td,{value:new Map}),Object.defineProperty(i,rh,{value:new Map}),Object.defineProperty(i,xd,{value:new Map}))}function nB(...i){const e=sB(...i),t=Array.from(this._bindings.keys()),n=t.length;if(!e.callback&&e.to.length>1)throw new B("observable-bind-to-no-callback",this);if(n>1&&e.callback)throw new B("observable-bind-to-extra-callback",this);e.to.forEach(r=>{if(r.properties.length&&r.properties.length!==n)throw new B("observable-bind-to-properties-length",this);r.properties.length||(r.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(t[0]).callback=e.callback),lB(this._observable,this._to),aB(this),this._bindProperties.forEach(r=>{lE(this._observable,r)})}function iB(i,e,t){if(this._bindings.size>1)throw new B("observable-bind-to-many-not-one-binding",this);this.to(...rB(i,e),t)}function rB(i,e){const t=i.map(n=>[n,e]);return Array.prototype.concat.apply([],t)}function Pw(i){return i.every(e=>typeof e=="string")}function sB(...i){if(!i.length)throw new B("observable-bind-to-parse-error",null);const e={to:[]};let t;return typeof i[i.length-1]=="function"&&(e.callback=i.pop()),i.forEach(n=>{if(typeof n=="string")t.properties.push(n);else if(typeof n=="object")t={observable:n,properties:[]},e.to.push(t);else throw new B("observable-bind-to-parse-error",null)}),e}function oB(i,e,t,n){const r=i[rh],s=r.get(t),o=s||{};o[n]||(o[n]=new Set),o[n].add(e),s||r.set(t,o)}function aB(i){let e;i._bindings.forEach((t,n)=>{i._to.forEach(r=>{e=r.properties[t.callback?0:i._bindProperties.indexOf(n)],t.to.push([r.observable,e]),oB(i._observable,t,r.observable,e)})})}function lE(i,e){const n=i[xd].get(e);let r;n.callback?r=n.callback.apply(i,n.to.map(s=>s[0][s[1]])):(r=n.to[0],r=r[0][r[1]]),Object.prototype.hasOwnProperty.call(i,e)?i[e]=r:i.set(e,r)}function lB(i,e){e.forEach(t=>{const n=i[rh];let r;n.get(t.observable)||i.listenTo(t.observable,"change",(s,o)=>{r=n.get(t.observable)[o],r&&r.forEach(l=>{lE(i,l.property)})})})}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class cB{constructor(){this._replacedElements=[]}replace(e,t){this._replacedElements.push({element:e,newElement:t}),e.style.display="none",t&&e.parentNode.insertBefore(t,e.nextSibling)}restore(){this._replacedElements.forEach(({element:e,newElement:t})=>{e.style.display="",t&&t.remove()}),this._replacedElements=[]}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function rg(i){let e=0;for(const t of i)e++;return e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Rn(i,e){const t=Math.min(i.length,e.length);for(let n=0;n<t;n++)if(i[n]!=e[n])return n;return i.length==e.length?"same":i.length<e.length?"prefix":"extension"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function hi(i){return!!(i&&i[Symbol.iterator])}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function uB(i,e,t={},n=[]){const r=t&&t.xmlns,s=r?i.createElementNS(r,e):i.createElement(e);for(const o in t)s.setAttribute(o,t[o]);(xw(n)||!hi(n))&&(n=[n]);for(let o of n)xw(o)&&(o=i.createTextNode(o)),s.appendChild(o);return s}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class cE{constructor(e,t){this._config={},t&&this.define(Iw(t)),e&&this._setObjectToTarget(this._config,e)}set(e,t){this._setToTarget(this._config,e,t)}define(e,t){this._setToTarget(this._config,e,t,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,t,n,r=!1){if(di(t)){this._setObjectToTarget(e,t,r);return}const s=t.split(".");t=s.pop();for(const o of s)di(e[o])||(e[o]={}),e=e[o];if(di(n)){di(e[t])||(e[t]={}),e=e[t],this._setObjectToTarget(e,n,r);return}r&&typeof e[t]<"u"||(e[t]=n)}_getFromSource(e,t){const n=t.split(".");t=n.pop();for(const r of n){if(!di(e[r])){e=null;break}e=e[r]}return e?Iw(e[t]):void 0}_setObjectToTarget(e,t,n){Object.keys(t).forEach(r=>{this._setToTarget(e,r,t[r],n)})}}function Iw(i){return Zg(i,dB)}function dB(i){return Dr(i)?i:void 0}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ns(i){if(i){if(i.defaultView)return i instanceof i.defaultView.Document;if(i.ownerDocument&&i.ownerDocument.defaultView)return i instanceof i.ownerDocument.defaultView.Node}return!1}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function kd(i){const e=Object.prototype.toString.apply(i);return e=="[object Window]"||e=="[object global]"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const uE=as(kt());function as(i){if(!i)return uE;class e extends i{listenTo(n,r,s,o={}){if(ns(n)||kd(n)){const l={capture:!!o.useCapture,passive:!!o.usePassive},u=this._getProxyEmitter(n,l)||new hB(n,l);this.listenTo(u,r,s,o)}else super.listenTo(n,r,s,o)}stopListening(n,r,s){if(ns(n)||kd(n)){const o=this._getAllProxyEmitters(n);for(const l of o)this.stopListening(l,r,s)}else super.stopListening(n,r,s)}_getProxyEmitter(n,r){return G3(this,dE(n,r))}_getAllProxyEmitters(n){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(r=>this._getProxyEmitter(n,r)).filter(r=>!!r)}}return e}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(i=>{as[i]=uE.prototype[i]});class hB extends kt(){constructor(e,t){super(),by(this,dE(e,t)),this._domNode=e,this._options=t}attach(e){if(this._domListeners&&this._domListeners[e])return;const t=this._createDomListener(e);this._domNode.addEventListener(e,t,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=t}detach(e){let t;this._domListeners[e]&&(!(t=this._events[e])||!t.callbacks.length)&&this._domListeners[e].removeListener()}_addEventListener(e,t,n){this.attach(e),kt().prototype._addEventListener.call(this,e,t,n)}_removeEventListener(e,t){kt().prototype._removeEventListener.call(this,e,t),this.detach(e)}_createDomListener(e){const t=n=>{this.fire(e,n)};return t.removeListener=()=>{this._domNode.removeEventListener(e,t,this._options),delete this._domListeners[e]},t}}function fB(i){return i["data-ck-expando"]||(i["data-ck-expando"]=Rr())}function dE(i,e){let t=fB(i);for(const n of Object.keys(e).sort())e[n]&&(t+="-"+n);return t}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let sg;try{sg={window,document}}catch{/* istanbul ignore next -- @preserve */sg={window:{},document:{}}}const Ke=sg;/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function hE(i){const e=[];let t=i;for(;t&&t.nodeType!=Node.DOCUMENT_NODE;)e.unshift(t),t=t.parentNode;return e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function sh(i){return i instanceof HTMLTextAreaElement?i.value:i.innerHTML}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Kt(i){return Object.prototype.toString.call(i)=="[object Text]"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function oh(i){return Object.prototype.toString.apply(i)=="[object Range]"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function fE(i){const e=i.ownerDocument.defaultView.getComputedStyle(i);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const mE=["top","right","bottom","left","width","height"];class pt{constructor(e){const t=oh(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),gE(e)||t)if(t){const n=pt.getDomRangeRects(e);Lu(this,pt.getBoundingRect(n))}else Lu(this,e.getBoundingClientRect());else if(kd(e)){const{innerWidth:n,innerHeight:r}=e;Lu(this,{top:0,right:n,bottom:r,left:0,width:n,height:r})}else Lu(this,e)}clone(){return new pt(this)}moveTo(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}moveBy(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}getIntersection(e){const t={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};return t.width=t.right-t.left,t.height=t.bottom-t.top,t.width<0||t.height<0?null:new pt(t)}getIntersectionArea(e){const t=this.getIntersection(e);return t?t.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let t=this.clone();if(!Rw(e)){let n=e.parentNode||e.commonAncestorContainer;for(;n&&!Rw(n);){const r=new pt(n),s=t.getIntersection(r);if(s)s.getArea()<t.getArea()&&(t=s);else return null;n=n.parentNode}}return t}isEqual(e){for(const t of mE)if(this[t]!==e[t])return!1;return!0}contains(e){const t=this.getIntersection(e);return!!(t&&t.isEqual(e))}excludeScrollbarsAndBorders(){const e=this._source;let t,n,r;if(kd(e))t=e.innerWidth-e.document.documentElement.clientWidth,n=e.innerHeight-e.document.documentElement.clientHeight,r=e.getComputedStyle(e.document.documentElement).direction;else{const s=fE(e);t=e.offsetWidth-e.clientWidth-s.left-s.right,n=e.offsetHeight-e.clientHeight-s.top-s.bottom,r=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=s.left,this.top+=s.top,this.right-=s.right,this.bottom-=s.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=t,r==="ltr"?this.right-=t:this.left+=t,this.height-=n,this.bottom-=n,this}static getDomRangeRects(e){const t=[],n=Array.from(e.getClientRects());if(n.length)for(const r of n)t.push(new pt(r));else{let r=e.startContainer;Kt(r)&&(r=r.parentNode);const s=new pt(r.getBoundingClientRect());s.right=s.left,s.width=0,t.push(s)}return t}static getBoundingRect(e){const t={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let n=0;for(const r of e)n++,t.left=Math.min(t.left,r.left),t.top=Math.min(t.top,r.top),t.right=Math.max(t.right,r.right),t.bottom=Math.max(t.bottom,r.bottom);return n==0?null:(t.width=t.right-t.left,t.height=t.bottom-t.top,new pt(t))}}function Lu(i,e){for(const t of mE)i[t]=e[t]}function Rw(i){return gE(i)?i===i.ownerDocument.body:!1}function gE(i){return i!==null&&typeof i=="object"&&i.nodeType===1&&typeof i.getBoundingClientRect=="function"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class xt{constructor(e,t){xt._observerInstance||xt._createObserver(),this._element=e,this._callback=t,xt._addElementCallback(e,t),xt._observerInstance.observe(e)}destroy(){xt._deleteElementCallback(this._element,this._callback)}static _addElementCallback(e,t){xt._elementCallbacks||(xt._elementCallbacks=new Map);let n=xt._elementCallbacks.get(e);n||(n=new Set,xt._elementCallbacks.set(e,n)),n.add(t)}static _deleteElementCallback(e,t){const n=xt._getElementCallbacks(e);n&&(n.delete(t),n.size||(xt._elementCallbacks.delete(e),xt._observerInstance.unobserve(e))),xt._elementCallbacks&&!xt._elementCallbacks.size&&(xt._observerInstance=null,xt._elementCallbacks=null)}static _getElementCallbacks(e){return xt._elementCallbacks?xt._elementCallbacks.get(e):null}static _createObserver(){xt._observerInstance=new Ke.window.ResizeObserver(e=>{for(const t of e){const n=xt._getElementCallbacks(t.target);if(n)for(const r of n)r(t)}})}}xt._observerInstance=null;xt._elementCallbacks=null;/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Ow(i,e){i instanceof HTMLTextAreaElement&&(i.value=e),i.innerHTML=e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function $l(i){return e=>e+i}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Fu(i){let e=0;for(;i.previousSibling;)i=i.previousSibling,e++;return e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function pE(i,e,t){i.insertBefore(t,i.childNodes[e]||null)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Mo(i){return i&&i.nodeType===Node.COMMENT_NODE}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function $s(i){return!!(i&&i.getClientRects&&i.getClientRects().length)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function mB(i){return!i||!i.parentNode||i.offsetParent===Ke.document.body?null:i.offsetParent}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function _E({element:i,target:e,positions:t,limiter:n,fitInViewport:r,viewportOffsetConfig:s}){Ls(e)&&(e=e()),Ls(n)&&(n=n());const o=mB(i),l=new pt(i),u=new pt(e);let h;const f=r&&gB(s)||null,m={targetRect:u,elementRect:l,positionedElementAncestor:o,viewportRect:f};if(!n&&!r)h=new og(t[0],m);else{const v=n&&new pt(n).getVisible();Object.assign(m,{limiterRect:v,viewportRect:f}),h=pB(t,m)||new og(t[0],m)}return h}function gB(i){i=Object.assign({top:0,bottom:0,left:0,right:0},i);const e=new pt(Ke.window);return e.top+=i.top,e.height-=i.top,e.bottom-=i.bottom,e.height-=i.bottom,e}function pB(i,e){const{elementRect:t}=e,n=t.getArea(),r=i.map(l=>new og(l,e)).filter(l=>!!l.name);let s=0,o=null;for(const l of r){const{limiterIntersectionArea:u,viewportIntersectionArea:h}=l;if(u===n)return l;const f=h**2+u**2;f>s&&(s=f,o=l)}return o}function _B(i,e){const t=vE(new pt(e)),n=fE(e);let r=0,s=0;r-=t.left,s-=t.top,r+=e.scrollLeft,s+=e.scrollTop,r-=n.left,s-=n.top,i.moveBy(r,s)}function vE(i){const{scrollX:e,scrollY:t}=Ke.window;return i.clone().moveBy(e,t)}class og{constructor(e,t){const n=e(t.targetRect,t.elementRect,t.viewportRect);if(!n)return;const{left:r,top:s,name:o,config:l}=n;this.name=o,this.config=l,this._positioningFunctionCorrdinates={left:r,top:s},this._options=t}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;if(e){const t=this._options.viewportRect;if(t){const n=e.getIntersection(t);if(n)return n.getIntersectionArea(this._rect)}else return e.getIntersectionArea(this._rect)}return 0}get viewportIntersectionArea(){const e=this._options.viewportRect;return e?e.getIntersectionArea(this._rect):0}get _rect(){return this._cachedRect?this._cachedRect:(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCorrdinates.left,this._positioningFunctionCorrdinates.top),this._cachedRect)}get _absoluteRect(){return this._cachedAbsoluteRect?this._cachedAbsoluteRect:(this._cachedAbsoluteRect=vE(this._rect),this._options.positionedElementAncestor&&_B(this._cachedAbsoluteRect,this._options.positionedElementAncestor),this._cachedAbsoluteRect)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Mw(i){const e=i.parentNode;e&&e.removeChild(i)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function vB({target:i,viewportOffset:e=0,ancestorOffset:t=0,alignToTop:n,forceScroll:r}){const s=tp(i);let o=s,l=null;for(;o;){let u;o==s?u=Nw(i):u=Nw(l),bB({parent:u,getRect:()=>Dw(i,o),alignToTop:n,ancestorOffset:t,forceScroll:r});const h=Dw(i,o);if(wB({window:o,rect:h,viewportOffset:e,alignToTop:n,forceScroll:r}),o.parent!=o){if(l=o.frameElement,o=o.parent,!l)return}else o=null}}function wB({window:i,rect:e,alignToTop:t,forceScroll:n,viewportOffset:r}){const s=e.clone().moveBy(0,r),o=e.clone().moveBy(0,-r),l=new pt(i).excludeScrollbarsAndBorders(),u=[o,s],h=t&&n,f=u.every(S=>l.contains(S));let{scrollX:m,scrollY:v}=i;const C=m,k=v;h?v-=l.top-e.top+r:f||(bE(o,l)?v-=l.top-e.top+r:wE(s,l)&&(t?v+=e.top-l.top-r:v+=e.bottom-l.bottom+r)),f||(yE(e,l)?m-=l.left-e.left+r:EE(e,l)&&(m+=e.right-l.right+r)),(m!=C||v!==k)&&i.scrollTo(m,v)}function bB({parent:i,getRect:e,alignToTop:t,forceScroll:n,ancestorOffset:r=0}){const s=tp(i),o=t&&n;let l,u,h;for(;i!=s.document.body;)u=e(),l=new pt(i).excludeScrollbarsAndBorders(),h=l.contains(u),o?i.scrollTop-=l.top-u.top+r:h||(bE(u,l)?i.scrollTop-=l.top-u.top+r:wE(u,l)&&(t?i.scrollTop+=u.top-l.top-r:i.scrollTop+=u.bottom-l.bottom+r)),h||(yE(u,l)?i.scrollLeft-=l.left-u.left+r:EE(u,l)&&(i.scrollLeft+=u.right-l.right+r)),i=i.parentNode}function wE(i,e){return i.bottom>e.bottom}function bE(i,e){return i.top<e.top}function yE(i,e){return i.left<e.left}function EE(i,e){return i.right>e.right}function tp(i){return oh(i)?i.startContainer.ownerDocument.defaultView:i.ownerDocument.defaultView}function Nw(i){if(oh(i)){let e=i.commonAncestorContainer;return Kt(e)&&(e=e.parentNode),e}else return i.parentNode}function Dw(i,e){const t=tp(i),n=new pt(i);if(t===e)return n;{let r=t;for(;r!=e;){const s=r.frameElement,o=new pt(s).excludeScrollbarsAndBorders();n.moveBy(o.left,o.top),r=r.parent}}return n}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const yB={ctrl:"⌃",cmd:"⌘",alt:"⌥",shift:"⇧"},EB={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},tt=kB(),CB=Object.fromEntries(Object.entries(tt).map(([i,e])=>[e,i.charAt(0).toUpperCase()+i.slice(1)]));function zo(i){let e;if(typeof i=="string"){if(e=tt[i.toLowerCase()],!e)throw new B("keyboard-unknown-key",null,{key:i})}else e=i.keyCode+(i.altKey?tt.alt:0)+(i.ctrlKey?tt.ctrl:0)+(i.shiftKey?tt.shift:0)+(i.metaKey?tt.cmd:0);return e}function np(i){return typeof i=="string"&&(i=AB(i)),i.map(e=>typeof e=="string"?TB(e):e).reduce((e,t)=>t+e,0)}function Bw(i){let e=np(i);return Object.entries(qe.isMac?yB:EB).reduce((r,[s,o])=>(e&tt[s]&&(e&=~tt[s],r+=o),r),"")+(e?CB[e]:"")}function SB(i){return i==tt.arrowright||i==tt.arrowleft||i==tt.arrowup||i==tt.arrowdown}function CE(i,e){const t=e==="ltr";switch(i){case tt.arrowleft:return t?"left":"right";case tt.arrowright:return t?"right":"left";case tt.arrowup:return"up";case tt.arrowdown:return"down"}}function TB(i){if(i.endsWith("!"))return zo(i.slice(0,-1));const e=zo(i);return qe.isMac&&e==tt.ctrl?tt.cmd:e}function xB(i,e){const t=CE(i,e);return t==="down"||t==="right"}function kB(){const i={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++){const t=String.fromCharCode(e);i[t.toLowerCase()]=e}for(let e=48;e<=57;e++)i[e-48]=e;for(let e=112;e<=123;e++)i["f"+(e-111)]=e;for(const e of"`-=[];',./\\")i[e]=e.charCodeAt(0);return i}function AB(i){return i.split("+").map(e=>e.trim())}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const PB=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function Vw(i){return PB.includes(i)?"rtl":"ltr"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function On(i){return Array.isArray(i)?i:[i]}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 *//* istanbul ignore else -- @preserve */Ke.window.CKEDITOR_TRANSLATIONS||(Ke.window.CKEDITOR_TRANSLATIONS={});function IB(i,e,t=1){if(typeof t!="number")throw new B("translation-service-quantity-not-a-number",null,{quantity:t});const n=OB();n===1&&(i=Object.keys(Ke.window.CKEDITOR_TRANSLATIONS)[0]);const r=e.id||e.string;if(n===0||!RB(i,r))return t!==1?e.plural:e.string;const s=Ke.window.CKEDITOR_TRANSLATIONS[i].dictionary,o=Ke.window.CKEDITOR_TRANSLATIONS[i].getPluralForm||(h=>h===1?0:1),l=s[r];if(typeof l=="string")return l;const u=Number(o(t));return l[u]}function RB(i,e){return!!Ke.window.CKEDITOR_TRANSLATIONS[i]&&!!Ke.window.CKEDITOR_TRANSLATIONS[i].dictionary[e]}function OB(){return Object.keys(Ke.window.CKEDITOR_TRANSLATIONS).length}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class MB{constructor({uiLanguage:e="en",contentLanguage:t}={}){this.uiLanguage=e,this.contentLanguage=t||this.uiLanguage,this.uiLanguageDirection=Vw(this.uiLanguage),this.contentLanguageDirection=Vw(this.contentLanguage),this.t=(n,r)=>this._t(n,r)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,t=[]){t=On(t),typeof e=="string"&&(e={string:e});const r=!!e.plural?t[0]:1,s=IB(this.uiLanguage,e,r);return NB(s,t)}}function NB(i,e){return i.replace(/%(\d+)/g,(t,n)=>n<e.length?e[n]:t)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Br extends kt(){constructor(e={},t={}){super();const n=hi(e);if(n||(t=e),this._items=[],this._itemMap=new Map,this._idProperty=t.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],n)for(const r of e)this._items.push(r),this._itemMap.set(this._getItemIdBeforeAdding(r),r)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,t){return this.addMany([e],t)}addMany(e,t){if(t===void 0)t=this._items.length;else if(t>this._items.length||t<0)throw new B("collection-add-item-invalid-index",this);let n=0;for(const r of e){const s=this._getItemIdBeforeAdding(r),o=t+n;this._items.splice(o,0,r),this._itemMap.set(s,r),this.fire("add",r,o),n++}return this.fire("change",{added:e,removed:[],index:t}),this}get(e){let t;if(typeof e=="string")t=this._itemMap.get(e);else if(typeof e=="number")t=this._items[e];else throw new B("collection-get-invalid-arg",this);return t||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const t=this._idProperty,n=e[t];return n&&this._itemMap.has(n)}}getIndex(e){let t;return typeof e=="string"?t=this._itemMap.get(e):t=e,t?this._items.indexOf(t):-1}remove(e){const[t,n]=this._remove(e);return this.fire("change",{added:[],removed:[t],index:n}),t}map(e,t){return this._items.map(e,t)}find(e,t){return this._items.find(e,t)}filter(e,t){return this._items.filter(e,t)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new B("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:t=>{this._setUpBindToBinding(n=>new t(n))},using:t=>{typeof t=="function"?this._setUpBindToBinding(t):this._setUpBindToBinding(n=>n[t])}}}_setUpBindToBinding(e){const t=this._bindToCollection,n=(r,s,o)=>{const l=t._bindToCollection==this,u=t._bindToInternalToExternalMap.get(s);if(l&&u)this._bindToExternalToInternalMap.set(s,u),this._bindToInternalToExternalMap.set(u,s);else{const h=e(s);if(!h){this._skippedIndexesFromExternal.push(o);return}let f=o;for(const m of this._skippedIndexesFromExternal)o>m&&f--;for(const m of t._skippedIndexesFromExternal)f>=m&&f++;this._bindToExternalToInternalMap.set(s,h),this._bindToInternalToExternalMap.set(h,s),this.add(h,f);for(let m=0;m<t._skippedIndexesFromExternal.length;m++)f<=t._skippedIndexesFromExternal[m]&&t._skippedIndexesFromExternal[m]++}};for(const r of t)n(null,r,t.getIndex(r));this.listenTo(t,"add",n),this.listenTo(t,"remove",(r,s,o)=>{const l=this._bindToExternalToInternalMap.get(s);l&&this.remove(l),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((u,h)=>(o<h&&u.push(h-1),o>h&&u.push(h),u),[])})}_getItemIdBeforeAdding(e){const t=this._idProperty;let n;if(t in e){if(n=e[t],typeof n!="string")throw new B("collection-add-invalid-id",this);if(this.get(n))throw new B("collection-add-item-already-exists",this)}else e[t]=n=Rr();return n}_remove(e){let t,n,r,s=!1;const o=this._idProperty;if(typeof e=="string"?(n=e,r=this._itemMap.get(n),s=!r,r&&(t=this._items.indexOf(r))):typeof e=="number"?(t=e,r=this._items[t],s=!r,r&&(n=r[o])):(r=e,n=r[o],t=this._items.indexOf(r),s=t==-1||!this._itemMap.get(n)),s)throw new B("collection-remove-404",this);this._items.splice(t,1),this._itemMap.delete(n);const l=this._bindToInternalToExternalMap.get(r);return this._bindToInternalToExternalMap.delete(r),this._bindToExternalToInternalMap.delete(l),this.fire("remove",r,t),[r,t]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Mn(i){const e=i.next();return e.done?null:e.value}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class fi extends as(Dt()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(e){if(this._elements.has(e))throw new B("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>this._focus(e),{useCapture:!0}),this.listenTo(e,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class cr{constructor(){this._listener=new(as())}listenTo(e){this._listener.listenTo(e,"keydown",(t,n)=>{this._listener.fire("_keydown:"+zo(n),n)})}set(e,t,n={}){const r=np(e),s=n.priority;this._listener.listenTo(this._listener,"_keydown:"+r,(o,l)=>{t(l,()=>{l.preventDefault(),l.stopPropagation(),o.stop()}),o.return=!0},{priority:s})}press(e){return!!this._listener.fire("_keydown:"+zo(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function DB(i){const e=new Map;for(const t in i)e.set(t,i[t]);return e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Or(i){return hi(i)?new Map(i):DB(i)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const BB=1e4;function VB(i,e,t,n){if(Math.max(e.length,i.length)>BB)return i.slice(0,t).concat(e).concat(i.slice(t+n,i.length));{const r=Array.from(i);return r.splice(t,n,...e),r}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function LB(i){return!!i&&i.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(i)}function FB(i){return!!i&&i.length==1&&/[\ud800-\udbff]/.test(i)}function $B(i){return!!i&&i.length==1&&/[\udc00-\udfff]/.test(i)}function ip(i,e){return FB(i.charAt(e-1))&&$B(i.charAt(e))}function rp(i,e){return LB(i.charAt(e))}const zB=WB();function SE(i,e){const t=String(i).matchAll(zB);return Array.from(t).some(n=>n.index<e&&e<n.index+n[0].length)}function WB(){const i=[/\p{Emoji}[\u{E0020}-\u{E007E}]+\u{E007F}/u,/\p{Emoji}\u{FE0F}?\u{20E3}/u,/\p{Emoji}\u{FE0F}/u,/(?=\p{General_Category=Other_Symbol})\p{Emoji}\p{Emoji_Modifier}*/u],e=/\p{Regional_Indicator}{2}/u.source,t="(?:"+i.map(r=>r.source).join("|")+")",n=`${e}|${t}(?:‍${t})*`;return new RegExp(n,"ug")}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class fe extends Dt(){constructor(e){super(),this._disableStack=new Set,this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",Lw,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",Lw),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function Lw(i){i.return=!1,i.stop()}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Pt extends Dt(){constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.on("execute",t=>{this.isEnabled||t.stop()},{priority:"high"}),this.listenTo(e,"change:isReadOnly",(t,n,r)=>{r&&this.affectsData?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",Fw,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",Fw),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function Fw(i){i.return=!1,i.stop()}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class TE extends kt(){constructor(e,t=[],n=[]){super(),this._plugins=new Map,this._context=e,this._availablePlugins=new Map;for(const r of t)r.pluginName&&this._availablePlugins.set(r.pluginName,r);this._contextPlugins=new Map;for(const[r,s]of n)this._contextPlugins.set(r,s),this._contextPlugins.set(s,r),r.pluginName&&this._availablePlugins.set(r.pluginName,r)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const t=this._plugins.get(e);if(!t){let n=e;throw typeof e=="function"&&(n=e.pluginName||e.name),new B("plugincollection-plugin-not-loaded",this._context,{plugin:n})}return t}has(e){return this._plugins.has(e)}init(e,t=[],n=[]){const r=this,s=this._context;C(e),S(e);const o=e.filter(V=>!m(V,t)),l=[...k(o)];E(l,n);const u=A(l);return P(u,"init").then(()=>P(u,"afterInit")).then(()=>u);function h(V){return typeof V=="function"}function f(V){return h(V)&&!!V.isContextPlugin}function m(V,j){return j.some(U=>U===V||v(V)===U||v(U)===V)}function v(V){return h(V)?V.pluginName||V.name:V}function C(V,j=new Set){V.forEach(U=>{h(U)&&(j.has(U)||(j.add(U),U.pluginName&&!r._availablePlugins.has(U.pluginName)&&r._availablePlugins.set(U.pluginName,U),U.requires&&C(U.requires,j)))})}function k(V,j=new Set){return V.map(U=>h(U)?U:r._availablePlugins.get(U)).reduce((U,$)=>j.has($)?U:(j.add($),$.requires&&(S($.requires,$),k($.requires,j).forEach(M=>U.add(M))),U.add($)),new Set)}function S(V,j=null){V.map(U=>h(U)?U:r._availablePlugins.get(U)||U).forEach(U=>{x(U,j),N(U,j),y(U,j)})}function x(V,j){if(!h(V))throw j?new B("plugincollection-soft-required",s,{missingPlugin:V,requiredBy:v(j)}):new B("plugincollection-plugin-not-found",s,{plugin:V})}function N(V,j){if(f(j)&&!f(V))throw new B("plugincollection-context-required",s,{plugin:v(V),requiredBy:v(j)})}function y(V,j){if(j&&m(V,t))throw new B("plugincollection-required",s,{plugin:v(V),requiredBy:v(j)})}function A(V){return V.map(j=>{let U=r._contextPlugins.get(j);return U=U||new j(s),r._add(j,U),U})}function P(V,j){return V.reduce((U,$)=>!$[j]||r._contextPlugins.has($)?U:U.then($[j].bind($)),Promise.resolve())}function E(V,j){for(const U of j){if(typeof U!="function")throw new B("plugincollection-replace-plugin-invalid-type",null,{pluginItem:U});const $=U.pluginName;if(!$)throw new B("plugincollection-replace-plugin-missing-name",null,{pluginItem:U});if(U.requires&&U.requires.length)throw new B("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:$});const M=r._availablePlugins.get($);if(!M)throw new B("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:$});const D=V.indexOf(M);if(D===-1){if(r._contextPlugins.has(M))return;throw new B("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:$})}if(M.requires&&M.requires.length)throw new B("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:$});V.splice(D,1,U),r._availablePlugins.set($,U)}}}destroy(){const e=[];for(const[,t]of this)typeof t.destroy=="function"&&!this._contextPlugins.has(t)&&e.push(t.destroy());return Promise.all(e)}_add(e,t){this._plugins.set(e,t);const n=e.pluginName;if(n){if(this._plugins.has(n))throw new B("plugincollection-plugin-name-conflict",null,{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:e});this._plugins.set(n,t)}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class zl{constructor(e){this._contextOwner=null,this.config=new cE(e,this.constructor.defaultConfig);const t=this.constructor.builtinPlugins;this.config.define("plugins",t),this.plugins=new TE(this,t);const n=this.config.get("language")||{};this.locale=new MB({uiLanguage:typeof n=="string"?n:n.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new Br}initPlugins(){const e=this.config.get("plugins")||[],t=this.config.get("substitutePlugins")||[];for(const n of e.concat(t)){if(typeof n!="function")throw new B("context-initplugins-constructor-only",null,{Plugin:n});if(n.isContextPlugin!==!0)throw new B("context-initplugins-invalid-plugin",null,{Plugin:n})}return this.plugins.init(e,[],t)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,t){if(this._contextOwner)throw new B("context-addeditor-private-context");this.editors.add(e),t&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const t of this.config.names())["plugins","removePlugins","extraPlugins"].includes(t)||(e[t]=this.config.get(t));return e}static create(e){return new Promise(t=>{const n=new this(e);t(n.initPlugins().then(()=>n))})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Xu=new WeakMap;function Wl({view:i,element:e,text:t,isDirectHost:n=!0,keepOnFocus:r=!1}){const s=i.document;Xu.has(s)||(Xu.set(s,new Map),s.registerPostFixer(o=>pm(s,o)),s.on("change:isComposing",()=>{i.change(o=>pm(s,o))},{priority:"high"})),Xu.get(s).set(e,{text:t,isDirectHost:n,keepOnFocus:r,hostElement:n?e:null}),i.change(o=>pm(s,o))}function jB(i,e){return e.hasClass("ck-placeholder")?!1:(i.addClass("ck-placeholder",e),!0)}function UB(i,e){return e.hasClass("ck-placeholder")?(i.removeClass("ck-placeholder",e),!0):!1}function HB(i,e){if(!i.isAttached()||Array.from(i.getChildren()).some(o=>!o.is("uiElement")))return!1;const n=i.document,s=n.selection.anchor;return n.isComposing&&s&&s.parent===i?!1:e||!n.isFocused?!0:!!s&&s.parent!==i}function pm(i,e){const t=Xu.get(i),n=[];let r=!1;for(const[s,o]of t)o.isDirectHost&&(n.push(s),$w(e,s,o)&&(r=!0));for(const[s,o]of t){if(o.isDirectHost)continue;const l=qB(s);l&&(n.includes(l)||(o.hostElement=l,$w(e,s,o)&&(r=!0)))}return r}function $w(i,e,t){const{text:n,isDirectHost:r,hostElement:s}=t;let o=!1;return s.getAttribute("data-placeholder")!==n&&(i.setAttribute("data-placeholder",n,s),o=!0),(r||e.childCount==1)&&HB(s,t.keepOnFocus)?jB(i,s)&&(o=!0):UB(i,s)&&(o=!0),o}function qB(i){if(i.childCount){const e=i.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Us=class{is(){throw new Error("is() method is abstract")}};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Hs=class extends kt(Us){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new B("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.index),t=t.parent;return e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}getCommonAncestor(e,t={}){const n=this.getAncestors(t),r=e.getAncestors(t);let s=0;for(;n[s]==r[s]&&n[s];)s++;return s===0?null:n[s-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),n=e.getPath(),r=Rn(t,n);switch(r){case"prefix":return!0;case"extension":return!1;default:return t[r]<n[r]}}isAfter(e){return this==e||this.root!==e.root?!1:!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,t){this.fire(`change:${e}`,t),this.parent&&this.parent._fireChange(e,t)}toJSON(){const e=iE(this);return delete e.parent,e}};Hs.prototype.is=function(i){return i==="node"||i==="view:node"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Vt=class ag extends Hs{constructor(e,t){super(e),this._textData=t}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof ag?this===e||this.data===e.data:!1}_clone(){return new ag(this.document,this.data)}};Vt.prototype.is=function(i){return i==="$text"||i==="view:$text"||i==="text"||i==="view:text"||i==="node"||i==="view:node"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let er=class extends Us{constructor(e,t,n){if(super(),this.textNode=e,t<0||t>e.data.length)throw new B("view-textproxy-wrong-offsetintext",this);if(n<0||t+n>e.data.length)throw new B("view-textproxy-wrong-length",this);this.data=e.data.substring(t,t+n),this.offsetInText=t}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const t=[];let n=e.includeSelf?this.textNode:this.parent;for(;n!==null;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}};er.prototype.is=function(i){return i==="$textProxy"||i==="view:$textProxy"||i==="textProxy"||i==="view:textProxy"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ah{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let t of e)(typeof t=="string"||t instanceof RegExp)&&(t={name:t}),this._patterns.push(t)}match(...e){for(const t of e)for(const n of this._patterns){const r=zw(t,n);if(r)return{element:t,pattern:n,match:r}}return null}matchAll(...e){const t=[];for(const n of e)for(const r of this._patterns){const s=zw(n,r);s&&t.push({element:n,pattern:r,match:s})}return t.length>0?t:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],t=e.name;return typeof e!="function"&&t&&!(t instanceof RegExp)?t:null}}function zw(i,e){if(typeof e=="function")return e(i);const t={};return e.name&&(t.name=KB(e.name,i.name),!t.name)||e.attributes&&(t.attributes=XB(e.attributes,i),!t.attributes)||e.classes&&(t.classes=ZB(e.classes,i),!t.classes)||e.styles&&(t.styles=QB(e.styles,i),!t.styles)?null:t}function KB(i,e){return i instanceof RegExp?!!e.match(i):i===e}function sp(i,e,t){const n=GB(i),r=Array.from(e),s=[];if(n.forEach(([o,l])=>{r.forEach(u=>{YB(o,u)&&JB(l,u,t)&&s.push(u)})}),!(!n.length||s.length<n.length))return s}function GB(i){return Array.isArray(i)?i.map(e=>di(e)?((e.key===void 0||e.value===void 0)&&Jt("matcher-pattern-missing-key-or-value",e),[e.key,e.value]):[e,!0]):di(i)?Object.entries(i):[[i,!0]]}function YB(i,e){return i===!0||i===e||i instanceof RegExp&&e.match(i)}function JB(i,e,t){if(i===!0)return!0;const n=t(e);return i===n||i instanceof RegExp&&!!String(n).match(i)}function XB(i,e){const t=new Set(e.getAttributeKeys());return di(i)?(i.style!==void 0&&Jt("matcher-pattern-deprecated-attributes-style-key",i),i.class!==void 0&&Jt("matcher-pattern-deprecated-attributes-class-key",i)):(t.delete("style"),t.delete("class")),sp(i,t,n=>e.getAttribute(n))}function ZB(i,e){return sp(i,e.getClassNames(),()=>{})}function QB(i,e){return sp(i,e.getStyleNames(!0),t=>e.getStyle(t))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class eV{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){const e=Object.entries(this._styles);return!Array.from(e).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const t=Array.from(nV(e).entries());for(const[n,r]of t)this._styleProcessor.toNormalizedForm(n,r,this._styles)}has(e){if(this.isEmpty)return!1;const n=this._styleProcessor.getReducedForm(e,this._styles).find(([r])=>r===e);return Array.isArray(n)}set(e,t){if(Ft(e))for(const[n,r]of Object.entries(e))this._styleProcessor.toNormalizedForm(n,r,this._styles);else this._styleProcessor.toNormalizedForm(e,t,this._styles)}remove(e){const t=lg(e);tB(this._styles,t),delete this._styles[e],this._cleanEmptyObjectsOnPath(t)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!Ft(this._styles[e]))return this._styles[e];const n=this._styleProcessor.getReducedForm(e,this._styles).find(([r])=>r===e);if(Array.isArray(n))return n[1]}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(([n])=>n)}clear(){this._styles={}}_getStylesEntries(){const e=[],t=Object.keys(this._styles);for(const n of t)e.push(...this._styleProcessor.getReducedForm(n,this._styles));return e}_cleanEmptyObjectsOnPath(e){const t=e.split(".");if(!(t.length>1))return;const r=t.splice(0,t.length-1).join("."),s=Ed(this._styles,r);if(!s)return;!Array.from(Object.keys(s)).length&&this.remove(r)}}class tV{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,t,n){if(Ft(t)){_m(n,lg(e),t);return}if(this._normalizers.has(e)){const r=this._normalizers.get(e),{path:s,value:o}=r(t);_m(n,s,o)}else _m(n,e,t)}getNormalized(e,t){if(!e)return oE({},t);if(t[e]!==void 0)return t[e];if(this._extractors.has(e)){const n=this._extractors.get(e);if(typeof n=="string")return Ed(t,n);const r=n(e,t);if(r)return r}return Ed(t,lg(e))}getReducedForm(e,t){const n=this.getNormalized(e,t);return n===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(n):[[e,n]]}getStyleNames(e){const t=Array.from(this._consumables.keys()).filter(r=>{const s=this.getNormalized(r,e);return s&&typeof s=="object"?Object.keys(s).length:s}),n=new Set([...t,...Object.keys(e)]);return Array.from(n.values())}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,t){this._normalizers.set(e,t)}setExtractor(e,t){this._extractors.set(e,t)}setReducer(e,t){this._reducers.set(e,t)}setStyleRelation(e,t){this._mapStyleNames(e,t);for(const n of t)this._mapStyleNames(n,[e])}_mapStyleNames(e,t){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...t)}}function nV(i){let e=null,t=0,n=0,r=null;const s=new Map;if(i==="")return s;i.charAt(i.length-1)!=";"&&(i=i+";");for(let o=0;o<i.length;o++){const l=i.charAt(o);if(e===null)switch(l){case":":r||(r=i.substr(t,o-t),n=o+1);break;case'"':case"'":e=l;break;case";":{const u=i.substr(n,o-n);r&&s.set(r.trim(),u.trim()),r=null,t=o+1;break}}else l===e&&(e=null)}return s}function lg(i){return i.replace("-",".")}function _m(i,e,t){let n=t;Ft(t)&&(n=oE({},Ed(i,e),t)),QD(i,e,n)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let $i=class xE extends Hs{constructor(e,t,n,r){if(super(e),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=t,this._attrs=iV(n),this._children=[],r&&this._insertChild(0,r),this._classes=new Set,this._attrs.has("class")){const s=this._attrs.get("class");Ww(this._classes,s),this._attrs.delete("class")}this._styles=new eV(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if(e=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(e=="style"){const t=this._styles.toString();return t==""?void 0:t}return this._attrs.get(e)}hasAttribute(e){return e=="class"?this._classes.size>0:e=="style"?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof xE))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[t,n]of this._attrs)if(!e._attrs.has(t)||e._attrs.get(t)!==n)return!1;for(const t of this._classes)if(!e._classes.has(t))return!1;for(const t of this._styles.getStyleNames())if(!e._styles.has(t)||e._styles.getAsString(t)!==this._styles.getAsString(t))return!1;return!0}hasClass(...e){for(const t of e)if(!this._classes.has(t))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const t of e)if(!this._styles.has(t))return!1;return!0}findAncestor(...e){const t=new ah(...e);let n=this.parent;for(;n&&!n.is("documentFragment");){if(t.match(n))return n;n=n.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),t=this._styles.toString(),n=Array.from(this._attrs).map(r=>`${r[0]}="${r[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(t?` style="${t}"`:"")+(n==""?"":` ${n}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const t=[];if(e)for(const r of this.getChildren())t.push(r._clone(e));const n=new this.constructor(this.document,this.name,this._attrs,t);return n._classes=new Set(this._classes),n._styles.set(this._styles.getNormalized()),n._customProperties=new Map(this._customProperties),n.getFillerOffset=this.getFillerOffset,n._unsafeAttributesToRender=this._unsafeAttributesToRender,n}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,t){this._fireChange("children",this);let n=0;const r=rV(this.document,t);for(const s of r)s.parent!==null&&s._remove(),s.parent=this,s.document=this.document,this._children.splice(e,0,s),e++,n++;return n}_removeChildren(e,t=1){this._fireChange("children",this);for(let n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}_setAttribute(e,t){const n=String(t);this._fireChange("attributes",this),e=="class"?Ww(this._classes,n):e=="style"?this._styles.setTo(n):this._attrs.set(e,n)}_removeAttribute(e){return this._fireChange("attributes",this),e=="class"?this._classes.size>0?(this._classes.clear(),!0):!1:e=="style"?this._styles.isEmpty?!1:(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const t of On(e))this._classes.add(t)}_removeClass(e){this._fireChange("attributes",this);for(const t of On(e))this._classes.delete(t)}_setStyle(e,t){this._fireChange("attributes",this),typeof e!="string"?this._styles.set(e):this._styles.set(e,t)}_removeStyle(e){this._fireChange("attributes",this);for(const t of On(e))this._styles.remove(t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}};$i.prototype.is=function(i,e){return e?e===this.name&&(i==="element"||i==="view:element"):i==="element"||i==="view:element"||i==="node"||i==="view:node"};function iV(i){const e=Or(i);for(const[t,n]of e)n===null?e.delete(t):typeof n!="string"&&e.set(t,String(n));return e}function Ww(i,e){const t=e.split(/\s+/);i.clear(),t.forEach(n=>i.add(n))}function rV(i,e){return typeof e=="string"?[new Vt(i,e)]:(hi(e)||(e=[e]),Array.from(e).map(t=>typeof t=="string"?new Vt(i,t):t instanceof er?new Vt(i,t.data):t))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class yl extends $i{constructor(e,t,n,r){super(e,t,n,r),this.getFillerOffset=kE}}yl.prototype.is=function(i,e){return e?e===this.name&&(i==="containerElement"||i==="view:containerElement"||i==="element"||i==="view:element"):i==="containerElement"||i==="view:containerElement"||i==="element"||i==="view:element"||i==="node"||i==="view:node"};function kE(){const i=[...this.getChildren()],e=i[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const t of i)if(!t.is("uiElement"))return null;return this.childCount}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class lh extends Dt(yl){constructor(e,t,n,r){super(e,t,n,r),this.set("isReadOnly",!1),this.set("isFocused",!1),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",s=>s&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}lh.prototype.is=function(i,e){return e?e===this.name&&(i==="editableElement"||i==="view:editableElement"||i==="containerElement"||i==="view:containerElement"||i==="element"||i==="view:element"):i==="editableElement"||i==="view:editableElement"||i==="containerElement"||i==="view:containerElement"||i==="element"||i==="view:element"||i==="node"||i==="view:node"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const jw=Symbol("rootName");class AE extends lh{constructor(e,t){super(e,t),this.rootName="main"}get rootName(){return this.getCustomProperty(jw)}set rootName(e){this._setCustomProperty(jw,e)}set _name(e){this.name=e}}AE.prototype.is=function(i,e){return e?e===this.name&&(i==="rootElement"||i==="view:rootElement"||i==="editableElement"||i==="view:editableElement"||i==="containerElement"||i==="view:containerElement"||i==="element"||i==="view:element"):i==="rootElement"||i==="view:rootElement"||i==="editableElement"||i==="view:editableElement"||i==="containerElement"||i==="view:containerElement"||i==="element"||i==="view:element"||i==="node"||i==="view:node"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Is=class{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new B("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new B("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=_e._createAt(e.startPosition):this._position=_e._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,n;do n=this.position,t=this.next();while(!t.done&&e(t.value));t.done||(this._position=n)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const t=this.position,n=e.parent;if(n.parent===null&&e.offset===n.childCount)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let r;if(n instanceof Vt){if(e.isAtEnd)return this._position=_e._createAfter(n),this._next();r=n.data[e.offset]}else r=n.getChild(e.offset);if(r instanceof $i)return this.shallow?e.offset++:e=new _e(r,0),this._position=e,this._formatReturnValue("elementStart",r,t,e,1);if(r instanceof Vt){if(this.singleCharacters)return e=new _e(r,0),this._position=e,this._next();{let s=r.data.length,o;return r==this._boundaryEndParent?(s=this.boundaries.end.offset,o=new er(r,0,s),e=_e._createAfter(o)):(o=new er(r,0,r.data.length),e.offset++),this._position=e,this._formatReturnValue("text",o,t,e,s)}}else if(typeof r=="string"){let s;this.singleCharacters?s=1:s=(n===this._boundaryEndParent?this.boundaries.end.offset:n.data.length)-e.offset;const o=new er(n,e.offset,s);return e.offset+=s,this._position=e,this._formatReturnValue("text",o,t,e,s)}else return e=_e._createAfter(n),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",n,t,e)}_previous(){let e=this.position.clone();const t=this.position,n=e.parent;if(n.parent===null&&e.offset===0)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let r;if(n instanceof Vt){if(e.isAtStart)return this._position=_e._createBefore(n),this._previous();r=n.data[e.offset-1]}else r=n.getChild(e.offset-1);if(r instanceof $i)return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",r,t,e,1)):(e=new _e(r,r.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",r,t,e));if(r instanceof Vt){if(this.singleCharacters)return e=new _e(r,r.data.length),this._position=e,this._previous();{let s=r.data.length,o;if(r==this._boundaryStartParent){const l=this.boundaries.start.offset;o=new er(r,l,r.data.length-l),s=o.data.length,e=_e._createBefore(o)}else o=new er(r,0,r.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",o,t,e,s)}}else if(typeof r=="string"){let s;if(this.singleCharacters)s=1;else{const l=n===this._boundaryStartParent?this.boundaries.start.offset:0;s=e.offset-l}e.offset-=s;const o=new er(n,e.offset,s);return this._position=e,this._formatReturnValue("text",o,t,e,s)}else return e=_e._createBefore(n),this._position=e,this._formatReturnValue("elementStart",n,t,e,1)}_formatReturnValue(e,t,n,r,s){return t instanceof er&&(t.offsetInText+t.data.length==t.textNode.data.length&&(this.direction=="forward"&&!(this.boundaries&&this.boundaries.end.isEqual(this.position))?(r=_e._createAfter(t.textNode),this._position=r):n=_e._createAfter(t.textNode)),t.offsetInText===0&&(this.direction=="backward"&&!(this.boundaries&&this.boundaries.start.isEqual(this.position))?(r=_e._createBefore(t.textNode),this._position=r):n=_e._createBefore(t.textNode))),{done:!1,value:{type:e,item:t,previousPosition:n,nextPosition:r,length:s}}}};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let _e=class Tr extends Us{constructor(e,t){super(),this.parent=e,this.offset=t}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof lh);)if(e.parent)e=e.parent;else return null;return e}getShiftedBy(e){const t=Tr._createAt(this),n=t.offset+e;return t.offset=n<0?0:n,t}getLastMatchingPosition(e,t={}){t.startPosition=this;const n=new Is(t);return n.skip(e),n.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const t=this.getAncestors(),n=e.getAncestors();let r=0;for(;t[r]==n[r]&&t[r];)r++;return r===0?null:t[r-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const t=this.parent.is("node")?this.parent.getPath():[],n=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),n.push(e.offset);const r=Rn(t,n);switch(r){case"prefix":return"before";case"extension":return"after";default:return t[r]<n[r]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new Is(e)}clone(){return new Tr(this.parent,this.offset)}static _createAt(e,t){if(e instanceof Tr)return new this(e.parent,e.offset);{const n=e;if(t=="end")t=n.is("$text")?n.data.length:n.childCount;else{if(t=="before")return this._createBefore(n);if(t=="after")return this._createAfter(n);if(t!==0&&!t)throw new B("view-createpositionat-offset-required",n)}return new Tr(n,t)}}static _createAfter(e){if(e.is("$textProxy"))return new Tr(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new B("view-position-after-root",e,{root:e});return new Tr(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new Tr(e.textNode,e.offsetInText);if(!e.parent)throw new B("view-position-before-root",e,{root:e});return new Tr(e.parent,e.index)}};_e.prototype.is=function(i){return i==="position"||i==="view:position"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let We=class Zr extends Us{constructor(e,t=null){super(),this.start=e.clone(),this.end=t?t.clone():e.clone()}*[Symbol.iterator](){yield*new Is({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition($u,{direction:"backward"}),t=this.end.getLastMatchingPosition($u);return e.parent.is("$text")&&e.isAtStart&&(e=_e._createBefore(e.parent)),t.parent.is("$text")&&t.isAtEnd&&(t=_e._createAfter(t.parent)),new Zr(e,t)}getTrimmed(){let e=this.start.getLastMatchingPosition($u);if(e.isAfter(this.end)||e.isEqual(this.end))return new Zr(e,e);let t=this.end.getLastMatchingPosition($u,{direction:"backward"});const n=e.nodeAfter,r=t.nodeBefore;return n&&n.is("$text")&&(e=new _e(n,0)),r&&r.is("$text")&&(t=new _e(r,r.data.length)),new Zr(e,t)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),r=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&r}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new Zr(this.start,e.start)),this.containsPosition(e.end)&&t.push(new Zr(e.end,this.end))):t.push(this.clone()),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,n=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(n=e.end),new Zr(t,n)}return null}getWalker(e={}){return e.boundaries=this,new Is(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,t=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e&&e.is("element")&&e===t?e:null}clone(){return new Zr(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new Is(e);for(const n of t)yield n.item}*getPositions(e={}){e.boundaries=this;const t=new Is(e);yield t.position;for(const n of t)yield n.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,t,n,r){return new this(new _e(e,t),new _e(n,r))}static _createFromPositionAndShift(e,t){const n=e,r=e.getShiftedBy(t);return t>0?new this(n,r):new this(r,n)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const t=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(_e._createBefore(e),t)}};We.prototype.is=function(i){return i==="range"||i==="view:range"};function $u(i){return!!(i.item.is("attributeElement")||i.item.is("uiElement"))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let is=class PE extends kt(Us){constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const t of this._ranges)(!e||t.start.isBefore(e.start))&&(e=t);return e?e.clone():null}getLastRange(){let e=null;for(const t of this._ranges)(!e||t.end.isAfter(e.end))&&(e=t);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let n=!1;for(const r of e._ranges)if(t.isEqual(r)){n=!0;break}if(!n)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const t=rg(this.getRanges()),n=rg(e.getRanges());if(t!=n)return!1;if(t==0)return!0;for(let r of this.getRanges()){r=r.getTrimmed();let s=!1;for(let o of e.getRanges())if(o=o.getTrimmed(),r.start.isEqual(o.start)&&r.end.isEqual(o.end)){s=!0;break}if(!s)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[t,n,r]=e;if(typeof n=="object"&&(r=n,n=void 0),t===null)this._setRanges([]),this._setFakeOptions(r);else if(t instanceof PE||t instanceof op)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof We)this._setRanges([t],r&&r.backward),this._setFakeOptions(r);else if(t instanceof _e)this._setRanges([new We(t)]),this._setFakeOptions(r);else if(t instanceof Hs){const s=!!r&&!!r.backward;let o;if(n===void 0)throw new B("view-selection-setto-required-second-parameter",this);n=="in"?o=We._createIn(t):n=="on"?o=We._createOn(t):o=new We(_e._createAt(t,n)),this._setRanges([o],s),this._setFakeOptions(r)}else if(hi(t))this._setRanges(t,r&&r.backward),this._setFakeOptions(r);else throw new B("view-selection-setto-not-selectable",this);this.fire("change")}setFocus(e,t){if(this.anchor===null)throw new B("view-selection-setfocus-no-ranges",this);const n=_e._createAt(e,t);if(n.compareWith(this.focus)=="same")return;const r=this.anchor;this._ranges.pop(),n.compareWith(r)=="before"?this._addRange(new We(n,r),!0):this._addRange(new We(r,n)),this.fire("change")}_setRanges(e,t=!1){e=Array.from(e),this._ranges=[];for(const n of e)this._addRange(n);this._lastRangeBackward=!!t}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,t=!1){if(!(e instanceof We))throw new B("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!t}_pushRange(e){for(const t of this._ranges)if(e.isIntersecting(t))throw new B("view-selection-range-intersects",this,{addedRange:e,intersectingRange:t});this._ranges.push(new We(e.start,e.end))}};is.prototype.is=function(i){return i==="selection"||i==="view:selection"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let op=class extends kt(Us){constructor(...e){super(),this._selection=new is,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,t){this._selection.setFocus(e,t)}};op.prototype.is=function(i){return i==="selection"||i=="documentSelection"||i=="view:selection"||i=="view:documentSelection"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Qo extends Ir{constructor(e,t,n){super(e,t),this.startRange=n,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const vm=Symbol("bubbling contexts");function cg(i){class e extends i{fire(n,...r){try{const s=n instanceof Ir?n:new Ir(this,n),o=wm(this);if(!o.size)return;if(Ga(s,"capturing",this),xo(o,"$capture",s,...r))return s.return;const l=s.startRange||this.selection.getFirstRange(),u=l?l.getContainedElement():null,h=u?!!IE(o,u):!1;let f=u||sV(l);if(Ga(s,"atTarget",f),!h){if(xo(o,"$text",s,...r))return s.return;Ga(s,"bubbling",f)}for(;f;){if(f.is("rootElement")){if(xo(o,"$root",s,...r))return s.return}else if(f.is("element")&&xo(o,f.name,s,...r))return s.return;if(xo(o,f,s,...r))return s.return;f=f.parent,Ga(s,"bubbling",f)}return Ga(s,"bubbling",this),xo(o,"$document",s,...r),s.return}catch(s){/* istanbul ignore next -- @preserve */B.rethrowUnexpectedError(s,this)}}_addEventListener(n,r,s){const o=On(s.context||"$document"),l=wm(this);for(const u of o){let h=l.get(u);h||(h=new(kt()),l.set(u,h)),this.listenTo(h,n,r,s)}}_removeEventListener(n,r){const s=wm(this);for(const o of s.values())this.stopListening(o,n,r)}}return e}{const i=cg(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{cg[e]=i.prototype[e]})}function Ga(i,e,t){i instanceof Qo&&(i._eventPhase=e,i._currentTarget=t)}function xo(i,e,t,...n){const r=typeof e=="string"?i.get(e):IE(i,e);return r?(r.fire(t,...n),t.stop.called):!1}function IE(i,e){for(const[t,n]of i)if(typeof t=="function"&&t(e))return n;return null}function wm(i){return i[vm]||(i[vm]=new Map),i[vm]}function sV(i){if(!i)return null;const e=i.start.parent,t=i.end.parent,n=e.getPath(),r=t.getPath();return n.length>r.length?e:t}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let RE=class extends cg(Dt()){constructor(e){super(),this._postFixers=new Set,this.selection=new op,this.roots=new Br({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.map(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let t=!1;do for(const n of this._postFixers)if(t=n(e),t)break;while(t)}};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const OE=10;class Ms extends $i{constructor(e,t,n,r){super(e,t,n,r),this._priority=OE,this._id=null,this._clonesGroup=null,this.getFillerOffset=oV}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new B("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const t=super._clone(e);return t._priority=this._priority,t._id=this._id,t}}Ms.DEFAULT_PRIORITY=OE;Ms.prototype.is=function(i,e){return e?e===this.name&&(i==="attributeElement"||i==="view:attributeElement"||i==="element"||i==="view:element"):i==="attributeElement"||i==="view:attributeElement"||i==="element"||i==="view:element"||i==="node"||i==="view:node"};function oV(){if(bm(this))return null;let i=this.parent;for(;i&&i.is("attributeElement");){if(bm(i)>1)return null;i=i.parent}return!i||bm(i)>1?null:this.childCount}function bm(i){return Array.from(i.getChildren()).filter(e=>!e.is("uiElement")).length}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ap extends $i{constructor(e,t,n,r){super(e,t,n,r),this.getFillerOffset=aV}_insertChild(e,t){if(t&&(t instanceof Hs||Array.from(t).length>0))throw new B("view-emptyelement-cannot-add",[this,t]);return 0}}ap.prototype.is=function(i,e){return e?e===this.name&&(i==="emptyElement"||i==="view:emptyElement"||i==="element"||i==="view:element"):i==="emptyElement"||i==="view:emptyElement"||i==="element"||i==="view:element"||i==="node"||i==="view:node"};function aV(){return null}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ch extends $i{constructor(e,t,n,r){super(e,t,n,r),this.getFillerOffset=cV}_insertChild(e,t){if(t&&(t instanceof Hs||Array.from(t).length>0))throw new B("view-uielement-cannot-add",[this,t]);return 0}render(e,t){return this.toDomElement(e)}toDomElement(e){const t=e.createElement(this.name);for(const n of this.getAttributeKeys())t.setAttribute(n,this.getAttribute(n));return t}}ch.prototype.is=function(i,e){return e?e===this.name&&(i==="uiElement"||i==="view:uiElement"||i==="element"||i==="view:element"):i==="uiElement"||i==="view:uiElement"||i==="element"||i==="view:element"||i==="node"||i==="view:node"};function lV(i){i.document.on("arrowKey",(e,t)=>uV(e,t,i.domConverter),{priority:"low"})}function cV(){return null}function uV(i,e,t){if(e.keyCode==tt.arrowright){const n=e.domTarget.ownerDocument.defaultView.getSelection(),r=n.rangeCount==1&&n.getRangeAt(0).collapsed;if(r||e.shiftKey){const s=n.focusNode,o=n.focusOffset,l=t.domPositionToView(s,o);if(l===null)return;let u=!1;const h=l.getLastMatchingPosition(f=>(f.item.is("uiElement")&&(u=!0),!!(f.item.is("uiElement")||f.item.is("attributeElement"))));if(u){const f=t.viewPositionToDom(h);r?n.collapse(f.parent,f.offset):n.extend(f.parent,f.offset)}}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class lp extends $i{constructor(e,t,n,r){super(e,t,n,r),this.getFillerOffset=dV}_insertChild(e,t){if(t&&(t instanceof Hs||Array.from(t).length>0))throw new B("view-rawelement-cannot-add",[this,t]);return 0}render(e,t){}}lp.prototype.is=function(i,e){return e?e===this.name&&(i==="rawElement"||i==="view:rawElement"||i==="element"||i==="view:element"):i==="rawElement"||i==="view:rawElement"||i===this.name||i==="view:"+this.name||i==="element"||i==="view:element"||i==="node"||i==="view:node"};function dV(){return null}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Ns=class extends kt(Us){constructor(e,t){super(),this._children=[],this._customProperties=new Map,this.document=e,t&&this._insertChild(0,t)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,t){this._fireChange("children",this);let n=0;const r=hV(this.document,t);for(const s of r)s.parent!==null&&s._remove(),s.parent=this,this._children.splice(e,0,s),e++,n++;return n}_removeChildren(e,t=1){this._fireChange("children",this);for(let n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}_fireChange(e,t){this.fire("change:"+e,t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}};Ns.prototype.is=function(i){return i==="documentFragment"||i==="view:documentFragment"};function hV(i,e){return typeof e=="string"?[new Vt(i,e)]:(hi(e)||(e=[e]),Array.from(e).map(t=>typeof t=="string"?new Vt(i,t):t instanceof er?new Vt(i,t.data):t))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ME{constructor(e){this._cloneGroups=new Map,this._slotFactory=null,this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,t){this.document.selection._setFocus(e,t)}createDocumentFragment(e){return new Ns(this.document,e)}createText(e){return new Vt(this.document,e)}createAttributeElement(e,t,n={}){const r=new Ms(this.document,e,t);return typeof n.priority=="number"&&(r._priority=n.priority),n.id&&(r._id=n.id),n.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),r}createContainerElement(e,t,n={},r={}){let s=null;di(n)?r=n:s=n;const o=new yl(this.document,e,t,s);return r.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),o}createEditableElement(e,t,n={}){const r=new lh(this.document,e,t);return n.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),r}createEmptyElement(e,t,n={}){const r=new ap(this.document,e,t);return n.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),r}createUIElement(e,t,n){const r=new ch(this.document,e,t);return n&&(r.render=n),r}createRawElement(e,t,n,r={}){const s=new lp(this.document,e,t);return n&&(s.render=n),r.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),s}setAttribute(e,t,n){n._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,n){di(e)&&n===void 0?t._setStyle(e):n._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,n){n._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}breakAttributes(e){return e instanceof _e?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const t=e.parent;if(!t.is("containerElement"))throw new B("view-writer-break-non-container-element",this.document);if(!t.parent)throw new B("view-writer-break-root",this.document);if(e.isAtStart)return _e._createBefore(t);if(!e.isAtEnd){const n=t._clone(!1);this.insert(_e._createAfter(t),n);const r=new We(e,_e._createAt(t,"end")),s=new _e(n,0);this.move(r,s)}return _e._createAfter(t)}mergeAttributes(e){const t=e.offset,n=e.parent;if(n.is("$text"))return e;if(n.is("attributeElement")&&n.childCount===0){const o=n.parent,l=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new _e(o,l))}const r=n.getChild(t-1),s=n.getChild(t);if(!r||!s)return e;if(r.is("$text")&&s.is("$text"))return Hw(r,s);if(r.is("attributeElement")&&s.is("attributeElement")&&r.isSimilar(s)){const o=r.childCount;return r._appendChild(s.getChildren()),s._remove(),this._removeFromClonedElementsGroup(s),this.mergeAttributes(new _e(r,o))}return e}mergeContainers(e){const t=e.nodeBefore,n=e.nodeAfter;if(!t||!n||!t.is("containerElement")||!n.is("containerElement"))throw new B("view-writer-merge-containers-invalid-position",this.document);const r=t.getChild(t.childCount-1),s=r instanceof Vt?_e._createAt(r,"end"):_e._createAt(t,"end");return this.move(We._createIn(n),_e._createAt(t,"end")),this.remove(We._createOn(n)),s}insert(e,t){t=hi(t)?[...t]:[t],NE(t,this.document);const n=t.reduce((o,l)=>{const u=o[o.length-1],h=!l.is("uiElement");return!u||u.breakAttributes!=h?o.push({breakAttributes:h,nodes:[l]}):u.nodes.push(l),o},[]);let r=null,s=e;for(const{nodes:o,breakAttributes:l}of n){const u=this._insertNodes(s,o,l);r||(r=u.start),s=u.end}return r?new We(r,s):new We(e)}remove(e){const t=e instanceof We?e:We._createOn(e);if(Ya(t,this.document),t.isCollapsed)return new Ns(this.document);const{start:n,end:r}=this._breakAttributesRange(t,!0),s=n.parent,o=r.offset-n.offset,l=s._removeChildren(n.offset,o);for(const h of l)this._removeFromClonedElementsGroup(h);const u=this.mergeAttributes(n);return t.start=u,t.end=u.clone(),new Ns(this.document,l)}clear(e,t){Ya(e,this.document);const n=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const r of n){const s=r.item;let o;if(s.is("element")&&t.isSimilar(s))o=We._createOn(s);else if(!r.nextPosition.isAfter(e.start)&&s.is("$textProxy")){const l=s.getAncestors().find(u=>u.is("element")&&t.isSimilar(u));l&&(o=We._createIn(l))}o&&(o.end.isAfter(e.end)&&(o.end=e.end),o.start.isBefore(e.start)&&(o.start=e.start),this.remove(o))}}move(e,t){let n;if(t.isAfter(e.end)){t=this._breakAttributes(t,!0);const r=t.parent,s=r.childCount;e=this._breakAttributesRange(e,!0),n=this.remove(e),t.offset+=r.childCount-s}else n=this.remove(e);return this.insert(t,n)}wrap(e,t){if(!(t instanceof Ms))throw new B("view-writer-wrap-invalid-attribute",this.document);if(Ya(e,this.document),e.isCollapsed){let n=e.start;n.parent.is("element")&&!fV(n.parent)&&(n=n.getLastMatchingPosition(s=>s.item.is("uiElement"))),n=this._wrapPosition(n,t);const r=this.document.selection;return r.isCollapsed&&r.getFirstPosition().isEqual(e.start)&&this.setSelection(n),new We(n)}else return this._wrapRange(e,t)}unwrap(e,t){if(!(t instanceof Ms))throw new B("view-writer-unwrap-invalid-attribute",this.document);if(Ya(e,this.document),e.isCollapsed)return e;const{start:n,end:r}=this._breakAttributesRange(e,!0),s=n.parent,o=this._unwrapChildren(s,n.offset,r.offset,t),l=this.mergeAttributes(o.start);l.isEqual(o.start)||o.end.offset--;const u=this.mergeAttributes(o.end);return new We(l,u)}rename(e,t){const n=new yl(this.document,e,t.getAttributes());return this.insert(_e._createAfter(t),n),this.move(We._createIn(t),_e._createAt(n,0)),this.remove(We._createOn(t)),n}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,t){return _e._createAt(e,t)}createPositionAfter(e){return _e._createAfter(e)}createPositionBefore(e){return _e._createBefore(e)}createRange(e,t){return new We(e,t)}createRangeOn(e){return We._createOn(e)}createRangeIn(e){return We._createIn(e)}createSelection(...e){return new is(...e)}createSlot(e="children"){if(!this._slotFactory)throw new B("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,t,n){let r;if(n?r=ug(e):r=e.parent.is("$text")?e.parent.parent:e.parent,!r)throw new B("view-writer-invalid-position-container",this.document);let s;n?s=this._breakAttributes(e,!0):s=e.parent.is("$text")?ym(e):e;const o=r._insertChild(s.offset,t);for(const f of t)this._addToClonedElementsGroup(f);const l=s.getShiftedBy(o),u=this.mergeAttributes(s);u.isEqual(s)||l.offset--;const h=this.mergeAttributes(l);return new We(u,h)}_wrapChildren(e,t,n,r){let s=t;const o=[];for(;s<n;){const u=e.getChild(s),h=u.is("$text"),f=u.is("attributeElement");if(f&&this._wrapAttributeElement(r,u))o.push(new _e(e,s));else if(h||!f||mV(r,u)){const m=r._clone();u._remove(),m._appendChild(u),e._insertChild(s,m),this._addToClonedElementsGroup(m),o.push(new _e(e,s))}else this._wrapChildren(u,0,u.childCount,r);s++}let l=0;for(const u of o){if(u.offset-=l,u.offset==t)continue;this.mergeAttributes(u).isEqual(u)||(l++,n--)}return We._createFromParentsAndOffsets(e,t,e,n)}_unwrapChildren(e,t,n,r){let s=t;const o=[];for(;s<n;){const u=e.getChild(s);if(!u.is("attributeElement")){s++;continue}if(u.isSimilar(r)){const h=u.getChildren(),f=u.childCount;u._remove(),e._insertChild(s,h),this._removeFromClonedElementsGroup(u),o.push(new _e(e,s),new _e(e,s+f)),s+=f,n+=f-1;continue}if(this._unwrapAttributeElement(r,u)){o.push(new _e(e,s),new _e(e,s+1)),s++;continue}this._unwrapChildren(u,0,u.childCount,r),s++}let l=0;for(const u of o){if(u.offset-=l,u.offset==t||u.offset==n)continue;this.mergeAttributes(u).isEqual(u)||(l++,n--)}return We._createFromParentsAndOffsets(e,t,e,n)}_wrapRange(e,t){const{start:n,end:r}=this._breakAttributesRange(e,!0),s=n.parent,o=this._wrapChildren(s,n.offset,r.offset,t),l=this.mergeAttributes(o.start);l.isEqual(o.start)||o.end.offset--;const u=this.mergeAttributes(o.end);return new We(l,u)}_wrapPosition(e,t){if(t.isSimilar(e.parent))return Uw(e.clone());e.parent.is("$text")&&(e=ym(e));const n=this.createAttributeElement("_wrapPosition-fake-element");n._priority=Number.POSITIVE_INFINITY,n.isSimilar=()=>!1,e.parent._insertChild(e.offset,n);const r=new We(e,e.getShiftedBy(1));this.wrap(r,t);const s=new _e(n.parent,n.index);n._remove();const o=s.nodeBefore,l=s.nodeAfter;return o instanceof Vt&&l instanceof Vt?Hw(o,l):Uw(s)}_wrapAttributeElement(e,t){if(!qw(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const n of e.getAttributeKeys())if(!(n==="class"||n==="style")&&t.hasAttribute(n)&&t.getAttribute(n)!==e.getAttribute(n))return!1;for(const n of e.getStyleNames())if(t.hasStyle(n)&&t.getStyle(n)!==e.getStyle(n))return!1;for(const n of e.getAttributeKeys())n==="class"||n==="style"||t.hasAttribute(n)||this.setAttribute(n,e.getAttribute(n),t);for(const n of e.getStyleNames())t.hasStyle(n)||this.setStyle(n,e.getStyle(n),t);for(const n of e.getClassNames())t.hasClass(n)||this.addClass(n,t);return!0}_unwrapAttributeElement(e,t){if(!qw(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const n of e.getAttributeKeys())if(!(n==="class"||n==="style")&&(!t.hasAttribute(n)||t.getAttribute(n)!==e.getAttribute(n)))return!1;if(!t.hasClass(...e.getClassNames()))return!1;for(const n of e.getStyleNames())if(!t.hasStyle(n)||t.getStyle(n)!==e.getStyle(n))return!1;for(const n of e.getAttributeKeys())n==="class"||n==="style"||this.removeAttribute(n,t);return this.removeClass(Array.from(e.getClassNames()),t),this.removeStyle(Array.from(e.getStyleNames()),t),!0}_breakAttributesRange(e,t=!1){const n=e.start,r=e.end;if(Ya(e,this.document),e.isCollapsed){const u=this._breakAttributes(e.start,t);return new We(u,u)}const s=this._breakAttributes(r,t),o=s.parent.childCount,l=this._breakAttributes(n,t);return s.offset+=s.parent.childCount-o,new We(l,s)}_breakAttributes(e,t=!1){const n=e.offset,r=e.parent;if(e.parent.is("emptyElement"))throw new B("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new B("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new B("view-writer-cannot-break-raw-element",this.document);if(!t&&r.is("$text")&&dg(r.parent)||dg(r))return e.clone();if(r.is("$text"))return this._breakAttributes(ym(e),t);const s=r.childCount;if(n==s){const o=new _e(r.parent,r.index+1);return this._breakAttributes(o,t)}else if(n===0){const o=new _e(r.parent,r.index);return this._breakAttributes(o,t)}else{const o=r.index+1,l=r._clone();r.parent._insertChild(o,l),this._addToClonedElementsGroup(l);const u=r.childCount-n,h=r._removeChildren(n,u);l._appendChild(h);const f=new _e(r.parent,o);return this._breakAttributes(f,t)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const r of e.getChildren())this._addToClonedElementsGroup(r);const t=e.id;if(!t)return;let n=this._cloneGroups.get(t);n||(n=new Set,this._cloneGroups.set(t,n)),n.add(e),e._clonesGroup=n}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const r of e.getChildren())this._removeFromClonedElementsGroup(r);const t=e.id;if(!t)return;const n=this._cloneGroups.get(t);n&&n.delete(e)}}function fV(i){return Array.from(i.getChildren()).some(e=>!e.is("uiElement"))}function ug(i){let e=i.parent;for(;!dg(e);){if(!e)return;e=e.parent}return e}function mV(i,e){return i.priority<e.priority?!0:i.priority>e.priority?!1:i.getIdentity()<e.getIdentity()}function Uw(i){const e=i.nodeBefore;if(e&&e.is("$text"))return new _e(e,e.data.length);const t=i.nodeAfter;return t&&t.is("$text")?new _e(t,0):i}function ym(i){if(i.offset==i.parent.data.length)return new _e(i.parent.parent,i.parent.index+1);if(i.offset===0)return new _e(i.parent.parent,i.parent.index);const e=i.parent.data.slice(i.offset);return i.parent._data=i.parent.data.slice(0,i.offset),i.parent.parent._insertChild(i.parent.index+1,new Vt(i.root.document,e)),new _e(i.parent.parent,i.parent.index+1)}function Hw(i,e){const t=i.data.length;return i._data+=e.data,e._remove(),new _e(i,t)}const gV=[Vt,Ms,yl,ap,lp,ch];function NE(i,e){for(const t of i){if(!gV.some(n=>t instanceof n))throw new B("view-writer-insert-invalid-node-type",e);t.is("$text")||NE(t.getChildren(),e)}}function dg(i){return i&&(i.is("containerElement")||i.is("documentFragment"))}function Ya(i,e){const t=ug(i.start),n=ug(i.end);if(!t||!n||t!==n)throw new B("view-writer-invalid-range-container",e)}function qw(i,e){return i.id===null&&e.id===null}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const DE=i=>i.createTextNode(" "),BE=i=>{const e=i.createElement("span");return e.dataset.ckeFiller="true",e.innerText=" ",e},VE=i=>{const e=i.createElement("br");return e.dataset.ckeFiller="true",e},nr=7,Ad="⁠".repeat(nr);function ci(i){return Kt(i)&&i.data.substr(0,nr)===Ad}function rl(i){return i.data.length==nr&&ci(i)}function Kw(i){return ci(i)?i.data.slice(nr):i.data}function pV(i){i.document.on("arrowKey",_V,{priority:"low"})}function _V(i,e){if(e.keyCode==tt.arrowleft){const t=e.domTarget.ownerDocument.defaultView.getSelection();if(t.rangeCount==1&&t.getRangeAt(0).collapsed){const n=t.getRangeAt(0).startContainer,r=t.getRangeAt(0).startOffset;ci(n)&&r<=nr&&t.collapse(n,0)}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class vV extends Dt(){constructor(e,t){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=e,this.selection=t,this.set("isFocused",!1),this.set("isSelecting",!1),qe.isBlink&&!qe.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(e,t){if(e==="text")this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if(e==="attributes")this.markedAttributes.add(t);else if(e==="children")this.markedChildren.add(t);else throw new B("view-renderer-unknown-type",this)}}render(){if(this.isComposing&&!qe.isAndroid)return;let e=null;const t=qe.isBlink&&!qe.isAndroid?!this.isSelecting:!0;for(const n of this.markedChildren)this._updateChildrenMappings(n);t?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=_e._createBefore(e.parent)));for(const n of this.markedAttributes)this._updateAttrs(n);for(const n of this.markedChildren)this._updateChildren(n,{inlineFillerPosition:e});for(const n of this.markedTexts)!this.markedChildren.has(n.parent)&&this.domConverter.mapViewToDom(n.parent)&&this._updateText(n,{inlineFillerPosition:e});if(t)if(e){const n=this.domConverter.viewPositionToDom(e),r=n.parent.ownerDocument;ci(n.parent)?this._inlineFiller=n.parent:this._inlineFiller=Gw(r,n.parent,n.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){if(!this.domConverter.mapViewToDom(e))return;const n=Array.from(this.domConverter.mapViewToDom(e).childNodes),r=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),s=this._diffNodeLists(n,r),o=this._findUpdateActions(s,n,r,bV);if(o.indexOf("update")!==-1){const l={equal:0,insert:0,delete:0};for(const u of o)if(u==="update"){const h=l.equal+l.insert,f=l.equal+l.delete,m=e.getChild(h);m&&!(m.is("uiElement")||m.is("rawElement"))&&this._updateElementMappings(m,n[f]),Mw(r[h]),l.equal++}else l[u]++}}_updateElementMappings(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?_e._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&Kt(t.parent)&&ci(t.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!ci(e))throw new B("view-renderer-filler-was-lost",this);rl(e)?e.remove():e.data=e.data.substr(nr),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=e.parent,n=e.offset;if(!this.domConverter.mapViewToDom(t.root)||!t.is("element")||!wV(t)||n===t.getFillerOffset())return!1;const r=e.nodeBefore,s=e.nodeAfter;return!(r instanceof Vt||s instanceof Vt||qe.isAndroid&&(r||s))}_updateText(e,t){const n=this.domConverter.findCorrespondingDomText(e);let s=this.domConverter.viewToDom(e).data;const o=t.inlineFillerPosition;o&&o.parent==e.parent&&o.offset==e.index&&(s=Ad+s),Yw(n,s)}_updateAttrs(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const n=Array.from(t.attributes).map(s=>s.name),r=e.getAttributeKeys();for(const s of r)this.domConverter.setDomElementAttribute(t,s,e.getAttribute(s),e);for(const s of n)e.hasAttribute(s)||this.domConverter.removeDomElementAttribute(t,s)}_updateChildren(e,t){const n=this.domConverter.mapViewToDom(e);if(!n)return;if(qe.isAndroid){let m=null;for(const v of Array.from(n.childNodes)){if(m&&Kt(m)&&Kt(v)){n.normalize();break}m=v}}const r=t.inlineFillerPosition,s=n.childNodes,o=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));r&&r.parent===e&&Gw(n.ownerDocument,o,r.offset);const l=this._diffNodeLists(s,o),u=this._findUpdateActions(l,s,o,yV);let h=0;const f=new Set;for(const m of u)m==="delete"?(f.add(s[h]),Mw(s[h])):(m==="equal"||m==="update")&&h++;h=0;for(const m of u)m==="insert"?(pE(n,h,o[h]),h++):m==="update"?(Yw(s[h],o[h].data),h++):m==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(o[h])),h++);for(const m of f)m.parentNode||this.domConverter.unbindDomElement(m)}_diffNodeLists(e,t){return e=SV(e,this._fakeSelectionContainer),cl(e,t,EV.bind(null,this.domConverter))}_findUpdateActions(e,t,n,r){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let s=[],o=[],l=[];const u={equal:0,insert:0,delete:0};for(const h of e)h==="insert"?l.push(n[u.equal+u.insert]):h==="delete"?o.push(t[u.equal+u.delete]):(s=s.concat(cl(o,l,r).map(f=>f==="equal"?"update":f)),s.push("equal"),o=[],l=[]),u[h]++;return s.concat(cl(o,l,r).map(h=>h==="equal"?"update":h))}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const t of e.getChildren())this._markDescendantTextToSync(t)}}_updateSelection(){if(qe.isBlink&&!qe.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0){this._removeDomSelection(),this._removeFakeSelection();return}const e=this.domConverter.mapViewToDom(this.selection.editableElement);!this.isFocused||!e||(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&qe.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=TV(t));const n=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(n,this.selection),!this._fakeSelectionNeedsUpdate(e))return;(!n.parentElement||n.parentElement!=e)&&e.appendChild(n),n.textContent=this.selection.fakeSelectionLabel||" ";const r=t.getSelection(),s=t.createRange();r.removeAllRanges(),s.selectNodeContents(n),r.addRange(s)}_updateDomSelection(e){const t=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(t))return;const n=this.domConverter.viewPositionToDom(this.selection.anchor),r=this.domConverter.viewPositionToDom(this.selection.focus);t.collapse(n.parent,n.offset),t.extend(r.parent,r.offset),qe.isGecko&&CV(r,t)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const t=e&&this.domConverter.domSelectionToView(e);return!(t&&this.selection.isEqual(t)||!this.selection.isCollapsed&&this.selection.isSimilar(t))}_fakeSelectionNeedsUpdate(e){const t=this._fakeSelectionContainer,n=e.ownerDocument.getSelection();return!t||t.parentElement!==e||n.anchorNode!==t&&!t.contains(n.anchorNode)?!0:t.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const t=e.getSelection();if(t.rangeCount){const n=e.activeElement,r=this.domConverter.mapDomToView(n);n&&r&&t.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function wV(i){if(i.getAttribute("contenteditable")=="false")return!1;const e=i.findAncestor(t=>t.hasAttribute("contenteditable"));return!e||e.getAttribute("contenteditable")=="true"}function Gw(i,e,t){const n=e instanceof Array?e:e.childNodes,r=n[t];if(Kt(r))return r.data=Ad+r.data,r;{const s=i.createTextNode(Ad);return Array.isArray(e)?n.splice(t,0,s):pE(e,t,s),s}}function bV(i,e){return ns(i)&&ns(e)&&!Kt(i)&&!Kt(e)&&!Mo(i)&&!Mo(e)&&i.tagName.toLowerCase()===e.tagName.toLowerCase()}function yV(i,e){return ns(i)&&ns(e)&&Kt(i)&&Kt(e)}function EV(i,e,t){return e===t?!0:Kt(e)&&Kt(t)?e.data===t.data:!!(i.isBlockFiller(e)&&i.isBlockFiller(t))}function CV(i,e){const t=i.parent;if(t.nodeType!=Node.ELEMENT_NODE||i.offset!=t.childNodes.length-1)return;const n=t.childNodes[i.offset];n&&n.tagName=="BR"&&e.addRange(e.getRangeAt(0))}function SV(i,e){const t=Array.from(i);return t.length==0||!e||t[t.length-1]==e&&t.pop(),t}function TV(i){const e=i.createElement("div");return e.className="ck-fake-selection-container",Object.assign(e.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),e.textContent=" ",e}function Yw(i,e){const t=i.data;if(t==e)return;const n=_y(t,e);for(const r of n)r.type==="insert"?i.insertData(r.index,r.values.join("")):i.deleteData(r.index,r.howMany)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const xV=VE(Ke.document),kV=DE(Ke.document),AV=BE(Ke.document),zu="data-ck-unsafe-attribute-",Jw="data-ck-unsafe-element";class LE{constructor(e,{blockFillerMode:t,renderingMode:n="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new ah,this._encounteredRawContentDomNodes=new WeakSet,this.document=e,this.renderingMode=n,this.blockFillerMode=t||(n==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?Ke.document:Ke.document.implementation.createHTMLDocument("")}bindFakeSelection(e,t){this._fakeSelectionMapping.set(e,new is(t))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}unbindDomElement(e){const t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);for(const n of Array.from(e.children))this.unbindDomElement(n)}}bindDocumentFragments(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}shouldRenderAttribute(e,t,n){return this.renderingMode==="data"?!0:(e=e.toLowerCase(),e.startsWith("on")||e==="srcdoc"&&t.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i)?!1:n==="img"&&(e==="src"||e==="srcset")||n==="source"&&e==="srcset"?!0:!t.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,t){if(this.renderingMode==="data"){e.innerHTML=t;return}const n=new DOMParser().parseFromString(t,"text/html"),r=n.createDocumentFragment(),s=n.body.childNodes;for(;s.length>0;)r.appendChild(s[0]);const o=n.createTreeWalker(r,NodeFilter.SHOW_ELEMENT),l=[];let u;for(;u=o.nextNode();)l.push(u);for(const h of l){for(const m of h.getAttributeNames())this.setDomElementAttribute(h,m,h.getAttribute(m));const f=h.tagName.toLowerCase();this._shouldRenameElement(f)&&(Zw(f),h.replaceWith(this._createReplacementDomElement(f,h)))}for(;e.firstChild;)e.firstChild.remove();e.append(r)}viewToDom(e,t={}){if(e.is("$text")){const n=this._processDataFromViewText(e);return this._domDocument.createTextNode(n)}else{if(this.mapViewToDom(e))return this.mapViewToDom(e);let n;if(e.is("documentFragment"))n=this._domDocument.createDocumentFragment(),t.bind&&this.bindDocumentFragments(n,e);else{if(e.is("uiElement"))return e.name==="$comment"?n=this._domDocument.createComment(e.getCustomProperty("$rawContent")):n=e.render(this._domDocument,this),t.bind&&this.bindElements(n,e),n;this._shouldRenameElement(e.name)?(Zw(e.name),n=this._createReplacementDomElement(e.name)):e.hasAttribute("xmlns")?n=this._domDocument.createElementNS(e.getAttribute("xmlns"),e.name):n=this._domDocument.createElement(e.name),e.is("rawElement")&&e.render(n,this),t.bind&&this.bindElements(n,e);for(const r of e.getAttributeKeys())this.setDomElementAttribute(n,r,e.getAttribute(r),e)}if(t.withChildren!==!1)for(const r of this.viewChildrenToDom(e,t))n.appendChild(r);return n}}setDomElementAttribute(e,t,n,r){const s=this.shouldRenderAttribute(t,n,e.tagName.toLowerCase())||r&&r.shouldRenderUnsafeAttribute(t);s||Jt("domconverter-unsafe-attribute-detected",{domElement:e,key:t,value:n}),e.hasAttribute(t)&&!s?e.removeAttribute(t):e.hasAttribute(zu+t)&&s&&e.removeAttribute(zu+t),e.setAttribute(s?t:zu+t,n)}removeDomElementAttribute(e,t){t!=Jw&&(e.removeAttribute(t),e.removeAttribute(zu+t))}*viewChildrenToDom(e,t={}){const n=e.getFillerOffset&&e.getFillerOffset();let r=0;for(const s of e.getChildren()){n===r&&(yield this._getBlockFiller());const o=s.is("element")&&!!s.getCustomProperty("dataPipeline:transparentRendering")&&!Mn(s.getAttributes());o&&this.renderingMode=="data"?yield*this.viewChildrenToDom(s,t):(o&&Jt("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:s}),yield this.viewToDom(s,t)),r++}n===r&&(yield this._getBlockFiller())}viewRangeToDom(e){const t=this.viewPositionToDom(e.start),n=this.viewPositionToDom(e.end),r=this._domDocument.createRange();return r.setStart(t.parent,t.offset),r.setEnd(n.parent,n.offset),r}viewPositionToDom(e){const t=e.parent;if(t.is("$text")){const n=this.findCorrespondingDomText(t);if(!n)return null;let r=e.offset;return ci(n)&&(r+=nr),{parent:n,offset:r}}else{let n,r,s;if(e.offset===0){if(n=this.mapViewToDom(t),!n)return null;s=n.childNodes[0]}else{const l=e.nodeBefore;if(r=l.is("$text")?this.findCorrespondingDomText(l):this.mapViewToDom(l),!r)return null;n=r.parentNode,s=r.nextSibling}if(Kt(s)&&ci(s))return{parent:s,offset:nr};const o=r?Fu(r)+1:0;return{parent:n,offset:o}}}domToView(e,t={}){if(this.isBlockFiller(e))return null;const n=this.getHostViewElement(e);if(n)return n;if(Mo(e)&&t.skipComments)return null;if(Kt(e)){if(rl(e))return null;{const r=this._processDataFromDomText(e);return r===""?null:new Vt(this.document,r)}}else{if(this.mapDomToView(e))return this.mapDomToView(e);let r;if(this.isDocumentFragment(e))r=new Ns(this.document),t.bind&&this.bindDocumentFragments(e,r);else{r=this._createViewElement(e,t),t.bind&&this.bindElements(e,r);const s=e.attributes;if(s)for(let o=s.length,l=0;l<o;l++)r._setAttribute(s[l].name,s[l].value);if(this._isViewElementWithRawContent(r,t)||Mo(e)){const o=Mo(e)?e.data:e.innerHTML;return r._setCustomProperty("$rawContent",o),this._encounteredRawContentDomNodes.add(e),r}}if(t.withChildren!==!1)for(const s of this.domChildrenToView(e,t))r._appendChild(s);return r}}*domChildrenToView(e,t){for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n],s=this.domToView(r,t);s!==null&&(yield s)}}domSelectionToView(e){if(e.rangeCount===1){let r=e.getRangeAt(0).startContainer;Kt(r)&&(r=r.parentNode);const s=this.fakeSelectionToView(r);if(s)return s}const t=this.isDomSelectionBackward(e),n=[];for(let r=0;r<e.rangeCount;r++){const s=e.getRangeAt(r),o=this.domRangeToView(s);o&&n.push(o)}return new is(n,{backward:t})}domRangeToView(e){const t=this.domPositionToView(e.startContainer,e.startOffset),n=this.domPositionToView(e.endContainer,e.endOffset);return t&&n?new We(t,n):null}domPositionToView(e,t=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,Fu(e));const n=this.mapDomToView(e);if(n&&(n.is("uiElement")||n.is("rawElement")))return _e._createBefore(n);if(Kt(e)){if(rl(e))return this.domPositionToView(e.parentNode,Fu(e));const r=this.findCorrespondingViewText(e);let s=t;return r?(ci(e)&&(s-=nr,s=s<0?0:s),new _e(r,s)):null}else{if(t===0){const r=this.mapDomToView(e);if(r)return new _e(r,0)}else{const r=e.childNodes[t-1];if(Kt(r)&&rl(r)||r&&this.isBlockFiller(r))return this.domPositionToView(r.parentNode,Fu(r));const s=Kt(r)?this.findCorrespondingViewText(r):this.mapDomToView(r);if(s&&s.parent)return new _e(s.parent,s.index+1)}return null}}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(rl(e))return null;const t=this.getHostViewElement(e);if(t)return t;const n=e.previousSibling;if(n){if(!this.isElement(n))return null;const r=this.mapDomToView(n);if(r){const s=r.nextSibling;return s instanceof Vt?s:null}}else{const r=this.mapDomToView(e.parentNode);if(r){const s=r.getChild(0);return s instanceof Vt?s:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){const{scrollX:n,scrollY:r}=Ke.window,s=[];Xw(t,o=>{const{scrollLeft:l,scrollTop:u}=o;s.push([l,u])}),t.focus(),Xw(t,o=>{const[l,u]=s.shift();o.scrollLeft=l,o.scrollTop=u}),Ke.window.scrollTo(n,r)}}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(xV):e.tagName==="BR"&&FE(e,this.blockElements)&&e.parentNode.childNodes.length===1?!0:e.isEqualNode(AV)||IV(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const t=this._domDocument.createRange();try{t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset)}catch{return!1}const n=t.collapsed;return t.detach(),n}getHostViewElement(e){const t=hE(e);for(t.pop();t.length;){const n=t.pop(),r=this._domToViewMapping.get(n);if(r&&(r.is("uiElement")||r.is("rawElement")))return r}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return DE(this._domDocument);case"markedNbsp":return BE(this._domDocument);case"br":return VE(this._domDocument)}}_isDomSelectionPositionCorrect(e,t){if(Kt(e)&&ci(e)&&t<nr||this.isElement(e)&&ci(e.childNodes[t]))return!1;const n=this.mapDomToView(e);return!(n&&(n.is("uiElement")||n.is("rawElement")))}_processDataFromViewText(e){let t=e.data;if(e.getAncestors().some(n=>this.preElements.includes(n.name)))return t;if(t.charAt(0)==" "){const n=this._getTouchingInlineViewNode(e,!1);(n&&n.is("$textProxy")&&this._nodeEndsWithSpace(n)||!n)&&(t=" "+t.substr(1))}if(t.charAt(t.length-1)==" "){const n=this._getTouchingInlineViewNode(e,!0),r=n&&n.is("$textProxy")&&n.data.charAt(0)==" ";(t.charAt(t.length-2)==" "||!n||r)&&(t=t.substr(0,t.length-1)+" ")}return t.replace(/ {2}/g,"  ")}_nodeEndsWithSpace(e){if(e.getAncestors().some(n=>this.preElements.includes(n.name)))return!1;const t=this._processDataFromViewText(e);return t.charAt(t.length-1)==" "}_processDataFromDomText(e){let t=e.data;if(PV(e,this.preElements))return Kw(e);t=t.replace(/[ \n\t\r]{1,}/g," ");const n=this._getTouchingInlineDomNode(e,!1),r=this._getTouchingInlineDomNode(e,!0),s=this._checkShouldLeftTrimDomText(e,n),o=this._checkShouldRightTrimDomText(e,r);s&&(t=t.replace(/^ /,"")),o&&(t=t.replace(/ $/,"")),t=Kw(new Text(t)),t=t.replace(/ \u00A0/g,"  ");const l=r&&this.isElement(r)&&r.tagName!="BR",u=r&&Kt(r)&&r.data.charAt(0)==" ";return(/( |\u00A0)\u00A0$/.test(t)||!r||l||u)&&(t=t.replace(/\u00A0$/," ")),(s||n&&this.isElement(n)&&n.tagName!="BR")&&(t=t.replace(/^\u00A0/," ")),t}_checkShouldLeftTrimDomText(e,t){return t?this.isElement(t)?t.tagName==="BR":this._encounteredRawContentDomNodes.has(e.previousSibling)?!1:/[^\S\u00A0]/.test(t.data.charAt(t.data.length-1)):!0}_checkShouldRightTrimDomText(e,t){return t?!1:!ci(e)}_getTouchingInlineViewNode(e,t){const n=new Is({startPosition:t?_e._createAfter(e):_e._createBefore(e),direction:t?"forward":"backward"});for(const r of n){if(r.item.is("element")&&this.inlineObjectElements.includes(r.item.name))return r.item;if(r.item.is("containerElement"))return null;if(r.item.is("element","br"))return null;if(r.item.is("$textProxy"))return r.item}return null}_getTouchingInlineDomNode(e,t){if(!e.parentNode)return null;const n=t?"firstChild":"lastChild",r=t?"nextSibling":"previousSibling";let s=!0,o=e;do if(!s&&o[n]?o=o[n]:o[r]?(o=o[r],s=!1):(o=o.parentNode,s=!0),!o||this._isBlockElement(o))return null;while(!(Kt(o)||o.tagName=="BR"||this._isInlineObjectElement(o)));return o}_isBlockElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isInlineObjectElement(e){return this.isElement(e)&&this.inlineObjectElements.includes(e.tagName.toLowerCase())}_createViewElement(e,t){if(Mo(e))return new ch(this.document,"$comment");const n=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new $i(this.document,n)}_isViewElementWithRawContent(e,t){return t.withChildren!==!1&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const t=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(t)}_createReplacementDomElement(e,t){const n=this._domDocument.createElement("span");if(n.setAttribute(Jw,e),t){for(;t.firstChild;)n.appendChild(t.firstChild);for(const r of t.getAttributeNames())n.setAttribute(r,t.getAttribute(r))}return n}}function PV(i,e){return hE(i).some(n=>n.tagName&&e.includes(n.tagName.toLowerCase()))}function Xw(i,e){let t=i;for(;t;)e(t),t=t.parentElement}function IV(i,e){return i.isEqualNode(kV)&&FE(i,e)&&i.parentNode.childNodes.length===1}function FE(i,e){const t=i.parentNode;return!!t&&!!t.tagName&&e.includes(t.tagName.toLowerCase())}function Zw(i){i==="script"&&Jt("domconverter-unsafe-script-element-detected"),i==="style"&&Jt("domconverter-unsafe-style-element-detected")}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class dr extends as(){constructor(e){super(),this._isEnabled=!1,this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!e||e.nodeType!==1?!1:e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Wo{constructor(e,t,n){this.view=e,this.document=e.document,this.domEvent=t,this.domTarget=t.target,Ny(this,n)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class qs extends dr{constructor(){super(...arguments),this.useCapture=!1}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(n=>{this.listenTo(e,n,(r,s)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(s.target)&&this.onDomEvent(s)},{useCapture:this.useCapture})})}stopObserving(e){this.stopListening(e)}fire(e,t,n){this.isEnabled&&this.document.fire(e,new Wo(this.view,t,n))}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class RV extends qs{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(e){const t={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return zo(this)}};this.fire(e.type,e,t)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class OV extends dr{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=$o(t=>{this.document.fire("selectionChangeDone",t)},200)}observe(){const e=this.document;e.on("arrowKey",(t,n)=>{e.selection.isFake&&this.isEnabled&&n.preventDefault()},{context:"$capture"}),e.on("arrowKey",(t,n)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(n.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const t=this.document.selection,n=new is(t.getRanges(),{backward:t.isBackward,fake:!1});(e==tt.arrowleft||e==tt.arrowup)&&n.setTo(n.getFirstPosition()),(e==tt.arrowright||e==tt.arrowdown)&&n.setTo(n.getLastPosition());const r={oldSelection:t,newSelection:n,domSelection:null};this.document.fire("selectionChange",r),this._fireSelectionChangeDoneDebounced(r)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class $E extends dr{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const t=this.domConverter,n=new Set,r=new Set;for(const o of e){const l=t.mapDomToView(o.target);l&&(l.is("uiElement")||l.is("rawElement")||o.type==="childList"&&!this._isBogusBrMutation(o)&&r.add(l))}for(const o of e){const l=t.mapDomToView(o.target);if(!(l&&(l.is("uiElement")||l.is("rawElement")))&&o.type==="characterData"){const u=t.findCorrespondingViewText(o.target);u&&!r.has(u.parent)?n.add(u):!u&&ci(o.target)&&r.add(t.mapDomToView(o.target.parentNode))}}let s=!1;for(const o of n)s=!0,this.renderer.markToSync("text",o);for(const o of r){const l=t.mapViewToDom(o),u=Array.from(o.getChildren()),h=Array.from(t.domChildrenToView(l,{withChildren:!1}));YD(u,h,MV)||(s=!0,this.renderer.markToSync("children",o))}s&&this.view.forceRender()}_isBogusBrMutation(e){let t=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}}function MV(i,e){if(!Array.isArray(i))return i===e?!0:i.is("$text")&&e.is("$text")?i.data===e.data:!1}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class hg extends qs{constructor(e){super(e),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const t=this.document;t.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),e.change(()=>{})},50)}),t.on("blur",(n,r)=>{const s=t.selection.editableElement;(s===null||s===r.target)&&(t.isFocused=!1,this._isFocusChanging=!1,e.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class NV extends dr{constructor(e){super(e),this.mutationObserver=e.getObserver($E),this.focusObserver=e.getObserver(hg),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=$o(t=>{this.document.fire("selectionChangeDone",t)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=$o(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const t=e.ownerDocument,n=()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},r=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,t),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",n,{priority:"highest"}),this.listenTo(e,"keydown",r,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",r,{priority:"highest",useCapture:!0}),!this._documents.has(t)&&(this.listenTo(t,"mouseup",r,{priority:"highest",useCapture:!0}),this.listenTo(t,"selectionchange",(s,o)=>{this.document.isComposing&&!qe.isAndroid||(this._handleSelectionChange(o,t),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(t))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e,t){if(!this.isEnabled)return;const n=t.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(n.anchorNode))return;this.mutationObserver.flush();const r=this.domConverter.domSelectionToView(n);if(r.rangeCount==0){this.view.hasDomSelection=!1;return}if(this.view.hasDomSelection=!0,!(this.selection.isEqual(r)&&this.domConverter.isDomSelectionCorrect(n))){if(++this._loopbackCounter>60){this._reportInfiniteLoop();return}if(this.focusObserver.flush(),this.selection.isSimilar(r))this.view.forceRender();else{const s={oldSelection:this.selection,newSelection:r,domSelection:n};this.document.fire("selectionChange",s),this._fireSelectionChangeDoneDebounced(s)}}}_clearInfiniteLoop(){this._loopbackCounter=0}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class DV extends qs{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const t=this.document;t.on("compositionstart",()=>{t.isComposing=!0},{priority:"low"}),t.on("compositionend",()=>{t.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class zE{constructor(e,t={}){this._files=t.cacheFiles?Qw(e):null,this._native=e}get files(){return this._files||(this._files=Qw(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,t){this._native.setData(e,t)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function Qw(i){const e=Array.from(i.files||[]),t=Array.from(i.items||[]);return e.length?e:t.filter(n=>n.kind==="file").map(n=>n.getAsFile())}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class BV extends qs{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(e){const t=e.getTargetRanges(),n=this.view,r=n.document;let s=null,o=null,l=[];if(e.dataTransfer&&(s=new zE(e.dataTransfer)),e.data!==null?o=e.data:s&&(o=s.getData("text/plain")),r.selection.isFake)l=Array.from(r.selection.getRanges());else if(t.length)l=t.map(u=>n.domConverter.domRangeToView(u));else if(qe.isAndroid){const u=e.target.ownerDocument.defaultView.getSelection();l=Array.from(n.domConverter.domSelectionToView(u).getRanges())}if(qe.isAndroid&&e.inputType=="insertCompositionText"&&o&&o.endsWith(`
`)){this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[n.createRange(l[0].end)]});return}if(e.inputType=="insertText"&&o&&o.includes(`
`)){const u=o.split(/\n{1,2}/g);let h=l;for(let f=0;f<u.length;f++){const m=u[f];m!=""&&(this.fire(e.type,e,{data:m,dataTransfer:s,targetRanges:h,inputType:e.inputType,isComposing:e.isComposing}),h=[r.selection.getFirstRange()]),f+1<u.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:h}),h=[r.selection.getFirstRange()])}return}this.fire(e.type,e,{data:o,dataTransfer:s,targetRanges:l,inputType:e.inputType,isComposing:e.isComposing})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class VV extends dr{constructor(e){super(e),this.document.on("keydown",(t,n)=>{if(this.isEnabled&&SB(n.keyCode)){const r=new Qo(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(r,n),r.stop.called&&t.stop()}})}observe(){}stopObserving(){}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class LV extends dr{constructor(e){super(e);const t=this.document;t.on("keydown",(n,r)=>{if(!this.isEnabled||r.keyCode!=tt.tab||r.ctrlKey)return;const s=new Qo(t,"tab",t.selection.getFirstRange());t.fire(s,r),s.stop.called&&n.stop()})}observe(){}stopObserving(){}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let FV=class extends Dt(){constructor(e){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new RE(e),this.domConverter=new LE(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new vV(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new ME(this.document),this.addObserver($E),this.addObserver(hg),this.addObserver(NV),this.addObserver(RV),this.addObserver(OV),this.addObserver(DV),this.addObserver(VV),this.addObserver(BV),this.addObserver(LV),pV(this),lV(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0})}attachDomRoot(e,t="main"){const n=this.document.getRoot(t);n._name=e.tagName.toLowerCase();const r={};for(const{name:o,value:l}of Array.from(e.attributes))r[o]=l,o==="class"?this._writer.addClass(l.split(" "),n):this._writer.setAttribute(o,l,n);this._initialDomRootAttributes.set(e,r);const s=()=>{this._writer.setAttribute("contenteditable",(!n.isReadOnly).toString(),n),n.isReadOnly?this._writer.addClass("ck-read-only",n):this._writer.removeClass("ck-read-only",n)};s(),this.domRoots.set(t,e),this.domConverter.bindElements(e,n),this._renderer.markToSync("children",n),this._renderer.markToSync("attributes",n),this._renderer.domDocuments.add(e.ownerDocument),n.on("change:children",(o,l)=>this._renderer.markToSync("children",l)),n.on("change:attributes",(o,l)=>this._renderer.markToSync("attributes",l)),n.on("change:text",(o,l)=>this._renderer.markToSync("text",l)),n.on("change:isReadOnly",()=>this.change(s)),n.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const o of this._observers.values())o.observe(e,t)}detachDomRoot(e){const t=this.domRoots.get(e);Array.from(t.attributes).forEach(({name:r})=>t.removeAttribute(r));const n=this._initialDomRootAttributes.get(t);for(const r in n)t.setAttribute(r,n[r]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t);for(const r of this._observers.values())r.stopObserving(t)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);for(const[n,r]of this.domRoots)t.observe(r,n);return t.enable(),t}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:t,viewportOffset:n=20,ancestorOffset:r=20}={}){const s=this.document.selection.getFirstRange();s&&vB({target:this.domConverter.viewRangeToDom(s),viewportOffset:n,ancestorOffset:r,alignToTop:e,forceScroll:t})}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new B("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(t){/* istanbul ignore next -- @preserve */B.rethrowUnexpectedError(t,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(hg).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,t){return _e._createAt(e,t)}createPositionAfter(e){return _e._createAfter(e)}createPositionBefore(e){return _e._createBefore(e)}createRange(e,t){return new We(e,t)}createRangeOn(e){return We._createOn(e)}createRangeIn(e){return We._createIn(e)}createSelection(...e){return new is(...e)}_disableRendering(e){this._renderingDisabled=e,e==!1&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ls{is(){throw new Error("is() method is abstract")}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Ks=class extends ls{constructor(e){super(),this.parent=null,this._attrs=Or(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new B("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new B("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent===null?!1:this.root.isAttached()}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}getCommonAncestor(e,t={}){const n=this.getAncestors(t),r=e.getAncestors(t);let s=0;for(;n[s]==r[s]&&n[s];)s++;return s===0?null:n[s-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),n=e.getPath(),r=Rn(t,n);switch(r){case"prefix":return!0;case"extension":return!1;default:return t[r]<n[r]}}isAfter(e){return this==e||this.root!==e.root?!1:!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((t,n)=>(t[n[0]]=n[1],t),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,t){this._attrs.set(e,t)}_setAttributesTo(e){this._attrs=Or(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}};Ks.prototype.is=function(i){return i==="node"||i==="model:node"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class dl{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,t)=>e+t.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const t=this._nodes.indexOf(e);return t==-1?null:t}getNodeStartOffset(e){const t=this.getNodeIndex(e);return t===null?null:this._nodes.slice(0,t).reduce((n,r)=>n+r.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const t=this._nodes[e];if(!t)throw new B("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(t)}offsetToIndex(e){let t=0;for(const n of this._nodes){if(e>=t&&e<t+n.offsetSize)return this.getNodeIndex(n);t+=n.offsetSize}if(t!=e)throw new B("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,t){for(const n of t)if(!(n instanceof Ks))throw new B("model-nodelist-insertnodes-not-node",this);this._nodes=VB(this._nodes,Array.from(t),e,0)}_removeNodes(e,t=1){return this._nodes.splice(e,t)}toJSON(){return this._nodes.map(e=>e.toJSON())}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Bt=class fg extends Ks{constructor(e,t){super(t),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new fg(this.data,this.getAttributes())}static fromJSON(e){return new fg(e.data,e.attributes)}};Bt.prototype.is=function(i){return i==="$text"||i==="model:$text"||i==="text"||i==="model:text"||i==="node"||i==="model:node"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Bi extends ls{constructor(e,t,n){if(super(),this.textNode=e,t<0||t>e.offsetSize)throw new B("model-textproxy-wrong-offsetintext",this);if(n<0||t+n>e.offsetSize)throw new B("model-textproxy-wrong-length",this);this.data=e.data.substring(t,t+n),this.offsetInText=t}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}Bi.prototype.is=function(i){return i==="$textProxy"||i==="model:$textProxy"||i==="textProxy"||i==="model:textProxy"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class gt extends Ks{constructor(e,t,n){super(t),this._children=new dl,this.name=e,n&&this._insertChild(0,n)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let t=this;for(const n of e)t=t.getChild(t.offsetToIndex(n));return t}findAncestor(e,t={}){let n=t.includeSelf?this:this.parent;for(;n;){if(n.name===e)return n;n=n.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const t of this._children)e.children.push(t.toJSON())}return e}_clone(e=!1){const t=e?Array.from(this._children).map(n=>n._clone(!0)):void 0;return new gt(this.name,this.getAttributes(),t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const n=$V(t);for(const r of n)r.parent!==null&&r._remove(),r.parent=this;this._children._insertNodes(e,n)}_removeChildren(e,t=1){const n=this._children._removeNodes(e,t);for(const r of n)r.parent=null;return n}static fromJSON(e){let t;if(e.children){t=[];for(const n of e.children)n.name?t.push(gt.fromJSON(n)):t.push(Bt.fromJSON(n))}return new gt(e.name,e.attributes,t)}}gt.prototype.is=function(i,e){return e?e===this.name&&(i==="element"||i==="model:element"):i==="element"||i==="model:element"||i==="node"||i==="model:node"};function $V(i){return typeof i=="string"?[new Bt(i)]:(hi(i)||(i=[i]),Array.from(i).map(e=>typeof e=="string"?new Bt(e):e instanceof Bi?new Bt(e.data,e.getAttributes()):e))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ir{constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new B("model-tree-walker-no-start-position",null);const t=e.direction||"forward";if(t!="forward"&&t!="backward")throw new B("model-tree-walker-unknown-direction",e,{direction:t});this.direction=t,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=oe._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,n,r,s;do r=this.position,s=this._visitedParent,{done:t,value:n}=this.next();while(!t&&e(n));t||(this._position=r,this._visitedParent=s)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,t=this.position.clone(),n=this._visitedParent;if(n.parent===null&&t.offset===n.maxOffset)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const r=hl(t,n),s=r||WE(t,n,r);if(s instanceof gt)return this.shallow?t.offset++:(t.path.push(0),this._visitedParent=s),this._position=t,Ss("elementStart",s,e,t,1);if(s instanceof Bt){let o;if(this.singleCharacters)o=1;else{let h=s.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<h&&(h=this.boundaries.end.offset),o=h-t.offset}const l=t.offset-s.startOffset,u=new Bi(s,l,o);return t.offset+=o,this._position=t,Ss("text",u,e,t,o)}else return t.path.pop(),t.offset++,this._position=t,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():Ss("elementEnd",n,e,t)}_previous(){const e=this.position,t=this.position.clone(),n=this._visitedParent;if(n.parent===null&&t.offset===0)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const r=t.parent,s=hl(t,r),o=s||jE(t,r,s);if(o instanceof gt)return t.offset--,this.shallow?(this._position=t,Ss("elementStart",o,e,t,1)):(t.path.push(o.maxOffset),this._position=t,this._visitedParent=o,this.ignoreElementEnd?this._previous():Ss("elementEnd",o,e,t));if(o instanceof Bt){let l;if(this.singleCharacters)l=1;else{let f=o.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>f&&(f=this.boundaries.start.offset),l=t.offset-f}const u=t.offset-o.startOffset,h=new Bi(o,u-l,l);return t.offset-=l,this._position=t,Ss("text",h,e,t,l)}else return t.path.pop(),this._position=t,this._visitedParent=n.parent,Ss("elementStart",n,e,t,1)}}function Ss(i,e,t,n,r){return{done:!1,value:{type:i,item:e,previousPosition:t,nextPosition:n,length:r}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class oe extends ls{constructor(e,t,n="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new B("model-position-root-invalid",e);if(!(t instanceof Array)||t.length===0)throw new B("model-position-path-incorrect-format",e,{path:t});e.is("rootElement")?t=t.slice():(t=[...e.getPath(),...t],e=e.root),this.root=e,this.path=t,this.stickiness=n}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let t=0;t<this.path.length-1;t++)if(e=e.getChild(e.offsetToIndex(this.path[t])),!e)throw new B("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new B("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return hl(this,this.parent)}get nodeAfter(){const e=this.parent;return WE(this,e,hl(this,e))}get nodeBefore(){const e=this.parent;return jE(this,e,hl(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const t=Rn(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}getLastMatchingPosition(e,t={}){t.startPosition=this;const n=new ir(t);return n.skip(e),n.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const t=this.parent;return t.is("element")?t.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const t=Rn(this.path,e.path),n=typeof t=="string"?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,n)}getCommonAncestor(e){const t=this.getAncestors(),n=e.getAncestors();let r=0;for(;t[r]==n[r]&&t[r];)r++;return r===0?null:t[r-1]}getShiftedBy(e){const t=this.clone(),n=t.offset+e;return t.offset=n<0?0:n,t}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const t=Math.min(this.path.length,e.path.length);for(let n=0;n<t;n++){const r=this.path[n]-e.path[n];if(r<-1||r>1)return!1;if(r===1)return eb(e,this,n);if(r===-1)return eb(this,e,n)}return this.path.length===e.path.length?!0:this.path.length>e.path.length?mg(this.path,t):mg(e.path,t)}hasSameParentAs(e){if(this.root!==e.root)return!1;const t=this.getParentPath(),n=e.getParentPath();return Rn(t,n)=="same"}getTransformedByOperation(e){let t;switch(e.type){case"insert":t=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":t=this._getTransformedByMoveOperation(e);break;case"split":t=this._getTransformedBySplitOperation(e);break;case"merge":t=this._getTransformedByMergeOperation(e);break;default:t=oe._createAt(this);break}return t}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const t=e.movedRange,n=t.containsPosition(this)||t.start.isEqual(this);let r;return n?(r=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(r=r._getTransformedByDeletion(e.deletionPosition,1))):this.isEqual(e.deletionPosition)?r=oe._createAt(e.deletionPosition):r=this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),r}_getTransformedByDeletion(e,t){const n=oe._createAt(this);if(this.root!=e.root)return n;if(Rn(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+t>this.offset)return null;n.offset-=t}}else if(Rn(e.getParentPath(),this.getParentPath())=="prefix"){const r=e.path.length-1;if(e.offset<=this.path[r]){if(e.offset+t>this.path[r])return null;n.path[r]-=t}}return n}_getTransformedByInsertion(e,t){const n=oe._createAt(this);if(this.root!=e.root)return n;if(Rn(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(n.offset+=t);else if(Rn(e.getParentPath(),this.getParentPath())=="prefix"){const r=e.path.length-1;e.offset<=this.path[r]&&(n.path[r]+=t)}return n}_getTransformedByMove(e,t,n){if(t=t._getTransformedByDeletion(e,n),e.isEqual(t))return oe._createAt(this);const r=this._getTransformedByDeletion(e,n);return r===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(n).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,t):r._getTransformedByInsertion(t,n)}_getCombined(e,t){const n=e.path.length-1,r=oe._createAt(t);return r.stickiness=this.stickiness,r.offset=r.offset+this.path[n]-e.offset,r.path=[...r.path,...this.path.slice(n+1)],r}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,t,n="toNone"){if(e instanceof oe)return new oe(e.root,e.path,e.stickiness);{const r=e;if(t=="end")t=r.maxOffset;else{if(t=="before")return this._createBefore(r,n);if(t=="after")return this._createAfter(r,n);if(t!==0&&!t)throw new B("model-createpositionat-offset-required",[this,e])}if(!r.is("element")&&!r.is("documentFragment"))throw new B("model-position-parent-incorrect",[this,e]);const s=r.getPath();return s.push(t),new this(r.root,s,n)}}static _createAfter(e,t){if(!e.parent)throw new B("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}static _createBefore(e,t){if(!e.parent)throw new B("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}static fromJSON(e,t){if(e.root==="$graveyard"){const n=new oe(t.graveyard,e.path);return n.stickiness=e.stickiness,n}if(!t.getRoot(e.root))throw new B("model-position-fromjson-no-root",t,{rootName:e.root});return new oe(t.getRoot(e.root),e.path,e.stickiness)}}oe.prototype.is=function(i){return i==="position"||i==="model:position"};function hl(i,e){const t=e.getChild(e.offsetToIndex(i.offset));return t&&t.is("$text")&&t.startOffset<i.offset?t:null}function WE(i,e,t){return t!==null?null:e.getChild(e.offsetToIndex(i.offset))}function jE(i,e,t){return t!==null?null:e.getChild(e.offsetToIndex(i.offset)-1)}function eb(i,e,t){return!(t+1===i.path.length||!mg(e.path,t+1)||!zV(i,t+1))}function mg(i,e){for(;e<i.length;){if(i[e]!==0)return!1;e++}return!0}function zV(i,e){let t=i.parent,n=i.path.length-1,r=0;for(;n>=e;){if(i.path[n]+r!==t.maxOffset)return!1;r=1,n--,t=t.parent}return!0}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class X extends ls{constructor(e,t){super(),this.start=oe._createAt(e),this.end=t?oe._createAt(t):oe._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new ir({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){const e=this.start.getParentPath(),t=this.end.getParentPath();return Rn(e,t)=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),r=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&r}containsItem(e){const t=oe._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new X(this.start,e.start)),this.containsPosition(e.end)&&t.push(new X(e.end,this.end))):t.push(new X(this.start,this.end)),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,n=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(n=e.end),new X(t,n)}return null}getJoined(e,t=!1){let n=this.isIntersecting(e);if(n||(this.start.isBefore(e.start)?n=t?this.end.isTouching(e.start):this.end.isEqual(e.start):n=t?e.end.isTouching(this.start):e.end.isEqual(this.start)),!n)return null;let r=this.start,s=this.end;return e.start.isBefore(r)&&(r=e.start),e.end.isAfter(s)&&(s=e.end),new X(r,s)}getMinimalFlatRanges(){const e=[],t=this.start.getCommonPath(this.end).length,n=oe._createAt(this.start);let r=n.parent;for(;n.path.length>t+1;){const s=r.maxOffset-n.offset;s!==0&&e.push(new X(n,n.getShiftedBy(s))),n.path=n.path.slice(0,-1),n.offset++,r=r.parent}for(;n.path.length<=this.end.path.length;){const s=this.end.path[n.path.length-1],o=s-n.offset;o!==0&&e.push(new X(n,n.getShiftedBy(o))),n.offset=s,n.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new ir(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new ir(e);for(const n of t)yield n.item}*getPositions(e={}){e.boundaries=this;const t=new ir(e);yield t.position;for(const n of t)yield n.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new X(this.start,this.end)]}getTransformedByOperations(e){const t=[new X(this.start,this.end)];for(const n of e)for(let r=0;r<t.length;r++){const s=t[r].getTransformedByOperation(n);t.splice(r,1,...s),r+=s.length-1}for(let n=0;n<t.length;n++){const r=t[n];for(let s=n+1;s<t.length;s++){const o=t[s];(r.containsRange(o)||o.containsRange(r)||r.isEqual(o))&&t.splice(s,1)}}return t}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,t=!1){return this._getTransformedByInsertion(e.position,e.howMany,t)}_getTransformedByMoveOperation(e,t=!1){const n=e.sourcePosition,r=e.howMany,s=e.targetPosition;return this._getTransformedByMove(n,s,r,t)}_getTransformedBySplitOperation(e){const t=this.start._getTransformedBySplitOperation(e);let n=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(n=this.end.getShiftedBy(1)),t.root!=n.root&&(n=this.end.getShiftedBy(-1)),new X(t,n)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new X(this.start);let t=this.start._getTransformedByMergeOperation(e),n=this.end._getTransformedByMergeOperation(e);return t.root!=n.root&&(n=this.end.getShiftedBy(-1)),t.isAfter(n)?(e.sourcePosition.isBefore(e.targetPosition)?(t=oe._createAt(n),t.offset=0):(e.deletionPosition.isEqual(t)||(n=e.deletionPosition),t=e.targetPosition),new X(t,n)):new X(t,n)}_getTransformedByInsertion(e,t,n=!1){if(n&&this.containsPosition(e))return[new X(this.start,e),new X(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))];{const r=new X(this.start,this.end);return r.start=r.start._getTransformedByInsertion(e,t),r.end=r.end._getTransformedByInsertion(e,t),[r]}}_getTransformedByMove(e,t,n,r=!1){if(this.isCollapsed){const m=this.start._getTransformedByMove(e,t,n);return[new X(m)]}const s=X._createFromPositionAndShift(e,n),o=t._getTransformedByDeletion(e,n);if(this.containsPosition(t)&&!r&&(s.containsPosition(this.start)||s.containsPosition(this.end))){const m=this.start._getTransformedByMove(e,t,n),v=this.end._getTransformedByMove(e,t,n);return[new X(m,v)]}let l;const u=this.getDifference(s);let h=null;const f=this.getIntersection(s);if(u.length==1?h=new X(u[0].start._getTransformedByDeletion(e,n),u[0].end._getTransformedByDeletion(e,n)):u.length==2&&(h=new X(this.start,this.end._getTransformedByDeletion(e,n))),h?l=h._getTransformedByInsertion(o,n,f!==null||r):l=[],f){const m=new X(f.start._getCombined(s.start,o),f.end._getCombined(s.start,o));l.length==2?l.splice(1,0,m):l.push(m)}return l}_getTransformedByDeletion(e,t){let n=this.start._getTransformedByDeletion(e,t),r=this.end._getTransformedByDeletion(e,t);return n==null&&r==null?null:(n==null&&(n=e),r==null&&(r=e),new X(n,r))}static _createFromPositionAndShift(e,t){const n=e,r=e.getShiftedBy(t);return t>0?new this(n,r):new this(r,n)}static _createIn(e){return new this(oe._createAt(e,0),oe._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(oe._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new B("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const t=e[0];e.sort((s,o)=>s.start.isAfter(o.start)?1:-1);const n=e.indexOf(t),r=new this(t.start,t.end);if(n>0)for(let s=n-1;e[s].end.isEqual(r.start);s++)r.start=oe._createAt(e[s].start);for(let s=n+1;s<e.length&&e[s].start.isEqual(r.end);s++)r.end=oe._createAt(e[s].end);return r}static fromJSON(e,t){return new this(oe.fromJSON(e.start,t),oe.fromJSON(e.end,t))}}X.prototype.is=function(i){return i==="range"||i==="model:range"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class UE extends kt(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,t)=>{if(t.viewPosition)return;const n=this._modelToViewMapping.get(t.modelPosition.parent);if(!n)throw new B("mapping-model-position-view-parent-not-found",this,{modelPosition:t.modelPosition});t.viewPosition=this.findPositionIn(n,t.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,t)=>{if(t.modelPosition)return;const n=this.findMappedViewAncestor(t.viewPosition),r=this._viewToModelMapping.get(n),s=this._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,n);t.modelPosition=oe._createAt(r,s)},{priority:"low"})}bindElements(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}unbindViewElement(e,t={}){const n=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const r of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(r);t.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(n)==e&&this._modelToViewMapping.delete(n))}unbindModelElement(e){const t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}bindElementToMarker(e,t){const n=this._markerNameToElements.get(t)||new Set;n.add(e);const r=this._elementToMarkerNames.get(e)||new Set;r.add(t),this._markerNameToElements.set(t,n),this._elementToMarkerNames.set(e,r)}unbindElementFromMarkerName(e,t){const n=this._markerNameToElements.get(t);n&&(n.delete(e),n.size==0&&this._markerNameToElements.delete(t));const r=this._elementToMarkerNames.get(e);r&&(r.delete(t),r.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,t]of this._deferredBindingRemovals)e.root==t&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new X(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new We(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const t={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",t),t.modelPosition}toViewPosition(e,t={}){const n={modelPosition:e,mapper:this,isPhantom:t.isPhantom};return this.fire("modelToViewPosition",n),n.viewPosition}markerNameToElements(e){const t=this._markerNameToElements.get(e);if(!t)return null;const n=new Set;for(const r of t)if(r.is("attributeElement"))for(const s of r.getElementsWithSameId())n.add(s);else n.add(r);return n}registerViewToModelLength(e,t){this._viewToModelLengthCallbacks.set(e,t)}findMappedViewAncestor(e){let t=e.parent;for(;!this._viewToModelMapping.has(t);)t=t.parent;return t}_toModelOffset(e,t,n){if(n!=e){const s=this._toModelOffset(e.parent,e.index,n),o=this._toModelOffset(e,t,e);return s+o}if(e.is("$text"))return t;let r=0;for(let s=0;s<t;s++)r+=this.getModelLength(e.getChild(s));return r}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let t=0;for(const n of e.getChildren())t+=this.getModelLength(n);return t}}findPositionIn(e,t){let n,r=0,s=0,o=0;if(e.is("$text"))return new _e(e,t);for(;s<t;)n=e.getChild(o),r=this.getModelLength(n),s+=r,o++;return s==t?this._moveViewPositionToTextNode(new _e(e,o)):this.findPositionIn(n,t-(s-r))}_moveViewPositionToTextNode(e){const t=e.nodeBefore,n=e.nodeAfter;return t instanceof Vt?new _e(t,t.data.length):n instanceof Vt?new _e(n,0):e}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class WV{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,t){t=Wu(t),e instanceof Bi&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}consume(e,t){return t=Wu(t),e instanceof Bi&&(e=this._getSymbolForTextProxy(e)),this.test(e,t)?(this._consumable.get(e).set(t,!1),!0):!1}test(e,t){t=Wu(t),e instanceof Bi&&(e=this._getSymbolForTextProxy(e));const n=this._consumable.get(e);if(n===void 0)return null;const r=n.get(t);return r===void 0?null:r}revert(e,t){t=Wu(t),e instanceof Bi&&(e=this._getSymbolForTextProxy(e));const n=this.test(e,t);return n===!1?(this._consumable.get(e).set(t,!0),!0):n===!0?!1:null}verifyAllConsumed(e){const t=[];for(const[n,r]of this._consumable)for(const[s,o]of r){const l=s.split(":")[0];o&&e==l&&t.push({event:s,item:n.name||n.description})}if(t.length)throw new B("conversion-model-consumable-not-consumed",null,{items:t})}_getSymbolForTextProxy(e){let t=null;const n=this._textProxyRegistry.get(e.startOffset);if(n){const r=n.get(e.endOffset);r&&(t=r.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e)),t}_addSymbolForTextProxy(e){const t=e.startOffset,n=e.endOffset,r=e.parent,s=Symbol("$textProxy:"+e.data);let o,l;return o=this._textProxyRegistry.get(t),o||(o=new Map,this._textProxyRegistry.set(t,o)),l=o.get(n),l||(l=new Map,o.set(n,l)),l.set(r,s),s}}function Wu(i){const e=i.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?i:e.length>1?e[0]+":"+e[1]:e[0]}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class HE extends kt(){constructor(e){super(),this._conversionApi={dispatcher:this,...e},this._firedEventsMap=new WeakMap}convertChanges(e,t,n){const r=this._createConversionApi(n,e.getRefreshedItems());for(const o of e.getMarkersToRemove())this._convertMarkerRemove(o.name,o.range,r);const s=this._reduceChanges(e.getChanges());for(const o of s)o.type==="insert"?this._convertInsert(X._createFromPositionAndShift(o.position,o.length),r):o.type==="reinsert"?this._convertReinsert(X._createFromPositionAndShift(o.position,o.length),r):o.type==="remove"?this._convertRemove(o.position,o.length,o.name,r):this._convertAttribute(o.range,o.attributeKey,o.attributeOldValue,o.attributeNewValue,r);for(const o of r.mapper.flushUnboundMarkerNames()){const l=t.get(o).getRange();this._convertMarkerRemove(o,l,r),this._convertMarkerAdd(o,l,r)}for(const o of e.getMarkersToAdd())this._convertMarkerAdd(o.name,o.range,r);r.mapper.flushDeferredBindings(),r.consumable.verifyAllConsumed("insert")}convert(e,t,n,r={}){const s=this._createConversionApi(n,void 0,r);this._convertInsert(e,s);for(const[o,l]of t)this._convertMarkerAdd(o,l,s);s.consumable.verifyAllConsumed("insert")}convertSelection(e,t,n){const r=Array.from(t.getMarkersAtPosition(e.getFirstPosition())),s=this._createConversionApi(n);if(this._addConsumablesForSelection(s.consumable,e,r),this.fire("selection",{selection:e},s),!!e.isCollapsed){for(const o of r){const l=o.getRange();if(!jV(e.getFirstPosition(),o,s.mapper))continue;const u={item:e,markerName:o.name,markerRange:l};s.consumable.test(e,"addMarker:"+o.name)&&this.fire(`addMarker:${o.name}`,u,s)}for(const o of e.getAttributeKeys()){const l={item:e,range:e.getFirstRange(),attributeKey:o,attributeOldValue:null,attributeNewValue:e.getAttribute(o)};s.consumable.test(e,"attribute:"+l.attributeKey)&&this.fire(`attribute:${l.attributeKey}:$text`,l,s)}}}_convertInsert(e,t,n={}){n.doNotAddConsumables||this._addConsumablesForInsert(t.consumable,Array.from(e));for(const r of Array.from(e.getWalker({shallow:!0})).map(tb))this._testAndFire("insert",r,t)}_convertRemove(e,t,n,r){this.fire(`remove:${n}`,{position:e,length:t},r)}_convertAttribute(e,t,n,r,s){this._addConsumablesForRange(s.consumable,e,`attribute:${t}`);for(const o of e){const l={item:o.item,range:X._createFromPositionAndShift(o.previousPosition,o.length),attributeKey:t,attributeOldValue:n,attributeNewValue:r};this._testAndFire(`attribute:${t}`,l,s)}}_convertReinsert(e,t){const n=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(t.consumable,n);for(const r of n.map(tb))this._testAndFire("insert",{...r,reconversion:!0},t)}_convertMarkerAdd(e,t,n){if(t.root.rootName=="$graveyard")return;const r=`addMarker:${e}`;if(n.consumable.add(t,r),this.fire(r,{markerName:e,markerRange:t},n),!!n.consumable.consume(t,r)){this._addConsumablesForRange(n.consumable,t,r);for(const s of t.getItems()){if(!n.consumable.test(s,r))continue;const o={item:s,range:X._createOn(s),markerName:e,markerRange:t};this.fire(r,o,n)}}}_convertMarkerRemove(e,t,n){t.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:t},n)}_reduceChanges(e){const t={changes:e};return this.fire("reduceChanges",t),t.changes}_addConsumablesForInsert(e,t){for(const n of t){const r=n.item;if(e.test(r,"insert")===null){e.add(r,"insert");for(const s of r.getAttributeKeys())e.add(r,"attribute:"+s)}}return e}_addConsumablesForRange(e,t,n){for(const r of t.getItems())e.add(r,n);return e}_addConsumablesForSelection(e,t,n){e.add(t,"selection");for(const r of n)e.add(t,"addMarker:"+r.name);for(const r of t.getAttributeKeys())e.add(t,"attribute:"+r);return e}_testAndFire(e,t,n){const r=UV(e,t),s=t.item.is("$textProxy")?n.consumable._getSymbolForTextProxy(t.item):t.item,o=this._firedEventsMap.get(n),l=o.get(s);if(!l)o.set(s,new Set([r]));else if(!l.has(r))l.add(r);else return;this.fire(r,t,n)}_testAndFireAddAttributes(e,t){const n={item:e,range:X._createOn(e)};for(const r of n.item.getAttributeKeys())n.attributeKey=r,n.attributeOldValue=null,n.attributeNewValue=n.item.getAttribute(r),this._testAndFire(`attribute:${r}`,n,t)}_createConversionApi(e,t=new Set,n={}){const r={...this._conversionApi,consumable:new WV,writer:e,options:n,convertItem:s=>this._convertInsert(X._createOn(s),r),convertChildren:s=>this._convertInsert(X._createIn(s),r,{doNotAddConsumables:!0}),convertAttributes:s=>this._testAndFireAddAttributes(s,r),canReuseView:s=>!t.has(r.mapper.toModelElement(s))};return this._firedEventsMap.set(r,new Map),r}}function jV(i,e,t){const n=e.getRange(),r=Array.from(i.getAncestors());return r.shift(),r.reverse(),!r.some(o=>{if(n.containsItem(o))return!!t.toViewElement(o).getCustomProperty("addHighlight")})}function UV(i,e){const t=e.item.is("element")?e.item.name:"$text";return`${i}:${t}`}function tb(i){const e=i.item,t=X._createFromPositionAndShift(i.previousPosition,i.length);return{item:e,range:t}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Vi extends kt(ls){constructor(...e){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1?this._ranges[0].isCollapsed:!1}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let n=!1;for(const r of e._ranges)if(t.isEqual(r)){n=!0;break}if(!n)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new X(e.start,e.end)}getFirstRange(){let e=null;for(const t of this._ranges)(!e||t.start.isBefore(e.start))&&(e=t);return e?new X(e.start,e.end):null}getLastRange(){let e=null;for(const t of this._ranges)(!e||t.end.isAfter(e.end))&&(e=t);return e?new X(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[t,n,r]=e;if(typeof n=="object"&&(r=n,n=void 0),t===null)this._setRanges([]);else if(t instanceof Vi)this._setRanges(t.getRanges(),t.isBackward);else if(t&&typeof t.getRanges=="function")this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof X)this._setRanges([t],!!r&&!!r.backward);else if(t instanceof oe)this._setRanges([new X(t)]);else if(t instanceof Ks){const s=!!r&&!!r.backward;let o;if(n=="in")o=X._createIn(t);else if(n=="on")o=X._createOn(t);else if(n!==void 0)o=new X(oe._createAt(t,n));else throw new B("model-selection-setto-required-second-parameter",[this,t]);this._setRanges([o],s)}else if(hi(t))this._setRanges(t,r&&!!r.backward);else throw new B("model-selection-setto-not-selectable",[this,t])}_setRanges(e,t=!1){const n=Array.from(e),r=n.some(s=>{if(!(s instanceof X))throw new B("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(o=>!o.isEqual(s))});n.length===this._ranges.length&&!r||(this._replaceAllRanges(n),this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0}))}setFocus(e,t){if(this.anchor===null)throw new B("model-selection-setfocus-no-ranges",[this,e]);const n=oe._createAt(e,t);if(n.compareWith(this.focus)=="same")return;const r=this.anchor;this._ranges.length&&this._popRange(),n.compareWith(r)=="before"?(this._pushRange(new X(n,r)),this._lastRangeBackward=!0):(this._pushRange(new X(r,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const t of this.getRanges()){const n=nb(t.start,e);qV(n,t)&&(yield n);for(const s of t.getWalker()){const o=s.item;s.type=="elementEnd"&&HV(o,e,t)&&(yield o)}const r=nb(t.end,e);KV(r,t)&&(yield r)}}containsEntireContent(e=this.anchor.root){const t=oe._createAt(e,0),n=oe._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new X(e.start,e.end))}_checkRange(e){for(let t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new B("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}_replaceAllRanges(e){this._removeAllRanges();for(const t of e)this._pushRange(t)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}Vi.prototype.is=function(i){return i==="selection"||i==="model:selection"};function qE(i,e){return e.has(i)?!1:(e.add(i),i.root.document.model.schema.isBlock(i)&&!!i.parent)}function HV(i,e,t){return qE(i,e)&&cp(i,t)}function nb(i,e){const n=i.parent.root.document.model.schema,r=i.parent.getAncestors({parentFirst:!0,includeSelf:!0});let s=!1;const o=r.find(l=>s?!1:(s=n.isLimit(l),!s&&qE(l,e)));return r.forEach(l=>e.add(l)),o}function cp(i,e){const t=GV(i);return t?!e.containsRange(X._createOn(t),!0):!0}function qV(i,e){return i?e.isCollapsed||i.isEmpty?!0:e.start.isTouching(oe._createAt(i,i.maxOffset))?!1:cp(i,e):!1}function KV(i,e){return i?e.isCollapsed||i.isEmpty?!0:e.end.isTouching(oe._createAt(i,0))?!1:cp(i,e):!1}function GV(i){const e=i.root.document.model.schema;let t=i.parent;for(;t;){if(e.isBlock(t))return t;t=t.parent}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ur extends kt(X){constructor(e,t){super(e,t),YV.call(this)}detach(){this.stopListening()}toRange(){return new X(this.start,this.end)}static fromRange(e){return new ur(e.start,e.end)}}ur.prototype.is=function(i){return i==="liveRange"||i==="model:liveRange"||i=="range"||i==="model:range"};function YV(){this.listenTo(this.root.document.model,"applyOperation",(i,e)=>{const t=e[0];t.isDocumentOperation&&JV.call(this,t)},{priority:"low"})}function JV(i){const e=this.getTransformedByOperation(i),t=X._createFromRanges(e),n=!t.isEqual(this),r=XV(this,i);let s=null;if(n){t.root.rootName=="$graveyard"&&(i.type=="remove"?s=i.sourcePosition:s=i.deletionPosition);const o=this.toRange();this.start=t.start,this.end=t.end,this.fire("change:range",o,{deletionPosition:s})}else r&&this.fire("change:content",this.toRange(),{deletionPosition:s})}function XV(i,e){switch(e.type){case"insert":return i.containsPosition(e.position);case"move":case"remove":case"reinsert":case"merge":return i.containsPosition(e.sourcePosition)||i.start.isEqual(e.sourcePosition)||i.containsPosition(e.targetPosition);case"split":return i.containsPosition(e.splitPosition)||i.containsPosition(e.insertionPosition)}return!1}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const El="selection:";class zi extends kt(ls){constructor(e){super(),this._selection=new ZV(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,t){this._selection.setFocus(e,t)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,t){this._selection.setAttribute(e,t)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return El+e}static _isStoreAttributeKey(e){return e.startsWith(El)}}zi.prototype.is=function(i){return i==="selection"||i=="model:selection"||i=="documentSelection"||i=="model:documentSelection"};class ZV extends Vi{constructor(e){super(),this.markers=new Br({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(t,n)=>{const r=n[0];!r.isDocumentOperation||r.type=="marker"||r.type=="rename"||r.type=="noop"||(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(t,n,r,s)=>{this._updateMarker(n,s)}),this.listenTo(this._document,"change",(t,n)=>{QV(this._model,n)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,t){super.setFocus(e,t),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,t){if(this._setAttribute(e,t)){const n=[e];this.fire("change:attribute",{attributeKeys:n,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}overrideGravity(){const e=Rr();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new B("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const t=this._prepareRange(e);t&&this._ranges.push(t)}_validateSelectionRanges(e){for(const t of e)if(!this._document._validateSelectionRange(t))throw new B("document-selection-wrong-position",this,{range:t})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const t=ur.fromRange(e);return t.on("change:range",(n,r,s)=>{if(this._hasChangedRange=!0,t.root==this._document.graveyard){this._selectionRestorePosition=s.deletionPosition;const o=this._ranges.indexOf(t);this._ranges.splice(o,1),t.detach()}}),t}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let t=!1;for(const r of this._model.markers){const s=r.name.split(":",1)[0];if(!this._observedMarkers.has(s))continue;const o=r.getRange();for(const l of this.getRanges())o.containsRange(l,!l.isCollapsed)&&e.push(r)}const n=Array.from(this.markers);for(const r of e)this.markers.has(r)||(this.markers.add(r),t=!0);for(const r of Array.from(this.markers))e.includes(r)||(this.markers.remove(r),t=!0);t&&this.fire("change:marker",{oldMarkers:n,directChange:!1})}_updateMarker(e,t){const n=e.name.split(":",1)[0];if(!this._observedMarkers.has(n))return;let r=!1;const s=Array.from(this.markers),o=this.markers.has(e);if(!t)o&&(this.markers.remove(e),r=!0);else{let l=!1;for(const u of this.getRanges())if(t.containsRange(u,!u.isCollapsed)){l=!0;break}l&&!o?(this.markers.add(e),r=!0):!l&&o&&(this.markers.remove(e),r=!0)}r&&this.fire("change:marker",{oldMarkers:s,directChange:!1})}_updateAttributes(e){const t=Or(this._getSurroundingAttributes()),n=Or(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[s,o]of this._attributePriority)o=="low"&&(this._attrs.delete(s),this._attributePriority.delete(s));this._setAttributesTo(t);const r=[];for(const[s,o]of this.getAttributes())(!n.has(s)||n.get(s)!==o)&&r.push(s);for(const[s]of n)this.hasAttribute(s)||r.push(s);r.length>0&&this.fire("change:attribute",{attributeKeys:r,directChange:!1})}_setAttribute(e,t,n=!0){const r=n?"normal":"low";return r=="low"&&this._attributePriority.get(e)=="normal"||super.getAttribute(e)===t?!1:(this._attrs.set(e,t),this._attributePriority.set(e,r),!0)}_removeAttribute(e,t=!0){const n=t?"normal":"low";return n=="low"&&this._attributePriority.get(e)=="normal"||(this._attributePriority.set(e,n),!super.hasAttribute(e))?!1:(this._attrs.delete(e),!0)}_setAttributesTo(e){const t=new Set;for(const[n,r]of this.getAttributes())e.get(n)!==r&&this._removeAttribute(n,!1);for(const[n,r]of e)this._setAttribute(n,r,!1)&&t.add(n);return t}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const t of e.getAttributeKeys())t.startsWith(El)&&(yield[t.substr(El.length),e.getAttribute(t)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),t=this._model.schema;let n=null;if(this.isCollapsed){const r=e.textNode?e.textNode:e.nodeBefore,s=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(n=ju(r)),n||(n=ju(s)),!this.isGravityOverridden&&!n){let o=r;for(;o&&!t.isInline(o)&&!n;)o=o.previousSibling,n=ju(o)}if(!n){let o=s;for(;o&&!t.isInline(o)&&!n;)o=o.nextSibling,n=ju(o)}n||(n=this.getStoredAttributes())}else{const r=this.getFirstRange();for(const s of r){if(s.item.is("element")&&t.isObject(s.item))break;if(s.type=="text"){n=s.item.getAttributes();break}}}return n}_fixGraveyardSelection(e){const t=this._model.schema.getNearestSelectionRange(e);t&&this._pushRange(t)}}function ju(i){return i instanceof Bi||i instanceof Bt?i.getAttributes():null}function QV(i,e){const t=i.document.differ;for(const n of t.getChanges()){if(n.type!="insert")continue;const r=n.position.parent;n.length===r.maxOffset&&i.enqueueChange(e,o=>{const l=Array.from(r.getAttributeKeys()).filter(u=>u.startsWith(El));for(const u of l)o.removeAttribute(u,r)})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class KE{constructor(e){this._dispatchers=e}add(e){for(const t of this._dispatchers)e(t);return this}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class eL extends KE{elementToElement(e){return this.add(vL(e))}elementToStructure(e){return this.add(wL(e))}attributeToElement(e){return this.add(bL(e))}attributeToAttribute(e){return this.add(yL(e))}markerToElement(e){return this.add(EL(e))}markerToHighlight(e){return this.add(SL(e))}markerToData(e){return this.add(CL(e))}}function GE(){return(i,e,t)=>{if(!t.consumable.consume(e.item,i.name))return;const n=t.writer,r=t.mapper.toViewPosition(e.range.start),s=n.createText(e.item.data);n.insert(r,s)}}function YE(){return(i,e,t)=>{t.convertAttributes(e.item),!e.reconversion&&e.item.is("element")&&!e.item.isEmpty&&t.convertChildren(e.item)}}function tL(){return(i,e,t)=>{const n=t.mapper.toViewPosition(e.position),r=e.position.getShiftedBy(e.length),s=t.mapper.toViewPosition(r,{isPhantom:!0}),o=t.writer.createRange(n,s),l=t.writer.remove(o.getTrimmed());for(const u of t.writer.createRangeIn(l).getItems())t.mapper.unbindViewElement(u,{defer:!0})}}function JE(i,e){const t=i.createAttributeElement("span",e.attributes);return e.classes&&t._addClass(e.classes),typeof e.priority=="number"&&(t._priority=e.priority),t._id=e.id,t}function nL(){return(i,e,t)=>{const n=e.selection;if(n.isCollapsed||!t.consumable.consume(n,"selection"))return;const r=[];for(const s of n.getRanges())r.push(t.mapper.toViewRange(s));t.writer.setSelection(r,{backward:n.isBackward})}}function iL(){return(i,e,t)=>{const n=e.selection;if(!n.isCollapsed||!t.consumable.consume(n,"selection"))return;const r=t.writer,s=n.getFirstPosition(),o=t.mapper.toViewPosition(s),l=r.breakAttributes(o);r.setSelection(l)}}function rL(){return(i,e,t)=>{const n=t.writer,r=n.document.selection;for(const s of r.getRanges())s.isCollapsed&&s.end.parent.isAttached()&&t.writer.mergeAttributes(s.start);n.setSelection(null)}}function sL(i){return(e,t,n)=>{if(!n.consumable.test(t.item,e.name))return;const r=i(t.attributeOldValue,n,t),s=i(t.attributeNewValue,n,t);if(!r&&!s)return;n.consumable.consume(t.item,e.name);const o=n.writer,l=o.document.selection;if(t.item instanceof Vi||t.item instanceof zi)o.wrap(l.getFirstRange(),s);else{let u=n.mapper.toViewRange(t.range);t.attributeOldValue!==null&&r&&(u=o.unwrap(u,r)),t.attributeNewValue!==null&&s&&o.wrap(u,s)}}}function oL(i,e=RL){return(t,n,r)=>{if(!e(n.item,r.consumable,{preflight:!0}))return;const s=i(n.item,r,n);if(!s)return;e(n.item,r.consumable);const o=r.mapper.toViewPosition(n.range.start);r.mapper.bindElements(n.item,s),r.writer.insert(o,s),r.convertAttributes(n.item),tC(s,n.item.getChildren(),r,{reconversion:n.reconversion})}}function aL(i,e){return(t,n,r)=>{if(!e(n.item,r.consumable,{preflight:!0}))return;const s=new Map;r.writer._registerSlotFactory(kL(n.item,s,r));const o=i(n.item,r,n);if(r.writer._clearSlotFactory(),!o)return;AL(n.item,s,r),e(n.item,r.consumable);const l=r.mapper.toViewPosition(n.range.start);r.mapper.bindElements(n.item,o),r.writer.insert(l,o),r.convertAttributes(n.item),PL(o,s,r,{reconversion:n.reconversion})}}function lL(i){return(e,t,n)=>{t.isOpening=!0;const r=i(t,n);t.isOpening=!1;const s=i(t,n);if(!r||!s)return;const o=t.markerRange;if(o.isCollapsed&&!n.consumable.consume(o,e.name))return;for(const h of o)if(!n.consumable.consume(h.item,e.name))return;const l=n.mapper,u=n.writer;u.insert(l.toViewPosition(o.start),r),n.mapper.bindElementToMarker(r,t.markerName),o.isCollapsed||(u.insert(l.toViewPosition(o.end),s),n.mapper.bindElementToMarker(s,t.markerName)),e.stop()}}function cL(){return(i,e,t)=>{const n=t.mapper.markerNameToElements(e.markerName);if(n){for(const r of n)t.mapper.unbindElementFromMarkerName(r,e.markerName),t.writer.clear(t.writer.createRangeOn(r),r);t.writer.clearClonedElementsGroup(e.markerName),i.stop()}}}function uL(i){return(e,t,n)=>{const r=i(t.markerName,n);if(!r)return;const s=t.markerRange;n.consumable.consume(s,e.name)&&(ib(s,!1,n,t,r),ib(s,!0,n,t,r),e.stop())}}function ib(i,e,t,n,r){const s=e?i.start:i.end,o=s.nodeAfter&&s.nodeAfter.is("element")?s.nodeAfter:null,l=s.nodeBefore&&s.nodeBefore.is("element")?s.nodeBefore:null;if(o||l){let h,f;e&&o||!e&&!l?(h=o,f=!0):(h=l,f=!1);const m=t.mapper.toViewElement(h);if(m){dL(m,e,f,t,n,r);return}}const u=t.mapper.toViewPosition(s);hL(u,e,t,n,r)}function dL(i,e,t,n,r,s){const o=`data-${s.group}-${e?"start":"end"}-${t?"before":"after"}`,l=i.hasAttribute(o)?i.getAttribute(o).split(","):[];l.unshift(s.name),n.writer.setAttribute(o,l.join(","),i),n.mapper.bindElementToMarker(i,r.markerName)}function hL(i,e,t,n,r){const s=`${r.group}-${e?"start":"end"}`,o=r.name?{name:r.name}:null,l=t.writer.createUIElement(s,o);t.writer.insert(i,l),t.mapper.bindElementToMarker(l,n.markerName)}function fL(i){return(e,t,n)=>{const r=i(t.markerName,n);if(!r)return;const s=n.mapper.markerNameToElements(t.markerName);if(!s)return;for(const l of s)n.mapper.unbindElementFromMarkerName(l,t.markerName),l.is("containerElement")?(o(`data-${r.group}-start-before`,l),o(`data-${r.group}-start-after`,l),o(`data-${r.group}-end-before`,l),o(`data-${r.group}-end-after`,l)):n.writer.clear(n.writer.createRangeOn(l),l);n.writer.clearClonedElementsGroup(t.markerName),e.stop();function o(l,u){if(u.hasAttribute(l)){const h=new Set(u.getAttribute(l).split(","));h.delete(r.name),h.size==0?n.writer.removeAttribute(l,u):n.writer.setAttribute(l,Array.from(h).join(","),u)}}}}function mL(i){return(e,t,n)=>{if(!n.consumable.test(t.item,e.name))return;const r=i(t.attributeOldValue,n,t),s=i(t.attributeNewValue,n,t);if(!r&&!s)return;n.consumable.consume(t.item,e.name);const o=n.mapper.toViewElement(t.item),l=n.writer;if(!o)throw new B("conversion-attribute-to-attribute-on-text",n.dispatcher,t);if(t.attributeOldValue!==null&&r)if(r.key=="class"){const u=On(r.value);for(const h of u)l.removeClass(h,o)}else if(r.key=="style"){const u=Object.keys(r.value);for(const h of u)l.removeStyle(h,o)}else l.removeAttribute(r.key,o);if(t.attributeNewValue!==null&&s)if(s.key=="class"){const u=On(s.value);for(const h of u)l.addClass(h,o)}else if(s.key=="style"){const u=Object.keys(s.value);for(const h of u)l.setStyle(h,s.value[h],o)}else l.setAttribute(s.key,s.value,o)}}function gL(i){return(e,t,n)=>{if(!t.item||!(t.item instanceof Vi||t.item instanceof zi)&&!t.item.is("$textProxy"))return;const r=up(i,t,n);if(!r||!n.consumable.consume(t.item,e.name))return;const s=n.writer,o=JE(s,r),l=s.document.selection;if(t.item instanceof Vi||t.item instanceof zi)s.wrap(l.getFirstRange(),o);else{const u=n.mapper.toViewRange(t.range),h=s.wrap(u,o);for(const f of h.getItems())if(f.is("attributeElement")&&f.isSimilar(o)){n.mapper.bindElementToMarker(f,t.markerName);break}}}}function pL(i){return(e,t,n)=>{if(!t.item||!(t.item instanceof gt))return;const r=up(i,t,n);if(!r||!n.consumable.test(t.item,e.name))return;const s=n.mapper.toViewElement(t.item);if(s&&s.getCustomProperty("addHighlight")){n.consumable.consume(t.item,e.name);for(const l of X._createIn(t.item))n.consumable.consume(l.item,e.name);s.getCustomProperty("addHighlight")(s,r,n.writer),n.mapper.bindElementToMarker(s,t.markerName)}}}function _L(i){return(e,t,n)=>{if(t.markerRange.isCollapsed)return;const r=up(i,t,n);if(!r)return;const s=JE(n.writer,r),o=n.mapper.markerNameToElements(t.markerName);if(o){for(const l of o)n.mapper.unbindElementFromMarkerName(l,t.markerName),l.is("attributeElement")?n.writer.unwrap(n.writer.createRangeOn(l),s):l.getCustomProperty("removeHighlight")(l,r.id,n.writer);n.writer.clearClonedElementsGroup(t.markerName),e.stop()}}}function vL(i){const e=XE(i.model),t=Cl(i.view,"container");return e.attributes.length&&(e.children=!0),n=>{n.on(`insert:${e.name}`,oL(t,eC(e)),{priority:i.converterPriority||"normal"}),(e.children||e.attributes.length)&&n.on("reduceChanges",QE(e),{priority:"low"})}}function wL(i){const e=XE(i.model),t=Cl(i.view,"container");return e.children=!0,n=>{if(n._conversionApi.schema.checkChild(e.name,"$text"))throw new B("conversion-element-to-structure-disallowed-text",n,{elementName:e.name});n.on(`insert:${e.name}`,aL(t,eC(e)),{priority:i.converterPriority||"normal"}),n.on("reduceChanges",QE(e),{priority:"low"})}}function bL(i){i=js(i);let e=i.model;typeof e=="string"&&(e={key:e});let t=`attribute:${e.key}`;if(e.name&&(t+=":"+e.name),e.values)for(const r of e.values)i.view[r]=Cl(i.view[r],"attribute");else i.view=Cl(i.view,"attribute");const n=ZE(i);return r=>{r.on(t,sL(n),{priority:i.converterPriority||"normal"})}}function yL(i){i=js(i);let e=i.model;typeof e=="string"&&(e={key:e});let t=`attribute:${e.key}`;if(e.name&&(t+=":"+e.name),e.values)for(const r of e.values)i.view[r]=rb(i.view[r]);else i.view=rb(i.view);const n=ZE(i);return r=>{r.on(t,mL(n),{priority:i.converterPriority||"normal"})}}function EL(i){const e=Cl(i.view,"ui");return t=>{t.on(`addMarker:${i.model}`,lL(e),{priority:i.converterPriority||"normal"}),t.on(`removeMarker:${i.model}`,cL(),{priority:i.converterPriority||"normal"})}}function CL(i){i=js(i);const e=i.model;let t=i.view;return t||(t=n=>({group:e,name:n.substr(i.model.length+1)})),n=>{n.on(`addMarker:${e}`,uL(t),{priority:i.converterPriority||"normal"}),n.on(`removeMarker:${e}`,fL(t),{priority:i.converterPriority||"normal"})}}function SL(i){return e=>{e.on(`addMarker:${i.model}`,gL(i.view),{priority:i.converterPriority||"normal"}),e.on(`addMarker:${i.model}`,pL(i.view),{priority:i.converterPriority||"normal"}),e.on(`removeMarker:${i.model}`,_L(i.view),{priority:i.converterPriority||"normal"})}}function XE(i){return typeof i=="string"&&(i={name:i}),i.attributes?Array.isArray(i.attributes)||(i.attributes=[i.attributes]):i.attributes=[],i.children=!!i.children,i}function Cl(i,e){return typeof i=="function"?i:(t,n)=>TL(i,n,e)}function TL(i,e,t){typeof i=="string"&&(i={name:i});let n;const r=e.writer,s=Object.assign({},i.attributes);if(t=="container")n=r.createContainerElement(i.name,s);else if(t=="attribute"){const o={priority:i.priority||Ms.DEFAULT_PRIORITY};n=r.createAttributeElement(i.name,s,o)}else n=r.createUIElement(i.name,s);if(i.styles){const o=Object.keys(i.styles);for(const l of o)r.setStyle(l,i.styles[l],n)}if(i.classes){const o=i.classes;if(typeof o=="string")r.addClass(o,n);else for(const l of o)r.addClass(l,n)}return n}function ZE(i){return i.model.values?(e,t,n)=>{const r=i.view[e];return r?r(e,t,n):null}:i.view}function rb(i){return typeof i=="string"?e=>({key:i,value:e}):typeof i=="object"?i.value?()=>i:e=>({key:i.key,value:e}):i}function up(i,e,t){const n=typeof i=="function"?i(e,t):i;return n?(n.priority||(n.priority=10),n.id||(n.id=e.markerName),n):null}function xL(i){return(e,t)=>{if(!e.is("element",i.name))return!1;if(t.type=="attribute"){if(i.attributes.includes(t.attributeKey))return!0}else{/* istanbul ignore else: This is always true because otherwise it would not register a reducer callback. -- @preserve */if(i.children)return!0}return!1}}function QE(i){const e=xL(i);return(t,n)=>{const r=[];n.reconvertedElements||(n.reconvertedElements=new Set);for(const s of n.changes){const o=s.type=="attribute"?s.range.start.nodeAfter:s.position.parent;if(!o||!e(o,s)){r.push(s);continue}if(!n.reconvertedElements.has(o)){n.reconvertedElements.add(o);const l=oe._createBefore(o);let u=r.length;for(let h=r.length-1;h>=0;h--){const f=r[h],v=(f.type=="attribute"?f.range.start:f.position).compareWith(l);if(v=="before"||f.type=="remove"&&v=="same")break;u=h}r.splice(u,0,{type:"remove",name:o.name,position:l,length:1},{type:"reinsert",name:o.name,position:l,length:1})}}n.changes=r}}function eC(i){return(e,t,n={})=>{const r=["insert"];for(const s of i.attributes)e.hasAttribute(s)&&r.push(`attribute:${s}`);return r.every(s=>t.test(e,s))?(n.preflight||r.forEach(s=>t.consume(e,s)),!0):!1}}function kL(i,e,t){return(n,r)=>{const s=n.createContainerElement("$slot");let o=null;if(r==="children")o=Array.from(i.getChildren());else if(typeof r=="function")o=Array.from(i.getChildren()).filter(l=>r(l));else throw new B("conversion-slot-mode-unknown",t.dispatcher,{modeOrFilter:r});return e.set(s,o),s}}function AL(i,e,t){const n=Array.from(e.values()).flat(),r=new Set(n);if(r.size!=n.length)throw new B("conversion-slot-filter-overlap",t.dispatcher,{element:i});if(r.size!=i.childCount)throw new B("conversion-slot-filter-incomplete",t.dispatcher,{element:i})}function PL(i,e,t,n){t.mapper.on("modelToViewPosition",o,{priority:"highest"});let r=null,s=null;for([r,s]of e)tC(i,s,t,n),t.writer.move(t.writer.createRangeIn(r),t.writer.createPositionBefore(r)),t.writer.remove(r);t.mapper.off("modelToViewPosition",o);function o(l,u){const h=u.modelPosition.nodeAfter,f=s.indexOf(h);f<0||(u.viewPosition=u.mapper.findPositionIn(r,f))}}function tC(i,e,t,n){for(const r of e)IL(i.root,r,t,n)||t.convertItem(r)}function IL(i,e,t,n){const{writer:r,mapper:s}=t;if(!n.reconversion)return!1;const o=s.toViewElement(e);return!o||o.root==i||!t.canReuseView(o)?!1:(r.move(r.createRangeOn(o),s.toViewPosition(oe._createBefore(e))),!0)}function RL(i,e,{preflight:t}={}){return t?e.test(i,"insert"):e.consume(i,"insert")}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function nC(i){const{schema:e,document:t}=i.model;for(const n of t.getRootNames()){const r=t.getRoot(n);if(r.isEmpty&&!e.checkChild(r,"$text")&&e.checkChild(r,"paragraph"))return i.insertElement("paragraph",r),!0}return!1}function iC(i,e,t){const n=t.createContext(i);return!(!t.checkChild(n,"paragraph")||!t.checkChild(n.push("paragraph"),e))}function rC(i,e){const t=e.createElement("paragraph");return e.insert(t,i),e.createPositionAt(t,0)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class OL extends KE{elementToElement(e){return this.add(sC(e))}elementToAttribute(e){return this.add(DL(e))}attributeToAttribute(e){return this.add(BL(e))}elementToMarker(e){return this.add(VL(e))}dataToMarker(e){return this.add(LL(e))}}function sb(){return(i,e,t)=>{if(!e.modelRange&&t.consumable.consume(e.viewItem,{name:!0})){const{modelRange:n,modelCursor:r}=t.convertChildren(e.viewItem,e.modelCursor);e.modelRange=n,e.modelCursor=r}}}function ML(){return(i,e,{schema:t,consumable:n,writer:r})=>{let s=e.modelCursor;if(!n.test(e.viewItem))return;if(!t.checkChild(s,"$text")){if(!iC(s,"$text",t)||e.viewItem.data.trim().length==0)return;const l=s.nodeBefore;s=rC(s,r),l&&l.is("element","$marker")&&(r.move(r.createRangeOn(l),s),s=r.createPositionAfter(l))}n.consume(e.viewItem);const o=r.createText(e.viewItem.data);r.insert(o,s),e.modelRange=r.createRange(s,s.getShiftedBy(o.offsetSize)),e.modelCursor=e.modelRange.end}}function NL(i,e){return(t,n)=>{const r=n.newSelection,s=[];for(const l of r.getRanges())s.push(e.toModelRange(l));const o=i.createSelection(s,{backward:r.isBackward});o.isEqual(i.document.selection)||i.change(l=>{l.setSelection(o)})}}function sC(i){i=js(i);const e=gg(i),t=dp(i.view),n=t?`element:${t}`:"element";return r=>{r.on(n,e,{priority:i.converterPriority||"normal"})}}function DL(i){i=js(i),oC(i);const e=aC(i,!1),t=dp(i.view),n=t?`element:${t}`:"element";return r=>{r.on(n,e,{priority:i.converterPriority||"low"})}}function BL(i){i=js(i);let e=null;(typeof i.view=="string"||i.view.key)&&(e=zL(i)),oC(i,e);const t=aC(i,!0);return n=>{n.on("element",t,{priority:i.converterPriority||"low"})}}function VL(i){const e=UL(i.model);return sC({...i,model:e})}function LL(i){i=js(i),i.model||(i.model=r=>r?i.view+":"+r:i.view);const e={view:i.view,model:i.model},t=gg(ob(e,"start")),n=gg(ob(e,"end"));return r=>{r.on(`element:${i.view}-start`,t,{priority:i.converterPriority||"normal"}),r.on(`element:${i.view}-end`,n,{priority:i.converterPriority||"normal"});const s=Os.get("low"),o=Os.get("highest"),l=Os.get(i.converterPriority)/o;r.on("element",FL(e),{priority:s+l})}}function FL(i){return(e,t,n)=>{const r=`data-${i.view}`;if(!n.consumable.test(t.viewItem,{attributes:r+"-end-after"})&&!n.consumable.test(t.viewItem,{attributes:r+"-start-after"})&&!n.consumable.test(t.viewItem,{attributes:r+"-end-before"})&&!n.consumable.test(t.viewItem,{attributes:r+"-start-before"}))return;t.modelRange||Object.assign(t,n.convertChildren(t.viewItem,t.modelCursor)),n.consumable.consume(t.viewItem,{attributes:r+"-end-after"})&&s(t.modelRange.end,t.viewItem.getAttribute(r+"-end-after").split(",")),n.consumable.consume(t.viewItem,{attributes:r+"-start-after"})&&s(t.modelRange.end,t.viewItem.getAttribute(r+"-start-after").split(",")),n.consumable.consume(t.viewItem,{attributes:r+"-end-before"})&&s(t.modelRange.start,t.viewItem.getAttribute(r+"-end-before").split(",")),n.consumable.consume(t.viewItem,{attributes:r+"-start-before"})&&s(t.modelRange.start,t.viewItem.getAttribute(r+"-start-before").split(","));function s(o,l){for(const u of l){const h=i.model(u,n),f=n.writer.createElement("$marker",{"data-name":h});n.writer.insert(f,o),t.modelCursor.isEqual(o)?t.modelCursor=t.modelCursor.getShiftedBy(1):t.modelCursor=t.modelCursor._getTransformedByInsertion(o,1),t.modelRange=t.modelRange._getTransformedByInsertion(o,1)[0]}}}}function dp(i){return typeof i=="string"?i:typeof i=="object"&&typeof i.name=="string"?i.name:null}function gg(i){const e=new ah(i.view);return(t,n,r)=>{const s=e.match(n.viewItem);if(!s)return;const o=s.match;if(o.name=!0,!r.consumable.test(n.viewItem,o))return;const l=$L(i.model,n.viewItem,r);l&&r.safeInsert(l,n.modelCursor)&&(r.consumable.consume(n.viewItem,o),r.convertChildren(n.viewItem,l),r.updateConversionResult(l,n))}}function $L(i,e,t){return i instanceof Function?i(e,t):t.writer.createElement(i)}function zL(i){typeof i.view=="string"&&(i.view={key:i.view});const e=i.view.key;let t;if(e=="class"||e=="style")t={[e=="class"?"classes":"styles"]:i.view.value};else{const n=typeof i.view.value>"u"?/[\s\S]*/:i.view.value;t={attributes:{[e]:n}}}return i.view.name&&(t.name=i.view.name),i.view=t,e}function oC(i,e=null){const t=e===null?!0:s=>s.getAttribute(e),n=typeof i.model!="object"?i.model:i.model.key,r=typeof i.model!="object"||typeof i.model.value>"u"?t:i.model.value;i.model={key:n,value:r}}function aC(i,e){const t=new ah(i.view);return(n,r,s)=>{if(!r.modelRange&&e)return;const o=t.match(r.viewItem);if(!o||(WL(i.view,r.viewItem)?o.match.name=!0:delete o.match.name,!s.consumable.test(r.viewItem,o.match)))return;const l=i.model.key,u=typeof i.model.value=="function"?i.model.value(r.viewItem,s):i.model.value;if(u===null)return;r.modelRange||Object.assign(r,s.convertChildren(r.viewItem,r.modelCursor)),jL(r.modelRange,{key:l,value:u},e,s)&&(s.consumable.test(r.viewItem,{name:!0})&&(o.match.name=!0),s.consumable.consume(r.viewItem,o.match))}}function WL(i,e){const t=typeof i=="function"?i(e):i;return typeof t=="object"&&!dp(t)?!1:!t.classes&&!t.attributes&&!t.styles}function jL(i,e,t,n){let r=!1;for(const s of Array.from(i.getItems({shallow:t})))n.schema.checkAttribute(s,e.key)&&(r=!0,!s.hasAttribute(e.key)&&n.writer.setAttribute(e.key,e.value,s));return r}function UL(i){return(e,t)=>{const n=typeof i=="string"?i:i(e,t);return t.writer.createElement("$marker",{"data-name":n})}}function ob(i,e){const t=(n,r)=>{const s=n.getAttribute("name"),o=i.model(s,r);return r.writer.createElement("$marker",{"data-name":o})};return{view:`${i.view}-${e}`,model:t}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function HL(i){i.document.registerPostFixer(e=>qL(e,i))}function qL(i,e){const t=e.document.selection,n=e.schema,r=[];let s=!1;for(const o of t.getRanges()){const l=lC(o,n);l&&!l.isEqual(o)?(r.push(l),s=!0):r.push(o)}return s&&i.setSelection(JL(r),{backward:t.isBackward}),!1}function lC(i,e){return i.isCollapsed?KL(i,e):GL(i,e)}function KL(i,e){const t=i.start,n=e.getNearestSelectionRange(t);if(!n){const s=t.getAncestors().reverse().find(o=>e.isObject(o));return s?X._createOn(s):null}if(!n.isCollapsed)return n;const r=n.start;return t.isEqual(r)?null:new X(r)}function GL(i,e){const{start:t,end:n}=i,r=e.checkChild(t,"$text"),s=e.checkChild(n,"$text"),o=e.getLimitElement(t),l=e.getLimitElement(n);if(o===l){if(r&&s)return null;if(YL(t,n,e)){const m=t.nodeAfter&&e.isSelectable(t.nodeAfter)?null:e.getNearestSelectionRange(t,"forward"),C=n.nodeBefore&&e.isSelectable(n.nodeBefore)?null:e.getNearestSelectionRange(n,"backward"),k=m?m.start:t,S=C?C.end:n;return new X(k,S)}}const u=o&&!o.is("rootElement"),h=l&&!l.is("rootElement");if(u||h){const f=t.nodeAfter&&n.nodeBefore&&t.nodeAfter.parent===n.nodeBefore.parent,m=u&&(!f||!lb(t.nodeAfter,e)),v=h&&(!f||!lb(n.nodeBefore,e));let C=t,k=n;return m&&(C=oe._createBefore(ab(o,e))),v&&(k=oe._createAfter(ab(l,e))),new X(C,k)}return null}function ab(i,e){let t=i,n=t;for(;e.isLimit(n)&&n.parent;)t=n,n=n.parent;return t}function YL(i,e,t){const n=i.nodeAfter&&!t.isLimit(i.nodeAfter)||t.checkChild(i,"$text"),r=e.nodeBefore&&!t.isLimit(e.nodeBefore)||t.checkChild(e,"$text");return n||r}function JL(i){const e=[...i],t=new Set;let n=1;for(;n<e.length;){const s=e[n],o=e.slice(0,n);for(const[l,u]of o.entries())if(!t.has(l)){if(s.isEqual(u))t.add(l);else if(s.isIntersecting(u)){t.add(l),t.add(n);const h=s.getJoined(u);e.push(h)}}n++}return e.filter((s,o)=>!t.has(o))}function lb(i,e){return i&&e.isSelectable(i)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class XL extends Dt(){constructor(e,t){super(),this.model=e,this.view=new FV(t),this.mapper=new UE,this.downcastDispatcher=new HE({mapper:this.mapper,schema:e.schema});const n=this.model.document,r=n.selection,s=this.model.markers;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(n,"change",()=>{this.view.change(o=>{this.downcastDispatcher.convertChanges(n.differ,s,o),this.downcastDispatcher.convertSelection(r,s,o)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",NL(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",ZL(this.mapper,this.model.schema,this.view),{priority:"high"}),this.downcastDispatcher.on("insert:$text",GE(),{priority:"lowest"}),this.downcastDispatcher.on("insert",YE(),{priority:"lowest"}),this.downcastDispatcher.on("remove",tL(),{priority:"low"}),this.downcastDispatcher.on("selection",rL(),{priority:"high"}),this.downcastDispatcher.on("selection",nL(),{priority:"low"}),this.downcastDispatcher.on("selection",iL(),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(o=>{if(o.rootName=="$graveyard")return null;const l=new AE(this.view.document,o.name);return l.rootName=o.rootName,this.mapper.bindElements(o,l),l})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const t=typeof e=="string"?e:e.name,n=this.model.markers.get(t);if(!n)throw new B("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:t});this.model.change(()=>{this.model.markers._refresh(n)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}function ZL(i,e,t){return(n,r)=>{if(!(t.document.isComposing&&!qe.isAndroid))for(let s=0;s<r.targetRanges.length;s++){const o=r.targetRanges[s],l=i.toModelRange(o),u=lC(l,e);!u||u.isEqual(l)||(r.targetRanges[s]=i.toViewRange(u))}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class fl{constructor(){this._consumables=new Map}add(e,t){let n;if(e.is("$text")||e.is("documentFragment")){this._consumables.set(e,!0);return}this._consumables.has(e)?n=this._consumables.get(e):(n=new QL(e),this._consumables.set(e,n)),n.add(t)}test(e,t){const n=this._consumables.get(e);return n===void 0?null:e.is("$text")||e.is("documentFragment")?n:n.test(t)}consume(e,t){return this.test(e,t)?(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0):!1}revert(e,t){const n=this._consumables.get(e);n!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):n.revert(t))}static consumablesFromElement(e){const t={element:e,name:!0,attributes:[],classes:[],styles:[]},n=e.getAttributeKeys();for(const o of n)o=="style"||o=="class"||t.attributes.push(o);const r=e.getClassNames();for(const o of r)t.classes.push(o);const s=e.getStyleNames();for(const o of s)t.styles.push(o);return t}static createFrom(e,t){if(t||(t=new fl),e.is("$text"))return t.add(e),t;e.is("element")&&t.add(e,fl.consumablesFromElement(e)),e.is("documentFragment")&&t.add(e);for(const n of e.getChildren())t=fl.createFrom(n,t);return t}}const Uu=["attributes","classes","styles"];class QL{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const t of Uu)t in e&&this._add(t,e[t])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const t of Uu)if(t in e){const n=this._test(t,e[t]);if(n!==!0)return n}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const t of Uu)t in e&&this._consume(t,e[t])}revert(e){e.name&&(this._canConsumeName=!0);for(const t of Uu)t in e&&this._revert(t,e[t])}_add(e,t){const n=zn(t)?t:[t],r=this._consumables[e];for(const s of n){if(e==="attributes"&&(s==="class"||s==="style"))throw new B("viewconsumable-invalid-attribute",this);if(r.set(s,!0),e==="styles")for(const o of this.element.document.stylesProcessor.getRelatedStyles(s))r.set(o,!0)}}_test(e,t){const n=zn(t)?t:[t],r=this._consumables[e];for(const s of n)if(e==="attributes"&&(s==="class"||s==="style")){const o=s=="class"?"classes":"styles",l=this._test(o,[...this._consumables[o].keys()]);if(l!==!0)return l}else{const o=r.get(s);if(o===void 0)return null;if(!o)return!1}return!0}_consume(e,t){const n=zn(t)?t:[t],r=this._consumables[e];for(const s of n)if(e==="attributes"&&(s==="class"||s==="style")){const o=s=="class"?"classes":"styles";this._consume(o,[...this._consumables[o].keys()])}else if(r.set(s,!1),e=="styles")for(const o of this.element.document.stylesProcessor.getRelatedStyles(s))r.set(o,!1)}_revert(e,t){const n=zn(t)?t:[t],r=this._consumables[e];for(const s of n)if(e==="attributes"&&(s==="class"||s==="style")){const o=s=="class"?"classes":"styles";this._revert(o,[...this._consumables[o].keys()])}else r.get(s)===!1&&r.set(s,!0)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class e8 extends Dt(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,t)=>{t[0]=new Ds(t[0])},{priority:"highest"}),this.on("checkChild",(e,t)=>{t[0]=new Ds(t[0]),t[1]=this.getDefinition(t[1])},{priority:"highest"})}register(e,t){if(this._sourceDefinitions[e])throw new B("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}extend(e,t){if(!this._sourceDefinitions[e])throw new B("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let t;return typeof e=="string"?t=e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?t="$text":t=e.name,this.getDefinitions()[t]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const t=this.getDefinition(e);return!!(t&&t.isBlock)}isLimit(e){const t=this.getDefinition(e);return t?!!(t.isLimit||t.isObject):!1}isObject(e){const t=this.getDefinition(e);return t?!!(t.isObject||t.isLimit&&t.isSelectable&&t.isContent):!1}isInline(e){const t=this.getDefinition(e);return!!(t&&t.isInline)}isSelectable(e){const t=this.getDefinition(e);return t?!!(t.isSelectable||t.isObject):!1}isContent(e){const t=this.getDefinition(e);return t?!!(t.isContent||t.isObject):!1}checkChild(e,t){return t?this._checkContextMatch(t,e):!1}checkAttribute(e,t){const n=this.getDefinition(e.last);return n?n.allowAttributes.includes(t):!1}checkMerge(e,t){if(e instanceof oe){const n=e.nodeBefore,r=e.nodeAfter;if(!(n instanceof gt))throw new B("schema-check-merge-no-element-before",this);if(!(r instanceof gt))throw new B("schema-check-merge-no-element-after",this);return this.checkMerge(n,r)}for(const n of t.getChildren())if(!this.checkChild(e,n))return!1;return!0}addChildCheck(e){this.on("checkChild",(t,[n,r])=>{if(!r)return;const s=e(n,r);typeof s=="boolean"&&(t.stop(),t.return=s)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(t,[n,r])=>{const s=e(n,r);typeof s=="boolean"&&(t.stop(),t.return=s)},{priority:"high"})}setAttributeProperties(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let t;for(e instanceof oe?t=e.parent:t=(e instanceof X?[e]:Array.from(e.getRanges())).reduce((r,s)=>{const o=s.getCommonAncestor();return r?r.getCommonAncestor(o,{includeSelf:!0}):o},null);!this.isLimit(t)&&t.parent;)t=t.parent;return t}checkAttributeInSelection(e,t){if(e.isCollapsed){const r=[...e.getFirstPosition().getAncestors(),new Bt("",e.getAttributes())];return this.checkAttribute(r,t)}else{const n=e.getRanges();for(const r of n)for(const s of r)if(this.checkAttribute(s.item,t))return!0}return!1}*getValidRanges(e,t){e=p8(e);for(const n of e)yield*this._getValidRangesForRange(n,t)}getNearestSelectionRange(e,t="both"){if(this.checkChild(e,"$text"))return new X(e);let n,r;const s=e.getAncestors().reverse().find(o=>this.isLimit(o))||e.root;(t=="both"||t=="backward")&&(n=new ir({boundaries:X._createIn(s),startPosition:e,direction:"backward"})),(t=="both"||t=="forward")&&(r=new ir({boundaries:X._createIn(s),startPosition:e}));for(const o of g8(n,r)){const l=o.walker==n?"elementEnd":"elementStart",u=o.value;if(u.type==l&&this.isObject(u.item))return X._createOn(u.item);if(this.checkChild(u.nextPosition,"$text"))return new X(u.nextPosition)}return null}findAllowedParent(e,t){let n=e.parent;for(;n;){if(this.checkChild(n,t))return n;if(this.isLimit(n))return null;n=n.parent}return null}setAllowedAttributes(e,t,n){const r=n.model;for(const[s,o]of Object.entries(t))r.schema.checkAttribute(e,s)&&n.setAttribute(s,o,e)}removeDisallowedAttributes(e,t){for(const n of e)if(n.is("$text"))cb(this,n,t);else{const s=X._createIn(n).getPositions();for(const o of s){const l=o.nodeBefore||o.parent;cb(this,l,t)}}}getAttributesWithProperty(e,t,n){const r={};for(const[s,o]of e.getAttributes()){const l=this.getAttributeProperties(s);l[t]!==void 0&&(n===void 0||n===l[t])&&(r[s]=o)}return r}createContext(e){return new Ds(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},t=this._sourceDefinitions,n=Object.keys(t);for(const r of n)e[r]=t8(t[r],r);for(const r of n)n8(e,r);for(const r of n)i8(e,r);for(const r of n)r8(e,r);for(const r of n)s8(e,r),o8(e,r);for(const r of n)a8(e,r),l8(e,r),c8(e,r);this._compiledDefinitions=e}_checkContextMatch(e,t,n=t.length-1){const r=t.getItem(n);if(e.allowIn.includes(r.name)){if(n==0)return!0;{const s=this.getDefinition(r);return this._checkContextMatch(s,t,n-1)}}else return!1}*_getValidRangesForRange(e,t){let n=e.start,r=e.start;for(const s of e.getItems({shallow:!0}))s.is("element")&&(yield*this._getValidRangesForRange(X._createIn(s),t)),this.checkAttribute(s,t)||(n.isEqual(r)||(yield new X(n,r)),n=oe._createAfter(s)),r=oe._createAfter(s);n.isEqual(r)||(yield new X(n,r))}}class Ds{constructor(e){if(e instanceof Ds)return e;let t;typeof e=="string"?t=[e]:Array.isArray(e)?t=e:t=e.getAncestors({includeSelf:!0}),this._items=t.map(m8)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const t=new Ds([e]);return t._items=[...this._items,...t._items],t}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function t8(i,e){const t={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return u8(i,t),Ts(i,t,"allowIn"),Ts(i,t,"allowContentOf"),Ts(i,t,"allowWhere"),Ts(i,t,"allowAttributes"),Ts(i,t,"allowAttributesOf"),Ts(i,t,"allowChildren"),Ts(i,t,"inheritTypesFrom"),d8(i,t),t}function n8(i,e){const t=i[e];for(const n of t.allowChildren){const r=i[n];r&&r.allowIn.push(e)}t.allowChildren.length=0}function i8(i,e){for(const t of i[e].allowContentOf)i[t]&&h8(i,t).forEach(r=>{r.allowIn.push(e)});delete i[e].allowContentOf}function r8(i,e){for(const t of i[e].allowWhere){const n=i[t];if(n){const r=n.allowIn;i[e].allowIn.push(...r)}}delete i[e].allowWhere}function s8(i,e){for(const t of i[e].allowAttributesOf){const n=i[t];if(n){const r=n.allowAttributes;i[e].allowAttributes.push(...r)}}delete i[e].allowAttributesOf}function o8(i,e){const t=i[e];for(const n of t.inheritTypesFrom){const r=i[n];if(r){const s=Object.keys(r).filter(o=>o.startsWith("is"));for(const o of s)o in t||(t[o]=r[o])}}delete t.inheritTypesFrom}function a8(i,e){const t=i[e],n=t.allowIn.filter(r=>i[r]);t.allowIn=Array.from(new Set(n))}function l8(i,e){const t=i[e];for(const n of t.allowIn)i[n].allowChildren.push(e)}function c8(i,e){const t=i[e];t.allowAttributes=Array.from(new Set(t.allowAttributes))}function u8(i,e){for(const t of i){const n=Object.keys(t).filter(r=>r.startsWith("is"));for(const r of n)e[r]=!!t[r]}}function Ts(i,e,t){for(const n of i){const r=n[t];typeof r=="string"?e[t].push(r):Array.isArray(r)&&e[t].push(...r)}}function d8(i,e){for(const t of i){const n=t.inheritAllFrom;n&&(e.allowContentOf.push(n),e.allowWhere.push(n),e.allowAttributesOf.push(n),e.inheritTypesFrom.push(n))}}function h8(i,e){const t=i[e];return f8(i).filter(n=>n.allowIn.includes(t.name))}function f8(i){return Object.keys(i).map(e=>i[e])}function m8(i){return typeof i=="string"||i.is("documentFragment")?{name:typeof i=="string"?i:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:i.is("element")?i.name:"$text",*getAttributeKeys(){yield*i.getAttributeKeys()},getAttribute(e){return i.getAttribute(e)}}}function*g8(i,e){let t=!1;for(;!t;){if(t=!0,i){const n=i.next();n.done||(t=!1,yield{walker:i,value:n.value})}if(e){const n=e.next();n.done||(t=!1,yield{walker:e,value:n.value})}}}function*p8(i){for(const e of i)yield*e.getMinimalFlatRanges()}function cb(i,e,t){for(const n of e.getAttributeKeys())i.checkAttribute(e,n)||t.removeAttribute(n,e)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class _8 extends kt(){constructor(e){super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi={...e,consumable:null,writer:null,store:null,convertItem:(t,n)=>this._convertItem(t,n),convertChildren:(t,n)=>this._convertChildren(t,n),safeInsert:(t,n)=>this._safeInsert(t,n),updateConversionResult:(t,n)=>this._updateConversionResult(t,n),splitToAllowedParent:(t,n)=>this._splitToAllowedParent(t,n),getSplitParts:t=>this._getSplitParts(t),keepEmptyElement:t=>this._keepEmptyElement(t)}}convert(e,t,n=["$root"]){this.fire("viewCleanup",e),this._modelCursor=w8(n,t),this.conversionApi.writer=t,this.conversionApi.consumable=fl.createFrom(e),this.conversionApi.store={};const{modelRange:r}=this._convertItem(e,this._modelCursor),s=t.createDocumentFragment();if(r){this._removeEmptyElements();for(const o of Array.from(this._modelCursor.parent.getChildren()))t.append(o,s);s.markers=v8(s,t)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,s}_convertItem(e,t){const n={viewItem:e,modelCursor:t,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,n,this.conversionApi):e.is("$text")?this.fire("text",n,this.conversionApi):this.fire("documentFragment",n,this.conversionApi),n.modelRange&&!(n.modelRange instanceof X))throw new B("view-conversion-dispatcher-incorrect-result",this);return{modelRange:n.modelRange,modelCursor:n.modelCursor}}_convertChildren(e,t){let n=t.is("position")?t:oe._createAt(t,0);const r=new X(n);for(const s of Array.from(e.getChildren())){const o=this._convertItem(s,n);o.modelRange instanceof X&&(r.end=o.modelRange.end,n=o.modelCursor)}return{modelRange:r,modelCursor:n}}_safeInsert(e,t){const n=this._splitToAllowedParent(e,t);return n?(this.conversionApi.writer.insert(e,n.position),!0):!1}_updateConversionResult(e,t){const n=this._getSplitParts(e),r=this.conversionApi.writer;t.modelRange||(t.modelRange=r.createRange(r.createPositionBefore(e),r.createPositionAfter(n[n.length-1])));const s=this._cursorParents.get(e);s?t.modelCursor=r.createPositionAt(s,0):t.modelCursor=t.modelRange.end}_splitToAllowedParent(e,t){const{schema:n,writer:r}=this.conversionApi;let s=n.findAllowedParent(t,e);if(s){if(s===t.parent)return{position:t};this._modelCursor.parent.getAncestors().includes(s)&&(s=null)}if(!s)return iC(t,e,n)?{position:rC(t,r)}:null;const o=this.conversionApi.writer.split(t,s),l=[];for(const h of o.range.getWalker())if(h.type=="elementEnd")l.push(h.item);else{const f=l.pop(),m=h.item;this._registerSplitPair(f,m)}const u=o.range.end.parent;return this._cursorParents.set(e,u),{position:o.position,cursorParent:u}}_registerSplitPair(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);const n=this._splitParts.get(e);this._splitParts.set(t,n),n.push(t)}_getSplitParts(e){let t;return this._splitParts.has(e)?t=this._splitParts.get(e):t=[e],t}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const t of this._splitParts.keys())t.isEmpty&&!this._emptyElementsToKeep.has(t)&&(this.conversionApi.writer.remove(t),this._splitParts.delete(t),e=!0);e&&this._removeEmptyElements()}}function v8(i,e){const t=new Set,n=new Map,r=X._createIn(i).getItems();for(const s of r)s.is("element","$marker")&&t.add(s);for(const s of t){const o=s.getAttribute("data-name"),l=e.createPositionBefore(s);n.has(o)?n.get(o).end=l.clone():n.set(o,new X(l.clone())),e.remove(s)}return n}function w8(i,e){let t;for(const n of new Ds(i)){const r={};for(const o of n.getAttributeKeys())r[o]=n.getAttribute(o);const s=e.createElement(n.name,r);t&&e.insert(s,t),t=oe._createAt(s,0)}return t}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class b8{getHtml(e){const n=document.implementation.createHTMLDocument("").createElement("div");return n.appendChild(e),n.innerHTML}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class y8{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new LE(e,{renderingMode:"data"}),this.htmlWriter=new b8}toData(e){const t=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this.domConverter.domToView(t,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const t=this.domParser.parseFromString(e,"text/html"),n=t.createDocumentFragment(),r=t.body.childNodes;for(;r.length>0;)n.appendChild(r[0]);return n}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class E8 extends kt(){constructor(e,t){super(),this.model=e,this.mapper=new UE,this.downcastDispatcher=new HE({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",GE(),{priority:"lowest"}),this.downcastDispatcher.on("insert",YE(),{priority:"lowest"}),this.upcastDispatcher=new _8({schema:e.schema}),this.viewDocument=new RE(t),this.stylesProcessor=t,this.htmlProcessor=new y8(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new ME(this.viewDocument),this.upcastDispatcher.on("text",ML(),{priority:"lowest"}),this.upcastDispatcher.on("element",sb(),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",sb(),{priority:"lowest"}),Dt().prototype.decorate.call(this,"init"),Dt().prototype.decorate.call(this,"set"),Dt().prototype.decorate.call(this,"get"),Dt().prototype.decorate.call(this,"toView"),Dt().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},nC)},{priority:"lowest"})}get(e={}){const{rootName:t="main",trim:n="empty"}=e;if(!this._checkIfRootsExists([t]))throw new B("datacontroller-get-non-existent-root",this);const r=this.model.document.getRoot(t);return r.isAttached()||Jt("datacontroller-get-detached-root",this),n==="empty"&&!this.model.hasContent(r,{ignoreWhitespaces:!0})?"":this.stringify(r,e)}stringify(e,t={}){const n=this.toView(e,t);return this.processor.toData(n)}toView(e,t={}){const n=this.viewDocument,r=this._viewWriter;this.mapper.clearBindings();const s=X._createIn(e),o=new Ns(n);this.mapper.bindElements(e,o);const l=e.is("documentFragment")?e.markers:C8(e);return this.downcastDispatcher.convert(s,l,r,t),o}init(e){if(this.model.document.version)throw new B("datacontroller-init-document-not-empty",this);let t={};if(typeof e=="string"?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new B("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},n=>{for(const r of Object.keys(t)){const s=this.model.document.getRoot(r);n.insert(this.parse(t[r],s),s,0)}}),Promise.resolve()}set(e,t={}){let n={};if(typeof e=="string"?n.main=e:n=e,!this._checkIfRootsExists(Object.keys(n)))throw new B("datacontroller-set-non-existent-root",this);this.model.enqueueChange(t.batchType||{},r=>{r.setSelection(null),r.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const s of Object.keys(n)){const o=this.model.document.getRoot(s);r.remove(r.createRangeIn(o)),r.insert(this.parse(n[s],o),o,0)}})}parse(e,t="$root"){const n=this.processor.toView(e);return this.toModel(n,t)}toModel(e,t="$root"){return this.model.change(n=>this.upcastDispatcher.convert(e,n,t))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const t of e)if(!this.model.document.getRoot(t))return!1;return!0}}function C8(i){const e=[],t=i.root.document;if(!t)return new Map;const n=X._createIn(i);for(const r of t.model.markers){const s=r.getRange(),o=s.isCollapsed,l=s.start.isEqual(n.start)||s.end.isEqual(n.end);if(o&&l)e.push([r.name,s]);else{const u=n.getIntersection(s);u&&e.push([r.name,u])}}return e.sort(([r,s],[o,l])=>{if(s.end.compareWith(l.start)!=="after")return 1;if(s.start.compareWith(l.end)!=="before")return-1;switch(s.start.compareWith(l.start)){case"before":return 1;case"after":return-1;default:switch(s.end.compareWith(l.end)){case"before":return 1;case"after":return-1;default:return o.localeCompare(r)}}}),new Map(e)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class S8{constructor(e,t){this._helpers=new Map,this._downcast=On(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=On(t),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,t){const n=this._downcast.includes(t);if(!this._upcast.includes(t)&&!n)throw new B("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:n})}for(e){if(!this._helpers.has(e))throw new B("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:t,view:n}of Em(e))this.for("upcast").elementToElement({model:t,view:n,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:t,view:n}of Em(e))this.for("upcast").elementToAttribute({view:n,model:t,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:t,view:n}of Em(e))this.for("upcast").attributeToAttribute({view:n,model:t})}_createConversionHelpers({name:e,dispatchers:t,isDowncast:n}){if(this._helpers.has(e))throw new B("conversion-group-exists",this);const r=n?new eL(t):new OL(t);this._helpers.set(e,r)}}function*Em(i){if(i.model.values)for(const e of i.model.values){const t={key:i.model.key,value:e},n=i.view[e],r=i.upcastAlso?i.upcastAlso[e]:void 0;yield*ub(t,n,r)}else yield*ub(i.model,i.view,i.upcastAlso)}function*ub(i,e,t){if(yield{model:i,view:e},t)for(const n of On(t))yield{model:i,view:n}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class mi{constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,t){return new this(e.baseVersion)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function hp(i,e){const t=uC(e),n=t.reduce((o,l)=>o+l.offsetSize,0),r=i.parent;xl(i);const s=i.index;return r._insertChild(s,t),Tl(r,s+t.length),Tl(r,s),new X(i,i.getShiftedBy(n))}function cC(i){if(!i.isFlat)throw new B("operation-utils-remove-range-not-flat",this);const e=i.start.parent;xl(i.start),xl(i.end);const t=e._removeChildren(i.start.index,i.end.index-i.start.index);return Tl(e,i.start.index),t}function Sl(i,e){if(!i.isFlat)throw new B("operation-utils-move-range-not-flat",this);const t=cC(i);return e=e._getTransformedByDeletion(i.start,i.end.offset-i.start.offset),hp(e,t)}function T8(i,e,t){xl(i.start),xl(i.end);for(const n of i.getItems({shallow:!0})){const r=n.is("$textProxy")?n.textNode:n;t!==null?r._setAttribute(e,t):r._removeAttribute(e),Tl(r.parent,r.index)}Tl(i.end.parent,i.end.index)}function uC(i){const e=[];function t(n){if(typeof n=="string")e.push(new Bt(n));else if(n instanceof Bi)e.push(new Bt(n.data,n.getAttributes()));else if(n instanceof Ks)e.push(n);else if(hi(n))for(const r of n)t(r)}t(i);for(let n=1;n<e.length;n++){const r=e[n],s=e[n-1];r instanceof Bt&&s instanceof Bt&&dC(r,s)&&(e.splice(n-1,2,new Bt(s.data+r.data,s.getAttributes())),n--)}return e}function Tl(i,e){const t=i.getChild(e-1),n=i.getChild(e);if(t&&n&&t.is("$text")&&n.is("$text")&&dC(t,n)){const r=new Bt(t.data+n.data,t.getAttributes());i._removeChildren(e-1,2),i._insertChild(e-1,r)}}function xl(i){const e=i.textNode,t=i.parent;if(e){const n=i.offset-e.startOffset,r=e.index;t._removeChildren(r,1);const s=new Bt(e.data.substr(0,n),e.getAttributes()),o=new Bt(e.data.substr(n),e.getAttributes());t._insertChild(r,[s,o])}}function dC(i,e){const t=i.getAttributes(),n=e.getAttributes();for(const r of t){if(r[1]!==e.getAttribute(r[0]))return!1;n.next()}return n.next().done}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class it extends mi{constructor(e,t,n,r){super(r),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=t,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}clone(){return new it(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new it(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent,n=this.sourcePosition.offset,r=this.targetPosition.offset;if(n+this.howMany>e.maxOffset)throw new B("move-operation-nodes-do-not-exist",this);if(e===t&&n<r&&r<n+this.howMany)throw new B("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&Rn(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const s=this.sourcePosition.path.length-1;if(this.targetPosition.path[s]>=n&&this.targetPosition.path[s]<n+this.howMany)throw new B("move-operation-node-into-itself",this)}}_execute(){Sl(X._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,t){const n=oe.fromJSON(e.sourcePosition,t),r=oe.fromJSON(e.targetPosition,t);return new this(n,e.howMany,r,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class _n extends mi{constructor(e,t,n){super(n),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new dl(uC(t)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}clone(){const e=new dl([...this.nodes].map(n=>n._clone(!0))),t=new _n(this.position,e,this.baseVersion);return t.shouldReceiveAttributes=this.shouldReceiveAttributes,t}getReversed(){const e=this.position.root.document.graveyard,t=new oe(e,[0]);return new it(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new B("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new dl([...e].map(t=>t._clone(!0))),hp(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,t){const n=[];for(const s of e.nodes)s.name?n.push(gt.fromJSON(s)):n.push(Bt.fromJSON(s));const r=new _n(oe.fromJSON(e.position,t),n,e.baseVersion);return r.shouldReceiveAttributes=e.shouldReceiveAttributes,r}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class bt extends mi{constructor(e,t,n,r,s){super(s),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=t,this.insertionPosition=n,this.graveyardPosition=r?r.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new oe(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new X(this.splitPosition,e)}clone(){return new bt(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,t=new oe(e,[0]);return new Gt(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,t=this.splitPosition.offset;if(!e||e.maxOffset<t)throw new B("split-operation-position-invalid",this);if(e.parent){if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new B("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new B("split-operation-graveyard-position-invalid",this)}else throw new B("split-operation-split-in-root",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)Sl(X._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const n=e._clone();hp(this.insertionPosition,n)}const t=new X(oe._createAt(e,this.splitPosition.offset),oe._createAt(e,e.maxOffset));Sl(t,this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const t=e.path.slice(0,-1);return t[t.length-1]++,new oe(e.root,t,"toPrevious")}static fromJSON(e,t){const n=oe.fromJSON(e.splitPosition,t),r=oe.fromJSON(e.insertionPosition,t),s=e.graveyardPosition?oe.fromJSON(e.graveyardPosition,t):null;return new this(n,e.howMany,r,s,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Gt extends mi{constructor(e,t,n,r,s){super(s),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=t,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=r.clone()}get type(){return"merge"}get deletionPosition(){return new oe(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new X(this.sourcePosition,e)}clone(){return new Gt(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),n=new oe(this.sourcePosition.root,t)._getTransformedByMergeOperation(this);return new bt(e,this.howMany,n,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent;if(e.parent)if(t.parent){if(this.howMany!=e.maxOffset)throw new B("merge-operation-how-many-invalid",this)}else throw new B("merge-operation-target-position-invalid",this);else throw new B("merge-operation-source-position-invalid",this)}_execute(){const e=this.sourcePosition.parent,t=X._createIn(e);Sl(t,this.targetPosition),Sl(X._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,t){const n=oe.fromJSON(e.sourcePosition,t),r=oe.fromJSON(e.targetPosition,t),s=oe.fromJSON(e.graveyardPosition,t);return new this(n,e.howMany,r,s,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Zn extends mi{constructor(e,t,n,r,s,o){super(o),this.name=e,this.oldRange=t?t.clone():null,this.newRange=n?n.clone():null,this.affectsData=s,this._markers=r}get type(){return"marker"}clone(){return new Zn(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new Zn(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,t){return new Zn(e.name,e.oldRange?X.fromJSON(e.oldRange,t):null,e.newRange?X.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class nn extends mi{constructor(e,t,n,r,s){super(s),this.range=e.clone(),this.key=t,this.oldValue=n===void 0?null:n,this.newValue=r===void 0?null:r}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}clone(){return new nn(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new nn(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new B("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!kw(e.getAttribute(this.key),this.oldValue))throw new B("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new B("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){kw(this.oldValue,this.newValue)||T8(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,t){return new nn(X.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class dn extends mi{get type(){return"noop"}clone(){return new dn(this.baseVersion)}getReversed(){return new dn(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Qn extends mi{constructor(e,t,n,r){super(r),this.position=e,this.position.stickiness="toNext",this.oldName=t,this.newName=n}get type(){return"rename"}clone(){return new Qn(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Qn(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(e instanceof gt){if(e.name!==this.oldName)throw new B("rename-operation-wrong-name",this)}else throw new B("rename-operation-wrong-position",this)}_execute(){const e=this.position.nodeAfter;e.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,t){return new Qn(oe.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ar extends mi{constructor(e,t,n,r,s){super(s),this.root=e,this.key=t,this.oldValue=n===void 0?null:n,this.newValue=r===void 0?null:r}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}clone(){return new Ar(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Ar(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new B("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new B("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new B("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,t){if(!t.getRoot(e.root))throw new B("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new Ar(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class sr extends mi{constructor(e,t,n,r,s){if(super(s),this.rootName=e,this.elementName=t,this.isAdd=n,this._document=r,!this._document.getRoot(this.rootName)){const o=this._document.createRoot(this.elementName,this.rootName);o._isAttached=!1}}get type(){return this.isAdd?"addRoot":"detachRoot"}clone(){return new sr(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new sr(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_validate(){const e=this._document.getRoot(this.rootName);if(e.isAttached()&&this.isAdd)throw new B("root-operation-root-attached",this);if(!e.isAttached()&&!this.isAdd)throw new B("root-operation-root-detached",this)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,t){return new sr(e.rootName,e.elementName,e.isAdd,t,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Ri={};Ri[nn.className]=nn;Ri[_n.className]=_n;Ri[Zn.className]=Zn;Ri[it.className]=it;Ri[dn.className]=dn;Ri[mi.className]=mi;Ri[Qn.className]=Qn;Ri[Ar.className]=Ar;Ri[sr.className]=sr;Ri[bt.className]=bt;Ri[Gt.className]=Gt;class x8{static fromJSON(e,t){return Ri[e.__className].fromJSON(e,t)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const pg=new Map;function nt(i,e,t){let n=pg.get(i);n||(n=new Map,pg.set(i,n)),n.set(e,t)}function k8(i,e){const t=pg.get(i);return t&&t.has(e)?t.get(e):A8}function A8(i){return[i]}function db(i,e,t={}){const n=k8(i.constructor,e.constructor);try{return i=i.clone(),n(i,e,t)}catch(r){throw r}}function P8(i,e,t){i=i.slice(),e=e.slice();const n=new I8(t.document,t.useRelations,t.forceWeakRemove);n.setOriginalOperations(i),n.setOriginalOperations(e);const r=n.originalOperations;if(i.length==0||e.length==0)return{operationsA:i,operationsB:e,originalOperations:r};const s=new WeakMap;for(const u of i)s.set(u,0);const o={nextBaseVersionA:i[i.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:i.length,originalOperationsBCount:e.length};let l=0;for(;l<i.length;){const u=i[l],h=s.get(u);if(h==e.length){l++;continue}const f=e[h],m=db(u,f,n.getContext(u,f,!0)),v=db(f,u,n.getContext(f,u,!1));n.updateRelation(u,f),n.setOriginalOperations(m,u),n.setOriginalOperations(v,f);for(const C of m)s.set(C,h+v.length);i.splice(l,1,...m),e.splice(h,1,...v)}if(t.padWithNoOps){const u=i.length-o.originalOperationsACount,h=e.length-o.originalOperationsBCount;fb(i,h-u),fb(e,u-h)}return hb(i,o.nextBaseVersionB),hb(e,o.nextBaseVersionA),{operationsA:i,operationsB:e,originalOperations:r}}class I8{constructor(e,t,n=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=t,this._forceWeakRemove=!!n,this._relations=new Map}setOriginalOperations(e,t=null){const n=t?this.originalOperations.get(t):null;for(const r of e)this.originalOperations.set(r,n||r)}updateRelation(e,t){if(e instanceof it)t instanceof Gt?e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)&&this._setRelation(e,t,"moveTargetAfter"):t instanceof it&&(e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter"));else if(e instanceof bt){if(t instanceof Gt)e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");else if(t instanceof it)if(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition))this._setRelation(e,t,"splitBefore");else{const n=X._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&n.containsPosition(e.splitPosition)){const r=n.end.offset-e.splitPosition.offset,s=e.splitPosition.offset-n.start.offset;this._setRelation(e,t,{howMany:r,offset:s})}}}else if(e instanceof Gt)t instanceof Gt?(e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement")):t instanceof bt&&e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource");else if(e instanceof Zn){const n=e.newRange;if(!n)return;if(t instanceof it){const r=X._createFromPositionAndShift(t.sourcePosition,t.howMany),s=r.containsPosition(n.start)||r.start.isEqual(n.start),o=r.containsPosition(n.end)||r.end.isEqual(n.end);(s||o)&&!r.containsRange(n)&&this._setRelation(e,t,{side:s?"left":"right",path:s?n.start.path.slice():n.end.path.slice()})}else if(t instanceof Gt){const r=n.start.isEqual(t.targetPosition),s=n.start.isEqual(t.deletionPosition),o=n.end.isEqual(t.deletionPosition),l=n.end.isEqual(t.sourcePosition);(r||s||o||l)&&this._setRelation(e,t,{wasInLeftElement:r,wasStartBeforeMergedElement:s,wasEndBeforeMergedElement:o,wasInRightElement:l})}}}getContext(e,t,n){return{aIsStrong:n,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}_getRelation(e,t){const n=this.originalOperations.get(t),r=this._history.getUndoneOperation(n);if(!r)return null;const s=this.originalOperations.get(e),o=this._relations.get(s);return o&&o.get(r)||null}_setRelation(e,t,n){const r=this.originalOperations.get(e),s=this.originalOperations.get(t);let o=this._relations.get(r);o||(o=new Map,this._relations.set(r,o)),o.set(s,n)}}function hb(i,e){for(const t of i)t.baseVersion=e++}function fb(i,e){for(let t=0;t<e;t++)i.push(new dn(0))}nt(nn,nn,(i,e,t)=>{if(i.key===e.key&&i.range.start.hasSameParentAs(e.range.start)){const n=i.range.getDifference(e.range).map(s=>new nn(s,i.key,i.oldValue,i.newValue,0)),r=i.range.getIntersection(e.range);return r&&t.aIsStrong&&n.push(new nn(r,e.key,e.newValue,i.newValue,0)),n.length==0?[new dn(0)]:n}else return[i]});nt(nn,_n,(i,e)=>{if(i.range.start.hasSameParentAs(e.position)&&i.range.containsPosition(e.position)){const n=i.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(r=>new nn(r,i.key,i.oldValue,i.newValue,i.baseVersion));if(e.shouldReceiveAttributes){const r=hC(e,i.key,i.oldValue);r&&n.unshift(r)}return n}return i.range=i.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[i]});function hC(i,e,t){const r=i.nodes.getNode(0).getAttribute(e);if(r==t)return null;const s=new X(i.position,i.position.getShiftedBy(i.howMany));return new nn(s,e,r,t,0)}nt(nn,Gt,(i,e)=>{const t=[];i.range.start.hasSameParentAs(e.deletionPosition)&&(i.range.containsPosition(e.deletionPosition)||i.range.start.isEqual(e.deletionPosition))&&t.push(X._createFromPositionAndShift(e.graveyardPosition,1));const n=i.range._getTransformedByMergeOperation(e);return n.isCollapsed||t.push(n),t.map(r=>new nn(r,i.key,i.oldValue,i.newValue,i.baseVersion))});nt(nn,it,(i,e)=>R8(i.range,e).map(n=>new nn(n,i.key,i.oldValue,i.newValue,i.baseVersion)));function R8(i,e){const t=X._createFromPositionAndShift(e.sourcePosition,e.howMany);let n=null,r=[];t.containsRange(i,!0)?n=i:i.start.hasSameParentAs(t.start)?(r=i.getDifference(t),n=i.getIntersection(t)):r=[i];const s=[];for(let o of r){o=o._getTransformedByDeletion(e.sourcePosition,e.howMany);const l=e.getMovedRangeStart(),u=o.start.hasSameParentAs(l),h=o._getTransformedByInsertion(l,e.howMany,u);s.push(...h)}return n&&s.push(n._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,!1)[0]),s}nt(nn,bt,(i,e)=>{if(i.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||i.range.end.offset++,[i];if(i.range.start.hasSameParentAs(e.splitPosition)&&i.range.containsPosition(e.splitPosition)){const t=i.clone();return t.range=new X(e.moveTargetPosition.clone(),i.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),i.range.end=e.splitPosition.clone(),i.range.end.stickiness="toPrevious",[i,t]}return i.range=i.range._getTransformedBySplitOperation(e),[i]});nt(_n,nn,(i,e)=>{const t=[i];if(i.shouldReceiveAttributes&&i.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(i.position)){const n=hC(i,e.key,e.newValue);n&&t.push(n)}return t});nt(_n,_n,(i,e,t)=>i.position.isEqual(e.position)&&t.aIsStrong?[i]:(i.position=i.position._getTransformedByInsertOperation(e),[i]));nt(_n,it,(i,e)=>(i.position=i.position._getTransformedByMoveOperation(e),[i]));nt(_n,bt,(i,e)=>(i.position=i.position._getTransformedBySplitOperation(e),[i]));nt(_n,Gt,(i,e)=>(i.position=i.position._getTransformedByMergeOperation(e),[i]));nt(Zn,_n,(i,e)=>(i.oldRange&&(i.oldRange=i.oldRange._getTransformedByInsertOperation(e)[0]),i.newRange&&(i.newRange=i.newRange._getTransformedByInsertOperation(e)[0]),[i]));nt(Zn,Zn,(i,e,t)=>{if(i.name==e.name)if(t.aIsStrong)i.oldRange=e.newRange?e.newRange.clone():null;else return[new dn(0)];return[i]});nt(Zn,Gt,(i,e)=>(i.oldRange&&(i.oldRange=i.oldRange._getTransformedByMergeOperation(e)),i.newRange&&(i.newRange=i.newRange._getTransformedByMergeOperation(e)),[i]));nt(Zn,it,(i,e,t)=>{if(i.oldRange&&(i.oldRange=X._createFromRanges(i.oldRange._getTransformedByMoveOperation(e))),i.newRange){if(t.abRelation){const n=X._createFromRanges(i.newRange._getTransformedByMoveOperation(e));if(t.abRelation.side=="left"&&e.targetPosition.isEqual(i.newRange.start))return i.newRange.end=n.end,i.newRange.start.path=t.abRelation.path,[i];if(t.abRelation.side=="right"&&e.targetPosition.isEqual(i.newRange.end))return i.newRange.start=n.start,i.newRange.end.path=t.abRelation.path,[i]}i.newRange=X._createFromRanges(i.newRange._getTransformedByMoveOperation(e))}return[i]});nt(Zn,bt,(i,e,t)=>{if(i.oldRange&&(i.oldRange=i.oldRange._getTransformedBySplitOperation(e)),i.newRange){if(t.abRelation){const n=i.newRange._getTransformedBySplitOperation(e);return i.newRange.start.isEqual(e.splitPosition)&&t.abRelation.wasStartBeforeMergedElement?i.newRange.start=oe._createAt(e.insertionPosition):i.newRange.start.isEqual(e.splitPosition)&&!t.abRelation.wasInLeftElement&&(i.newRange.start=oe._createAt(e.moveTargetPosition)),i.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasInRightElement?i.newRange.end=oe._createAt(e.moveTargetPosition):i.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasEndBeforeMergedElement?i.newRange.end=oe._createAt(e.insertionPosition):i.newRange.end=n.end,[i]}i.newRange=i.newRange._getTransformedBySplitOperation(e)}return[i]});nt(Gt,_n,(i,e)=>(i.sourcePosition.hasSameParentAs(e.position)&&(i.howMany+=e.howMany),i.sourcePosition=i.sourcePosition._getTransformedByInsertOperation(e),i.targetPosition=i.targetPosition._getTransformedByInsertOperation(e),[i]));nt(Gt,Gt,(i,e,t)=>{if(i.sourcePosition.isEqual(e.sourcePosition)&&i.targetPosition.isEqual(e.targetPosition))if(t.bWasUndone){const n=e.graveyardPosition.path.slice();return n.push(0),i.sourcePosition=new oe(e.graveyardPosition.root,n),i.howMany=0,[i]}else return[new dn(0)];if(i.sourcePosition.isEqual(e.sourcePosition)&&!i.targetPosition.isEqual(e.targetPosition)&&!t.bWasUndone&&t.abRelation!="splitAtSource"){const n=i.targetPosition.root.rootName=="$graveyard",r=e.targetPosition.root.rootName=="$graveyard";if(r&&!n||!(n&&!r)&&t.aIsStrong){const u=e.targetPosition._getTransformedByMergeOperation(e),h=i.targetPosition._getTransformedByMergeOperation(e);return[new it(u,i.howMany,h,0)]}else return[new dn(0)]}return i.sourcePosition.hasSameParentAs(e.targetPosition)&&(i.howMany+=e.howMany),i.sourcePosition=i.sourcePosition._getTransformedByMergeOperation(e),i.targetPosition=i.targetPosition._getTransformedByMergeOperation(e),(!i.graveyardPosition.isEqual(e.graveyardPosition)||!t.aIsStrong)&&(i.graveyardPosition=i.graveyardPosition._getTransformedByMergeOperation(e)),[i]});nt(Gt,it,(i,e,t)=>{const n=X._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!t.bWasUndone&&!t.forceWeakRemove&&i.deletionPosition.hasSameParentAs(e.sourcePosition)&&n.containsPosition(i.sourcePosition)?[new dn(0)]:(i.sourcePosition.hasSameParentAs(e.targetPosition)&&(i.howMany+=e.howMany),i.sourcePosition.hasSameParentAs(e.sourcePosition)&&(i.howMany-=e.howMany),i.sourcePosition=i.sourcePosition._getTransformedByMoveOperation(e),i.targetPosition=i.targetPosition._getTransformedByMoveOperation(e),i.graveyardPosition.isEqual(e.targetPosition)||(i.graveyardPosition=i.graveyardPosition._getTransformedByMoveOperation(e)),[i])});nt(Gt,bt,(i,e,t)=>{if(e.graveyardPosition&&(i.graveyardPosition=i.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),i.deletionPosition.isEqual(e.graveyardPosition)&&(i.howMany=e.howMany)),i.targetPosition.isEqual(e.splitPosition)){const n=e.howMany!=0,r=e.graveyardPosition&&i.deletionPosition.isEqual(e.graveyardPosition);if(n||r||t.abRelation=="mergeTargetNotMoved")return i.sourcePosition=i.sourcePosition._getTransformedBySplitOperation(e),[i]}if(i.sourcePosition.isEqual(e.splitPosition)){if(t.abRelation=="mergeSourceNotMoved")return i.howMany=0,i.targetPosition=i.targetPosition._getTransformedBySplitOperation(e),[i];if(t.abRelation=="mergeSameElement"||i.sourcePosition.offset>0)return i.sourcePosition=e.moveTargetPosition.clone(),i.targetPosition=i.targetPosition._getTransformedBySplitOperation(e),[i]}return i.sourcePosition.hasSameParentAs(e.splitPosition)&&(i.howMany=e.splitPosition.offset),i.sourcePosition=i.sourcePosition._getTransformedBySplitOperation(e),i.targetPosition=i.targetPosition._getTransformedBySplitOperation(e),[i]});nt(it,_n,(i,e)=>{const n=X._createFromPositionAndShift(i.sourcePosition,i.howMany)._getTransformedByInsertOperation(e,!1)[0];return i.sourcePosition=n.start,i.howMany=n.end.offset-n.start.offset,i.targetPosition.isEqual(e.position)||(i.targetPosition=i.targetPosition._getTransformedByInsertOperation(e)),[i]});nt(it,it,(i,e,t)=>{const n=X._createFromPositionAndShift(i.sourcePosition,i.howMany),r=X._createFromPositionAndShift(e.sourcePosition,e.howMany);let s=t.aIsStrong,o=!t.aIsStrong;t.abRelation=="insertBefore"||t.baRelation=="insertAfter"?o=!0:(t.abRelation=="insertAfter"||t.baRelation=="insertBefore")&&(o=!1);let l;if(i.targetPosition.isEqual(e.targetPosition)&&o?l=i.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):l=i.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),mb(i,e)&&mb(e,i))return[e.getReversed()];if(n.containsPosition(e.targetPosition)&&n.containsRange(r,!0))return n.start=n.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),n.end=n.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),No([n],l);if(r.containsPosition(i.targetPosition)&&r.containsRange(n,!0))return n.start=n.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),n.end=n.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),No([n],l);const f=Rn(i.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(f=="prefix"||f=="extension")return n.start=n.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),n.end=n.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),No([n],l);i.type=="remove"&&e.type!="remove"&&!t.aWasUndone&&!t.forceWeakRemove?s=!0:i.type!="remove"&&e.type=="remove"&&!t.bWasUndone&&!t.forceWeakRemove&&(s=!1);const m=[],v=n.getDifference(r);for(const k of v){k.start=k.start._getTransformedByDeletion(e.sourcePosition,e.howMany),k.end=k.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const S=Rn(k.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",x=k._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,S);m.push(...x)}const C=n.getIntersection(r);return C!==null&&s&&(C.start=C.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),C.end=C.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),m.length===0?m.push(C):m.length==1?r.start.isBefore(n.start)||r.start.isEqual(n.start)?m.unshift(C):m.push(C):m.splice(1,0,C)),m.length===0?[new dn(i.baseVersion)]:No(m,l)});nt(it,bt,(i,e,t)=>{let n=i.targetPosition.clone();(!i.targetPosition.isEqual(e.insertionPosition)||!e.graveyardPosition||t.abRelation=="moveTargetAfter")&&(n=i.targetPosition._getTransformedBySplitOperation(e));const r=X._createFromPositionAndShift(i.sourcePosition,i.howMany);if(r.end.isEqual(e.insertionPosition))return e.graveyardPosition||i.howMany++,i.targetPosition=n,[i];if(r.start.hasSameParentAs(e.splitPosition)&&r.containsPosition(e.splitPosition)){let l=new X(e.splitPosition,r.end);l=l._getTransformedBySplitOperation(e);const u=[new X(r.start,e.splitPosition),l];return No(u,n)}i.targetPosition.isEqual(e.splitPosition)&&t.abRelation=="insertAtSource"&&(n=e.moveTargetPosition),i.targetPosition.isEqual(e.insertionPosition)&&t.abRelation=="insertBetween"&&(n=i.targetPosition);const o=[r._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const l=r.start.isEqual(e.graveyardPosition)||r.containsPosition(e.graveyardPosition);i.howMany>1&&l&&!t.aWasUndone&&o.push(X._createFromPositionAndShift(e.insertionPosition,1))}return No(o,n)});nt(it,Gt,(i,e,t)=>{const n=X._createFromPositionAndShift(i.sourcePosition,i.howMany);if(e.deletionPosition.hasSameParentAs(i.sourcePosition)&&n.containsPosition(e.sourcePosition)){if(i.type=="remove"&&!t.forceWeakRemove){if(!t.aWasUndone){const o=[];let l=e.graveyardPosition.clone(),u=e.targetPosition._getTransformedByMergeOperation(e);i.howMany>1&&(o.push(new it(i.sourcePosition,i.howMany-1,i.targetPosition,0)),l=l._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany-1),u=u._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany-1));const h=e.deletionPosition._getCombined(i.sourcePosition,i.targetPosition),f=new it(l,1,h,0),m=f.getMovedRangeStart().path.slice();m.push(0);const v=new oe(f.targetPosition.root,m);u=u._getTransformedByMove(l,h,1);const C=new it(u,e.howMany,v,0);return o.push(f),o.push(C),o}}else if(i.howMany==1)return t.bWasUndone?(i.sourcePosition=e.graveyardPosition.clone(),i.targetPosition=i.targetPosition._getTransformedByMergeOperation(e),[i]):[new dn(0)]}const s=X._createFromPositionAndShift(i.sourcePosition,i.howMany)._getTransformedByMergeOperation(e);return i.sourcePosition=s.start,i.howMany=s.end.offset-s.start.offset,i.targetPosition=i.targetPosition._getTransformedByMergeOperation(e),[i]});nt(Qn,_n,(i,e)=>(i.position=i.position._getTransformedByInsertOperation(e),[i]));nt(Qn,Gt,(i,e)=>i.position.isEqual(e.deletionPosition)?(i.position=e.graveyardPosition.clone(),i.position.stickiness="toNext",[i]):(i.position=i.position._getTransformedByMergeOperation(e),[i]));nt(Qn,it,(i,e)=>(i.position=i.position._getTransformedByMoveOperation(e),[i]));nt(Qn,Qn,(i,e,t)=>{if(i.position.isEqual(e.position))if(t.aIsStrong)i.oldName=e.newName;else return[new dn(0)];return[i]});nt(Qn,bt,(i,e)=>{const t=i.position.path,n=e.splitPosition.getParentPath();if(Rn(t,n)=="same"&&!e.graveyardPosition){const r=new Qn(i.position.getShiftedBy(1),i.oldName,i.newName,0);return[i,r]}return i.position=i.position._getTransformedBySplitOperation(e),[i]});nt(Ar,Ar,(i,e,t)=>{if(i.root===e.root&&i.key===e.key){if(!t.aIsStrong||i.newValue===e.newValue)return[new dn(0)];i.oldValue=e.newValue}return[i]});nt(sr,sr,(i,e,t)=>i.rootName===e.rootName&&i.isAdd===e.isAdd&&!t.bWasUndone?[new dn(0)]:[i]);nt(bt,_n,(i,e)=>(i.splitPosition.hasSameParentAs(e.position)&&i.splitPosition.offset<e.position.offset&&(i.howMany+=e.howMany),i.splitPosition=i.splitPosition._getTransformedByInsertOperation(e),i.insertionPosition=i.insertionPosition._getTransformedByInsertOperation(e),[i]));nt(bt,Gt,(i,e,t)=>{if(!i.graveyardPosition&&!t.bWasUndone&&i.splitPosition.hasSameParentAs(e.sourcePosition)){const n=e.graveyardPosition.path.slice();n.push(0);const r=new oe(e.graveyardPosition.root,n),s=bt.getInsertionPosition(new oe(e.graveyardPosition.root,n)),o=new bt(r,0,s,null,0);return i.splitPosition=i.splitPosition._getTransformedByMergeOperation(e),i.insertionPosition=bt.getInsertionPosition(i.splitPosition),i.graveyardPosition=o.insertionPosition.clone(),i.graveyardPosition.stickiness="toNext",[o,i]}return i.splitPosition.hasSameParentAs(e.deletionPosition)&&!i.splitPosition.isAfter(e.deletionPosition)&&i.howMany--,i.splitPosition.hasSameParentAs(e.targetPosition)&&(i.howMany+=e.howMany),i.splitPosition=i.splitPosition._getTransformedByMergeOperation(e),i.insertionPosition=bt.getInsertionPosition(i.splitPosition),i.graveyardPosition&&(i.graveyardPosition=i.graveyardPosition._getTransformedByMergeOperation(e)),[i]});nt(bt,it,(i,e,t)=>{const n=X._createFromPositionAndShift(e.sourcePosition,e.howMany);if(i.graveyardPosition){const s=n.start.isEqual(i.graveyardPosition)||n.containsPosition(i.graveyardPosition);if(!t.bWasUndone&&s){const o=i.splitPosition._getTransformedByMoveOperation(e),l=i.graveyardPosition._getTransformedByMoveOperation(e),u=l.path.slice();u.push(0);const h=new oe(l.root,u);return[new it(o,i.howMany,h,0)]}i.graveyardPosition=i.graveyardPosition._getTransformedByMoveOperation(e)}const r=i.splitPosition.isEqual(e.targetPosition);if(r&&(t.baRelation=="insertAtSource"||t.abRelation=="splitBefore"))return i.howMany+=e.howMany,i.splitPosition=i.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),i.insertionPosition=bt.getInsertionPosition(i.splitPosition),[i];if(r&&t.abRelation&&t.abRelation.howMany){const{howMany:s,offset:o}=t.abRelation;return i.howMany+=s,i.splitPosition=i.splitPosition.getShiftedBy(o),[i]}if(i.splitPosition.hasSameParentAs(e.sourcePosition)&&n.containsPosition(i.splitPosition)){const s=e.howMany-(i.splitPosition.offset-e.sourcePosition.offset);return i.howMany-=s,i.splitPosition.hasSameParentAs(e.targetPosition)&&i.splitPosition.offset<e.targetPosition.offset&&(i.howMany+=e.howMany),i.splitPosition=e.sourcePosition.clone(),i.insertionPosition=bt.getInsertionPosition(i.splitPosition),[i]}return e.sourcePosition.isEqual(e.targetPosition)||(i.splitPosition.hasSameParentAs(e.sourcePosition)&&i.splitPosition.offset<=e.sourcePosition.offset&&(i.howMany-=e.howMany),i.splitPosition.hasSameParentAs(e.targetPosition)&&i.splitPosition.offset<e.targetPosition.offset&&(i.howMany+=e.howMany)),i.splitPosition.stickiness="toNone",i.splitPosition=i.splitPosition._getTransformedByMoveOperation(e),i.splitPosition.stickiness="toNext",i.graveyardPosition?i.insertionPosition=i.insertionPosition._getTransformedByMoveOperation(e):i.insertionPosition=bt.getInsertionPosition(i.splitPosition),[i]});nt(bt,bt,(i,e,t)=>{if(i.splitPosition.isEqual(e.splitPosition)){if(!i.graveyardPosition&&!e.graveyardPosition)return[new dn(0)];if(i.graveyardPosition&&e.graveyardPosition&&i.graveyardPosition.isEqual(e.graveyardPosition))return[new dn(0)];if(t.abRelation=="splitBefore")return i.howMany=0,i.graveyardPosition=i.graveyardPosition._getTransformedBySplitOperation(e),[i]}if(i.graveyardPosition&&e.graveyardPosition&&i.graveyardPosition.isEqual(e.graveyardPosition)){const n=i.splitPosition.root.rootName=="$graveyard",r=e.splitPosition.root.rootName=="$graveyard";if(r&&!n||!(n&&!r)&&t.aIsStrong){const u=[];return e.howMany&&u.push(new it(e.moveTargetPosition,e.howMany,e.splitPosition,0)),i.howMany&&u.push(new it(i.splitPosition,i.howMany,i.moveTargetPosition,0)),u}else return[new dn(0)]}if(i.graveyardPosition&&(i.graveyardPosition=i.graveyardPosition._getTransformedBySplitOperation(e)),i.splitPosition.isEqual(e.insertionPosition)&&t.abRelation=="splitBefore")return i.howMany++,[i];if(e.splitPosition.isEqual(i.insertionPosition)&&t.baRelation=="splitBefore"){const n=e.insertionPosition.path.slice();n.push(0);const r=new oe(e.insertionPosition.root,n),s=new it(i.insertionPosition,1,r,0);return[i,s]}return i.splitPosition.hasSameParentAs(e.splitPosition)&&i.splitPosition.offset<e.splitPosition.offset&&(i.howMany-=e.howMany),i.splitPosition=i.splitPosition._getTransformedBySplitOperation(e),i.insertionPosition=bt.getInsertionPosition(i.splitPosition),[i]});function mb(i,e){return i.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function No(i,e){const t=[];for(let n=0;n<i.length;n++){const r=i[n],s=new it(r.start,r.end.offset-r.start.offset,e,0);t.push(s);for(let o=n+1;o<i.length;o++)i[o]=i[o]._getTransformedByMove(s.sourcePosition,s.targetPosition,s.howMany)[0];e=e._getTransformedByMove(s.sourcePosition,s.targetPosition,s.howMany)}return t}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Cn extends kt(oe){constructor(e,t,n="toNone"){if(super(e,t,n),!this.root.is("rootElement"))throw new B("model-liveposition-root-not-rootelement",e);O8.call(this)}detach(){this.stopListening()}toPosition(){return new oe(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}}Cn.prototype.is=function(i){return i==="livePosition"||i==="model:livePosition"||i=="position"||i==="model:position"};function O8(){this.listenTo(this.root.document.model,"applyOperation",(i,e)=>{const t=e[0];t.isDocumentOperation&&M8.call(this,t)},{priority:"low"})}function M8(i){const e=this.getTransformedByOperation(i);if(!this.isEqual(e)){const t=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",t)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ko{constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},Jt("batch-constructor-deprecated-string-type"));const{isUndoable:t=!0,isLocal:n=!0,isUndo:r=!1,isTyping:s=!1}=e;this.operations=[],this.isUndoable=t,this.isLocal=n,this.isUndo=r,this.isTyping=s}get type(){return Jt("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class N8{constructor(e){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){const t=e;switch(t.type){case"insert":{if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break}case"addAttribute":case"removeAttribute":case"changeAttribute":{for(const n of t.range.getItems({shallow:!0}))this._isInInsertedElement(n.parent)||this._markAttribute(n);break}case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;const n=this._isInInsertedElement(t.sourcePosition.parent),r=this._isInInsertedElement(t.targetPosition.parent);n||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),r||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const n=X._createFromPositionAndShift(t.position,1);for(const r of this._markerCollection.getMarkersIntersectingRange(n)){const s=r.getData();this.bufferMarkerChange(r.name,s,s)}break}case"split":{const n=t.splitPosition.parent;this._isInInsertedElement(n)||this._markRemove(n,t.splitPosition.offset,t.howMany),this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1);break}case"merge":{const n=t.sourcePosition.parent;this._isInInsertedElement(n.parent)||this._markRemove(n.parent,n.startOffset,1);const r=t.graveyardPosition.parent;this._markInsert(r,t.graveyardPosition.offset,1);const s=t.targetPosition.parent;this._isInInsertedElement(s)||this._markInsert(s,t.targetPosition.offset,n.maxOffset);break}case"detachRoot":case"addRoot":{this._bufferRootStateChange(t.rootName,t.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{const n=t.root.rootName;this._bufferRootAttributeChange(n,t.key,t.oldValue,t.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,t,n){const r=this._changedMarkers.get(e);r?(r.newMarkerData=n,r.oldMarkerData.range==null&&n.range==null&&this._changedMarkers.delete(e)):this._changedMarkers.set(e,{newMarkerData:n,oldMarkerData:t})}getMarkersToRemove(){const e=[];for(const[t,n]of this._changedMarkers)n.oldMarkerData.range!=null&&e.push({name:t,range:n.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[t,n]of this._changedMarkers)n.newMarkerData.range!=null&&e.push({name:t,range:n.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,t])=>({name:e,data:{oldRange:t.oldMarkerData.range,newRange:t.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0||this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:t}of this._changedMarkers.values()){if(e.affectsData!==t.affectsData)return!0;if(e.affectsData){const n=e.range&&!t.range,r=!e.range&&t.range,s=e.range&&t.range&&!e.range.isEqual(t.range);if(n||r||s)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let t=[];for(const n of this._changesInElement.keys()){const r=this._changesInElement.get(n).sort((f,m)=>f.offset===m.offset?f.type!=m.type?f.type=="remove"?-1:1:0:f.offset<m.offset?-1:1),s=this._elementSnapshots.get(n),o=gb(n.getChildren()),l=D8(s.length,r);let u=0,h=0;for(const f of l)if(f==="i")t.push(this._getInsertDiff(n,u,o[u])),u++;else if(f==="r")t.push(this._getRemoveDiff(n,u,s[h])),h++;else if(f==="a"){const m=o[u].attributes,v=s[h].attributes;let C;if(o[u].name=="$text")C=new X(oe._createAt(n,u),oe._createAt(n,u+1));else{const k=n.offsetToIndex(u);C=new X(oe._createAt(n,u),oe._createAt(n.getChild(k),0))}t.push(...this._getAttributesDiff(C,v,m)),u++,h++}else u++,h++}t.sort((n,r)=>n.position.root!=r.position.root?n.position.root.rootName<r.position.root.rootName?-1:1:n.position.isEqual(r.position)?n.changeCount-r.changeCount:n.position.isBefore(r.position)?-1:1);for(let n=1,r=0;n<t.length;n++){const s=t[r],o=t[n],l=s.type=="remove"&&o.type=="remove"&&s.name=="$text"&&o.name=="$text"&&s.position.isEqual(o.position),u=s.type=="insert"&&o.type=="insert"&&s.name=="$text"&&o.name=="$text"&&s.position.parent==o.position.parent&&s.position.offset+s.length==o.position.offset,h=s.type=="attribute"&&o.type=="attribute"&&s.position.parent==o.position.parent&&s.range.isFlat&&o.range.isFlat&&s.position.offset+s.length==o.position.offset&&s.attributeKey==o.attributeKey&&s.attributeOldValue==o.attributeOldValue&&s.attributeNewValue==o.attributeNewValue;l||u||h?(s.length++,h&&(s.range.end=s.range.end.getShiftedBy(1)),t[n]=null):r=n}t=t.filter(n=>n);for(const n of t)delete n.changeCount,n.type=="attribute"&&(delete n.position,delete n.length);return this._changeCount=0,this._cachedChangesWithGraveyard=t,this._cachedChanges=t.filter(B8),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{const t={...e};return t.state!==void 0&&delete t.attributes,t})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(e,t){if(!this._changedRoots.has(e)){this._changedRoots.set(e,{name:e,state:t?"attached":"detached"});return}const n=this._changedRoots.get(e);n.state!==void 0?(delete n.state,n.attributes===void 0&&this._changedRoots.delete(e)):n.state=t?"attached":"detached"}_bufferRootAttributeChange(e,t,n,r){const s=this._changedRoots.get(e)||{name:e},o=s.attributes||{};if(o[t]){const l=o[t];r===l.oldValue?delete o[t]:l.newValue=r}else o[t]={oldValue:n,newValue:r};Object.entries(o).length===0?(delete s.attributes,s.state===void 0&&this._changedRoots.delete(e)):(s.attributes=o,this._changedRoots.set(e,s))}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);const t=X._createOn(e);for(const n of this._markerCollection.getMarkersIntersectingRange(t)){const r=n.getData();this.bufferMarkerChange(n.name,r,r)}this._cachedChanges=null}_markInsert(e,t,n){const r={type:"insert",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,r)}_markRemove(e,t,n){const r={type:"remove",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,r),this._removeAllNestedChanges(e,t,n)}_markAttribute(e){const t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}_markChange(e,t){this._makeSnapshot(e);const n=this._getChangesForElement(e);this._handleChange(t,n),n.push(t);for(let r=0;r<n.length;r++)n[r].howMany<1&&(n.splice(r,1),r--)}_getChangesForElement(e){let t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,gb(e.getChildren()))}_handleChange(e,t){e.nodesToHandle=e.howMany;for(const n of t){const r=e.offset+e.howMany,s=n.offset+n.howMany;if(e.type=="insert"&&(n.type=="insert"&&(e.offset<=n.offset?n.offset+=e.howMany:e.offset<s&&(n.howMany+=e.nodesToHandle,e.nodesToHandle=0)),n.type=="remove"&&e.offset<n.offset&&(n.offset+=e.howMany),n.type=="attribute")){if(e.offset<=n.offset)n.offset+=e.howMany;else if(e.offset<s){const o=n.howMany;n.howMany=e.offset-n.offset,t.unshift({type:"attribute",offset:r,howMany:o-n.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(n.type=="insert"){if(r<=n.offset)n.offset-=e.howMany;else if(r<=s)if(e.offset<n.offset){const o=r-n.offset;n.offset=e.offset,n.howMany-=o,e.nodesToHandle-=o}else n.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=n.offset)e.nodesToHandle-=n.howMany,n.howMany=0;else if(e.offset<s){const o=s-e.offset;n.howMany-=o,e.nodesToHandle-=o}}if(n.type=="remove"&&(r<=n.offset?n.offset-=e.howMany:e.offset<n.offset&&(e.nodesToHandle+=n.howMany,n.howMany=0)),n.type=="attribute"){if(r<=n.offset)n.offset-=e.howMany;else if(e.offset<n.offset){const o=r-n.offset;n.offset=e.offset,n.howMany-=o}else if(e.offset<s)if(r<=s){const o=n.howMany;n.howMany=e.offset-n.offset;const l=o-n.howMany-e.nodesToHandle;t.unshift({type:"attribute",offset:e.offset,howMany:l,count:this._changeCount++})}else n.howMany-=s-e.offset}}if(e.type=="attribute"){if(n.type=="insert")if(e.offset<n.offset&&r>n.offset){if(r>s){const o={type:"attribute",offset:s,howMany:r-s,count:this._changeCount++};this._handleChange(o,t),t.push(o)}e.nodesToHandle=n.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=n.offset&&e.offset<s&&(r>s?(e.nodesToHandle=r-s,e.offset=s):e.nodesToHandle=0);if(n.type=="remove"&&e.offset<n.offset&&r>n.offset){const o={type:"attribute",offset:n.offset,howMany:r-n.offset,count:this._changeCount++};this._handleChange(o,t),t.push(o),e.nodesToHandle=n.offset-e.offset,e.howMany=e.nodesToHandle}n.type=="attribute"&&(e.offset>=n.offset&&r<=s?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=n.offset&&r>=s&&(n.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,t,n){return{type:"insert",position:oe._createAt(e,t),name:n.name,attributes:new Map(n.attributes),length:1,changeCount:this._changeCount++}}_getRemoveDiff(e,t,n){return{type:"remove",position:oe._createAt(e,t),name:n.name,attributes:new Map(n.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(e,t,n){const r=[];n=new Map(n);for(const[s,o]of t){const l=n.has(s)?n.get(s):null;l!==o&&r.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:s,attributeOldValue:o,attributeNewValue:l,changeCount:this._changeCount++}),n.delete(s)}for(const[s,o]of n)r.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:s,attributeOldValue:null,attributeNewValue:o,changeCount:this._changeCount++});return r}_isInInsertedElement(e){const t=e.parent;if(!t)return!1;const n=this._changesInElement.get(t),r=e.startOffset;if(n){for(const s of n)if(s.type=="insert"&&r>=s.offset&&r<s.offset+s.howMany)return!0}return this._isInInsertedElement(t)}_removeAllNestedChanges(e,t,n){const r=new X(oe._createAt(e,t),oe._createAt(e,t+n));for(const s of r.getItems({shallow:!0}))s.is("element")&&(this._elementSnapshots.delete(s),this._changesInElement.delete(s),this._removeAllNestedChanges(s,0,s.maxOffset))}}function gb(i){const e=[];for(const t of i)if(t.is("$text"))for(let n=0;n<t.data.length;n++)e.push({name:"$text",attributes:new Map(t.getAttributes())});else e.push({name:t.name,attributes:new Map(t.getAttributes())});return e}function D8(i,e){const t=[];let n=0,r=0;for(const s of e){if(s.offset>n){for(let o=0;o<s.offset-n;o++)t.push("e");r+=s.offset-n}if(s.type=="insert"){for(let o=0;o<s.howMany;o++)t.push("i");n=s.offset+s.howMany}else if(s.type=="remove"){for(let o=0;o<s.howMany;o++)t.push("r");n=s.offset,r+=s.howMany}else t.push(..."a".repeat(s.howMany).split("")),n=s.offset+s.howMany,r+=s.howMany}if(r<i)for(let s=0;s<i-r-n;s++)t.push("e");return t}function B8(i){const e="position"in i&&i.position.root.rootName=="$graveyard",t="range"in i&&i.range.root.rootName=="$graveyard";return!e&&!t}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class V8{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new B("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,t=this.version){if(!this._operations.length)return[];const n=this._operations[0];e===void 0&&(e=n.baseVersion);let r=t-1;for(const[l,u]of this._gaps)e>l&&e<u&&(e=u),r>l&&r<u&&(r=l-1);if(r<n.baseVersion||e>this.lastOperation.baseVersion)return[];let s=this._baseVersionToOperationIndex.get(e);s===void 0&&(s=0);let o=this._baseVersionToOperationIndex.get(r);return o===void 0&&(o=this._operations.length-1),this._operations.slice(s,o+1)}getOperation(e){const t=this._baseVersionToOperationIndex.get(e);if(t!==void 0)return this._operations[t]}setOperationAsUndone(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Pd extends gt{constructor(e,t,n="main"){super(t),this._isAttached=!0,this._document=e,this.rootName=n}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}Pd.prototype.is=function(i,e){return e?e===this.name&&(i==="rootElement"||i==="model:rootElement"||i==="element"||i==="model:element"):i==="rootElement"||i==="model:rootElement"||i==="element"||i==="model:element"||i==="node"||i==="model:node"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Cm="$graveyard";class L8 extends kt(){constructor(e){super(),this.model=e,this.history=new V8,this.selection=new zi(this),this.roots=new Br({idProperty:"rootName"}),this.differ=new N8(e.markers),this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",Cm),this.listenTo(e,"applyOperation",(t,n)=>{const r=n[0];r.isDocumentOperation&&this.differ.bufferOperation(r)},{priority:"high"}),this.listenTo(e,"applyOperation",(t,n)=>{const r=n[0];r.isDocumentOperation&&this.history.addOperation(r)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(t,n,r,s,o)=>{const l={...n.getData(),range:s};this.differ.bufferMarkerChange(n.name,o,l),r===null&&n.on("change",(u,h)=>{const f=n.getData();this.differ.bufferMarkerChange(n.name,{...f,range:h},f)})}),this.registerPostFixer(t=>{let n=!1;for(const r of this.roots)!r.isAttached()&&!r.isEmpty&&(t.remove(t.createRangeIn(r)),n=!0);for(const r of this.model.markers)r.getRange().root.isAttached()||(t.removeMarker(r),n=!0);return n})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(Cm)}createRoot(e="$root",t="main"){if(this.roots.get(t))throw new B("model-document-createroot-name-exists",this,{name:t});const n=new Pd(this,e,t);return this.roots.add(n),n}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return Array.from(this.roots).filter(t=>t.rootName!=Cm&&(e||t.isAttached())).map(t=>t.rootName)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=iE(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){for(const e of this.roots)if(e!==this.graveyard)return e;return this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),t=this.model,n=t.schema,r=t.createPositionFromPath(e,[0]);return n.getNearestSelectionRange(r)||t.createRange(r)}_validateSelectionRange(e){return pb(e.start)&&pb(e.end)}_callPostFixers(e){let t=!1;do for(const n of this._postFixers)if(this.selection.refresh(),t=n(e),t)break;while(t)}}function pb(i){const e=i.textNode;if(e){const t=e.data,n=i.offset-e.startOffset;return!ip(t,n)&&!rp(t,n)}return!0}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class F8 extends kt(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){const t=e instanceof Ro?e.name:e;return this._markers.has(t)}get(e){return this._markers.get(e)||null}_set(e,t,n=!1,r=!1){const s=e instanceof Ro?e.name:e;if(s.includes(","))throw new B("markercollection-incorrect-marker-name",this);const o=this._markers.get(s);if(o){const h=o.getData(),f=o.getRange();let m=!1;return f.isEqual(t)||(o._attachLiveRange(ur.fromRange(t)),m=!0),n!=o.managedUsingOperations&&(o._managedUsingOperations=n,m=!0),typeof r=="boolean"&&r!=o.affectsData&&(o._affectsData=r,m=!0),m&&this.fire(`update:${s}`,o,f,t,h),o}const l=ur.fromRange(t),u=new Ro(s,l,n,r);return this._markers.set(s,u),this.fire(`update:${s}`,u,null,t,{...u.getData(),range:null}),u}_remove(e){const t=e instanceof Ro?e.name:e,n=this._markers.get(t);return n?(this._markers.delete(t),this.fire(`update:${t}`,n,n.getRange(),null,n.getData()),this._destroyMarker(n),!0):!1}_refresh(e){const t=e instanceof Ro?e.name:e,n=this._markers.get(t);if(!n)throw new B("markercollection-refresh-marker-not-exists",this);const r=n.getRange();this.fire(`update:${t}`,n,r,r,n.getData())}*getMarkersAtPosition(e){for(const t of this)t.getRange().containsPosition(e)&&(yield t)}*getMarkersIntersectingRange(e){for(const t of this)t.getRange().getIntersection(e)!==null&&(yield t)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const t of this._markers.values())t.name.startsWith(e+":")&&(yield t)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class Ro extends kt(ls){constructor(e,t,n,r){super(),this.name=e,this._liveRange=this._attachLiveRange(t),this._managedUsingOperations=n,this._affectsData=r}get managedUsingOperations(){if(!this._liveRange)throw new B("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new B("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new B("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new B("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new B("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}Ro.prototype.is=function(i){return i==="marker"||i==="model:marker"};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class $8 extends mi{constructor(e,t){super(null),this.sourcePosition=e.clone(),this.howMany=t}get type(){return"detach"}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new B("detach-operation-on-document-node",this)}_execute(){cC(X._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class kr extends ls{constructor(e){super(),this.markers=new Map,this._children=new dl,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let t=this;for(const n of e)t=t.getChild(t.offsetToIndex(n));return t}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const t of this._children)e.push(t.toJSON());return e}static fromJSON(e){const t=[];for(const n of e)n.name?t.push(gt.fromJSON(n)):t.push(Bt.fromJSON(n));return new kr(t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const n=z8(t);for(const r of n)r.parent!==null&&r._remove(),r.parent=this;this._children._insertNodes(e,n)}_removeChildren(e,t=1){const n=this._children._removeNodes(e,t);for(const r of n)r.parent=null;return n}}kr.prototype.is=function(i){return i==="documentFragment"||i==="model:documentFragment"};function z8(i){return typeof i=="string"?[new Bt(i)]:(hi(i)||(i=[i]),Array.from(i).map(e=>typeof e=="string"?new Bt(e):e instanceof Bi?new Bt(e.data,e.getAttributes()):e))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class W8{constructor(e,t){this.model=e,this.batch=t}createText(e,t){return new Bt(e,t)}createElement(e,t){return new gt(e,t)}createDocumentFragment(){return new kr}cloneElement(e,t=!0){return e._clone(t)}insert(e,t,n=0){if(this._assertWriterUsedCorrectly(),e instanceof Bt&&e.data=="")return;const r=oe._createAt(t,n);if(e.parent)if(wb(e.root,r.root)){this.move(X._createOn(e),r);return}else{if(e.root.document)throw new B("model-writer-insert-forbidden-move",this);this.remove(e)}const s=r.root.document?r.root.document.version:null,o=new _n(r,e,s);if(e instanceof Bt&&(o.shouldReceiveAttributes=!0),this.batch.addOperation(o),this.model.applyOperation(o),e instanceof kr)for(const[l,u]of e.markers){const h=oe._createAt(u.root,0),m={range:new X(u.start._getCombined(h,r),u.end._getCombined(h,r)),usingOperation:!0,affectsData:!0};this.model.markers.has(l)?this.updateMarker(l,m):this.addMarker(l,m)}}insertText(e,t,n,r){t instanceof kr||t instanceof gt||t instanceof oe?this.insert(this.createText(e),t,n):this.insert(this.createText(e,t),n,r)}insertElement(e,t,n,r){t instanceof kr||t instanceof gt||t instanceof oe?this.insert(this.createElement(e),t,n):this.insert(this.createElement(e,t),n,r)}append(e,t){this.insert(e,t,"end")}appendText(e,t,n){t instanceof kr||t instanceof gt?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),n,"end")}appendElement(e,t,n){t instanceof kr||t instanceof gt?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),n,"end")}setAttribute(e,t,n){if(this._assertWriterUsedCorrectly(),n instanceof X){const r=n.getMinimalFlatRanges();for(const s of r)_b(this,e,t,s)}else vb(this,e,t,n)}setAttributes(e,t){for(const[n,r]of Or(e))this.setAttribute(n,r,t)}removeAttribute(e,t){if(this._assertWriterUsedCorrectly(),t instanceof X){const n=t.getMinimalFlatRanges();for(const r of n)_b(this,e,null,r)}else vb(this,e,null,t)}clearAttributes(e){this._assertWriterUsedCorrectly();const t=n=>{for(const r of n.getAttributeKeys())this.removeAttribute(r,n)};if(!(e instanceof X))t(e);else for(const n of e.getItems())t(n)}move(e,t,n){if(this._assertWriterUsedCorrectly(),!(e instanceof X))throw new B("writer-move-invalid-range",this);if(!e.isFlat)throw new B("writer-move-range-not-flat",this);const r=oe._createAt(t,n);if(r.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!wb(e.root,r.root))throw new B("writer-move-different-document",this);const s=e.root.document?e.root.document.version:null,o=new it(e.start,e.end.offset-e.start.offset,r,s);this.batch.addOperation(o),this.model.applyOperation(o)}remove(e){this._assertWriterUsedCorrectly();const n=(e instanceof X?e:X._createOn(e)).getMinimalFlatRanges().reverse();for(const r of n)this._addOperationForAffectedMarkers("move",r),j8(r.start,r.end.offset-r.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const t=e.nodeBefore,n=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof gt))throw new B("writer-merge-no-element-before",this);if(!(n instanceof gt))throw new B("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,t,n){return this.model.createPositionFromPath(e,t,n)}createPositionAt(e,t){return this.model.createPositionAt(e,t)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,t){return this.model.createRange(e,t)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const t=e.nodeBefore,n=e.nodeAfter;this.move(X._createIn(n),oe._createAt(t,"end")),this.remove(n)}_merge(e){const t=oe._createAt(e.nodeBefore,"end"),n=oe._createAt(e.nodeAfter,0),r=e.root.document.graveyard,s=new oe(r,[0]),o=e.root.document.version,l=new Gt(n,e.nodeAfter.maxOffset,t,s,o);this.batch.addOperation(l),this.model.applyOperation(l)}rename(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof gt))throw new B("writer-rename-not-element-instance",this);const n=e.root.document?e.root.document.version:null,r=new Qn(oe._createBefore(e),e.name,t,n);this.batch.addOperation(r),this.model.applyOperation(r)}split(e,t){this._assertWriterUsedCorrectly();let n=e.parent;if(!n.parent)throw new B("writer-split-element-no-parent",this);if(t||(t=n.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new B("writer-split-invalid-limit-element",this);let r,s;do{const o=n.root.document?n.root.document.version:null,l=n.maxOffset-e.offset,u=bt.getInsertionPosition(e),h=new bt(e,l,u,null,o);this.batch.addOperation(h),this.model.applyOperation(h),!r&&!s&&(r=n,s=e.parent.nextSibling),e=this.createPositionAfter(e.parent),n=e.parent}while(n!==t);return{position:e,range:new X(oe._createAt(r,"end"),oe._createAt(s,0))}}wrap(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new B("writer-wrap-range-not-flat",this);const n=t instanceof gt?t:new gt(t);if(n.childCount>0)throw new B("writer-wrap-element-not-empty",this);if(n.parent!==null)throw new B("writer-wrap-element-attached",this);this.insert(n,e.start);const r=new X(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(r,oe._createAt(n,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new B("writer-unwrap-element-no-parent",this);this.move(X._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,t){if(this._assertWriterUsedCorrectly(),!t||typeof t.usingOperation!="boolean")throw new B("writer-addmarker-no-usingoperation",this);const n=t.usingOperation,r=t.range,s=t.affectsData===void 0?!1:t.affectsData;if(this.model.markers.has(e))throw new B("writer-addmarker-marker-exists",this);if(!r)throw new B("writer-addmarker-no-range",this);return n?(Ja(this,e,null,r,s),this.model.markers.get(e)):this.model.markers._set(e,r,n,s)}updateMarker(e,t){this._assertWriterUsedCorrectly();const n=typeof e=="string"?e:e.name,r=this.model.markers.get(n);if(!r)throw new B("writer-updatemarker-marker-not-exists",this);if(!t){Jt("writer-updatemarker-reconvert-using-editingcontroller",{markerName:n}),this.model.markers._refresh(r);return}const s=typeof t.usingOperation=="boolean",o=typeof t.affectsData=="boolean",l=o?t.affectsData:r.affectsData;if(!s&&!t.range&&!o)throw new B("writer-updatemarker-wrong-options",this);const u=r.getRange(),h=t.range?t.range:u;if(s&&t.usingOperation!==r.managedUsingOperations){t.usingOperation?Ja(this,n,null,h,l):(Ja(this,n,u,null,l),this.model.markers._set(n,h,void 0,l));return}r.managedUsingOperations?Ja(this,n,u,h,l):this.model.markers._set(n,h,void 0,l)}removeMarker(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?e:e.name;if(!this.model.markers.has(t))throw new B("writer-removemarker-no-marker",this);const n=this.model.markers.get(t);if(!n.managedUsingOperations){this.model.markers._remove(t);return}const r=n.getRange();Ja(this,t,r,null,n.affectsData)}addRoot(e,t="$root"){this._assertWriterUsedCorrectly();const n=this.model.document.getRoot(e);if(n&&n.isAttached())throw new B("writer-addroot-root-exists",this);const r=this.model.document,s=new sr(e,t,!0,r,r.version);return this.batch.addOperation(s),this.model.applyOperation(s),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?this.model.document.getRoot(e):e;if(!t||!t.isAttached())throw new B("writer-detachroot-no-root",this);for(const s of this.model.markers)s.getRange().root===t&&this.removeMarker(s);for(const s of t.getAttributeKeys())this.removeAttribute(s,t);this.remove(this.createRangeIn(t));const n=this.model.document,r=new sr(t.rootName,t.name,!1,n,n.version);this.batch.addOperation(r),this.model.applyOperation(r)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}setSelectionAttribute(e,t){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,t);else for(const[n,r]of Or(e))this._setSelectionAttribute(n,r)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const t of e)this._removeSelectionAttribute(t)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,t){const n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){const r=zi._getStoreAttributeKey(e);this.setAttribute(r,t,n.anchor.parent)}n._setAttribute(e,t)}_removeSelectionAttribute(e){const t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){const n=zi._getStoreAttributeKey(e);this.removeAttribute(n,t.anchor.parent)}t._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new B("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,t){for(const n of this.model.markers){if(!n.managedUsingOperations)continue;const r=n.getRange();let s=!1;if(e==="move"){const o=t;s=o.containsPosition(r.start)||o.start.isEqual(r.start)||o.containsPosition(r.end)||o.end.isEqual(r.end)}else{const o=t,l=o.nodeBefore,u=o.nodeAfter,h=r.start.parent==l&&r.start.isAtEnd,f=r.end.parent==u&&r.end.offset==0,m=r.end.nodeAfter==u,v=r.start.nodeAfter==u;s=h||f||m||v}s&&this.updateMarker(n.name,{range:r})}}}function _b(i,e,t,n){const r=i.model,s=r.document;let o=n.start,l,u,h;for(const m of n.getWalker({shallow:!0}))h=m.item.getAttribute(e),l&&u!=h&&(u!=t&&f(),o=l),l=m.nextPosition,u=h;l instanceof oe&&l!=o&&u!=t&&f();function f(){const m=new X(o,l),v=m.root.document?s.version:null,C=new nn(m,e,u,t,v);i.batch.addOperation(C),r.applyOperation(C)}}function vb(i,e,t,n){const r=i.model,s=r.document,o=n.getAttribute(e);let l,u;if(o!=t){if(n.root===n){const f=n.document?s.version:null;u=new Ar(n,e,o,t,f)}else{l=new X(oe._createBefore(n),i.createPositionAfter(n));const f=l.root.document?s.version:null;u=new nn(l,e,o,t,f)}i.batch.addOperation(u),r.applyOperation(u)}}function Ja(i,e,t,n,r){const s=i.model,o=s.document,l=new Zn(e,t,n,s.markers,!!r,o.version);i.batch.addOperation(l),s.applyOperation(l)}function j8(i,e,t,n){let r;if(i.root.document){const s=n.document,o=new oe(s.graveyard,[0]);r=new it(i,e,o,s.version)}else r=new $8(i,e);t.addOperation(r),n.applyOperation(r)}function wb(i,e){return i===e||i instanceof Pd&&e instanceof Pd}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function U8(i,e,t={}){if(e.isCollapsed)return;const n=e.getFirstRange();if(n.root.rootName=="$graveyard")return;const r=i.schema;i.change(s=>{if(!t.doNotResetEntireContent&&Q8(r,e)){Z8(s,e);return}const o={};if(!t.doNotAutoparagraph){const h=e.getSelectedElement();h&&Object.assign(o,r.getAttributesWithProperty(h,"copyOnReplace",!0))}const[l,u]=H8(n);l.isTouching(u)||s.remove(s.createRange(l,u)),t.leaveUnmerged||(K8(s,l,u),r.removeDisallowedAttributes(l.parent.getChildren(),s)),pC(s,e,l),!t.doNotAutoparagraph&&J8(r,l)&&gC(s,l,e,o),l.detach(),u.detach()})}function H8(i){const e=i.root.document.model,t=i.start;let n=i.end;if(e.hasContent(i,{ignoreMarkers:!0})){const r=q8(n);if(r&&n.isTouching(e.createPositionAt(r,0))){const s=e.createSelection(i);e.modifySelection(s,{direction:"backward"});const o=s.getLastPosition(),l=e.createRange(o,n);e.hasContent(l,{ignoreMarkers:!0})||(n=o)}}return[Cn.fromPosition(t,"toPrevious"),Cn.fromPosition(n,"toNext")]}function q8(i){const e=i.parent,t=e.root.document.model.schema,n=e.getAncestors({parentFirst:!0,includeSelf:!0});for(const r of n){if(t.isLimit(r))return null;if(t.isBlock(r))return r}}function K8(i,e,t){const n=i.model;if(!fp(i.model.schema,e,t))return;const[r,s]=Y8(e,t);!r||!s||(!n.hasContent(r,{ignoreMarkers:!0})&&n.hasContent(s,{ignoreMarkers:!0})?mC(i,e,t,r.parent):fC(i,e,t,r.parent))}function fC(i,e,t,n){const r=e.parent,s=t.parent;if(!(r==n||s==n)){for(e=i.createPositionAfter(r),t=i.createPositionBefore(s),t.isEqual(e)||i.insert(s,e),i.merge(e);t.parent.isEmpty;){const o=t.parent;t=i.createPositionBefore(o),i.remove(o)}fp(i.model.schema,e,t)&&fC(i,e,t,n)}}function mC(i,e,t,n){const r=e.parent,s=t.parent;if(!(r==n||s==n)){for(e=i.createPositionAfter(r),t=i.createPositionBefore(s),t.isEqual(e)||i.insert(r,t);e.parent.isEmpty;){const o=e.parent;e=i.createPositionBefore(o),i.remove(o)}t=i.createPositionBefore(s),G8(i,t),fp(i.model.schema,e,t)&&mC(i,e,t,n)}}function G8(i,e){const t=e.nodeBefore,n=e.nodeAfter;t.name!=n.name&&i.rename(t,n.name),i.clearAttributes(t),i.setAttributes(Object.fromEntries(n.getAttributes()),t),i.merge(e)}function fp(i,e,t){const n=e.parent,r=t.parent;return n==r||i.isLimit(n)||i.isLimit(r)?!1:X8(e,t,i)}function Y8(i,e){const t=i.getAncestors(),n=e.getAncestors();let r=0;for(;t[r]&&t[r]==n[r];)r++;return[t[r],n[r]]}function J8(i,e){const t=i.checkChild(e,"$text"),n=i.checkChild(e,"paragraph");return!t&&n}function X8(i,e,t){const n=new X(i,e);for(const r of n.getWalker())if(t.isLimit(r.item))return!1;return!0}function gC(i,e,t,n={}){const r=i.createElement("paragraph");i.model.schema.setAllowedAttributes(r,n,i),i.insert(r,e),pC(i,t,i.createPositionAt(r,0))}function Z8(i,e){const t=i.model.schema.getLimitElement(e);i.remove(i.createRangeIn(t)),gC(i,i.createPositionAt(t,0),e)}function Q8(i,e){const t=i.getLimitElement(e);if(!e.containsEntireContent(t))return!1;const n=e.getFirstRange();return n.start.parent==n.end.parent?!1:i.checkChild(t,"paragraph")}function pC(i,e,t){e instanceof zi?i.setSelection(t):e.setTo(t)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function eF(i,e){return i.change(t=>{const n=t.createDocumentFragment(),r=e.getFirstRange();if(!r||r.isCollapsed)return n;const s=r.start.root,o=r.start.getCommonPath(r.end),l=s.getNodeByPath(o);let u;r.start.parent==r.end.parent?u=r:u=t.createRange(t.createPositionAt(l,r.start.path[o.length]),t.createPositionAt(l,r.end.path[o.length]+1));const h=u.end.offset-u.start.offset;for(const f of u.getItems({shallow:!0}))f.is("$textProxy")?t.appendText(f.data,f.getAttributes(),n):t.append(t.cloneElement(f,!0),n);if(u!=r){const f=r._getTransformedByMove(u.start,t.createPositionAt(n,0),h)[0],m=t.createRange(t.createPositionAt(n,0),f.start),v=t.createRange(f.end,t.createPositionAt(n,"end"));bb(v,t),bb(m,t)}return n})}function bb(i,e){const t=[];Array.from(i.getItems({direction:"backward"})).map(n=>e.createRangeOn(n)).filter(n=>(n.start.isAfter(i.start)||n.start.isEqual(i.start))&&(n.end.isBefore(i.end)||n.end.isEqual(i.end))).forEach(n=>{t.push(n.start.parent),e.remove(n)}),t.forEach(n=>{let r=n;for(;r.parent&&r.isEmpty;){const s=e.createRangeOn(r);r=r.parent,e.remove(s)}})}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function tF(i,e,t){return i.change(n=>{const r=t||i.document.selection;r.isCollapsed||i.deleteContent(r,{doNotAutoparagraph:!0});const s=new nF(i,n,r.anchor),o=[];let l;if(e.is("documentFragment")){if(e.markers.size){const f=[];for(const[m,v]of e.markers){const{start:C,end:k}=v,S=C.isEqual(k);f.push({position:C,name:m,isCollapsed:S},{position:k,name:m,isCollapsed:S})}f.sort(({position:m},{position:v})=>m.isBefore(v)?1:-1);for(const{position:m,name:v,isCollapsed:C}of f){let k=null,S=null;const x=m.parent===e&&m.isAtStart,N=m.parent===e&&m.isAtEnd;!x&&!N?(k=n.createElement("$marker"),n.insert(k,m)):C&&(S=x?"start":"end"),o.push({name:v,element:k,collapsed:S})}}l=e.getChildren()}else l=[e];s.handleNodes(l);let u=s.getSelectionRange();if(e.is("documentFragment")&&o.length){const f=u?ur.fromRange(u):null,m={};for(let v=o.length-1;v>=0;v--){const{name:C,element:k,collapsed:S}=o[v],x=!m[C];if(x&&(m[C]=[]),k){const N=n.createPositionAt(k,"before");m[C].push(N),n.remove(k)}else{const N=s.getAffectedRange();if(!N){S&&m[C].push(s.position);continue}S?m[C].push(N[S]):m[C].push(x?N.start:N.end)}}for(const[v,[C,k]]of Object.entries(m))C&&k&&C.root===k.root&&n.addMarker(v,{usingOperation:!0,affectsData:!0,range:new X(C,k)});f&&(u=f.toRange(),f.detach())}/* istanbul ignore else -- @preserve */u&&(r instanceof zi?n.setSelection(u):r.setTo(u));const h=s.getAffectedRange()||i.createRange(r.anchor);return s.destroy(),h})}class nF{constructor(e,t,n){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=e,this.writer=t,this.position=n,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=t.createDocumentFragment(),this._documentFragmentPosition=t.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const t of Array.from(e))this._handleNode(t);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const t=this.writer.createPositionAfter(this._lastNode),n=this.writer.createPositionAfter(e);if(n.isAfter(t)){this._lastNode=e;/* istanbul ignore if -- @preserve */if(this.position.parent!=e||!this.position.isAtEnd)throw new B("insertcontent-invalid-insertion-position",this);this.position=n,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?X._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new X(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e)){this._handleObject(e);return}let t=this._checkAndAutoParagraphToAllowedPosition(e);if(!t&&(t=this._checkAndSplitToAllowedPosition(e),!t)){this._handleDisallowedNode(e);return}this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=Cn.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){/* istanbul ignore if -- @preserve */if(!this.schema.checkChild(this.position,e))throw new B("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=Cn.fromPosition(e,"toPrevious")),(!this._affectedEnd||this._affectedEnd.isBefore(e))&&(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Cn.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof gt)||!this._canMergeLeft(e))return;const t=Cn._createBefore(e);t.stickiness="toNext";const n=Cn.fromPosition(this.position,"toNext");this._affectedStart.isEqual(t)&&(this._affectedStart.detach(),this._affectedStart=Cn._createAt(t.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=Cn._createAt(t.nodeBefore,"end","toNext")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof gt)||!this._canMergeRight(e))return;const t=Cn._createAfter(e);t.stickiness="toNext";/* istanbul ignore if -- @preserve */if(!this.position.isEqual(t))throw new B("insertcontent-invalid-insertion-position",this);this.position=oe._createAt(t.nodeBefore,"end");const n=Cn.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(t)&&(this._affectedEnd.detach(),this._affectedEnd=Cn._createAt(t.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=Cn._createAt(t.nodeBefore,0,"toPrevious")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_canMergeLeft(e){const t=e.previousSibling;return t instanceof gt&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(t,e)}_canMergeRight(e){const t=e.nextSibling;return t instanceof gt&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(e,t)}_tryAutoparagraphing(e){const t=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,t)&&this.schema.checkChild(t,e)&&(t._appendChild(e),this._handleNode(t))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const t=this.writer.createElement("paragraph");return this.writer.insert(t,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=t,this.position=this.writer.createPositionAt(t,0),!0}_checkAndSplitToAllowedPosition(e){const t=this._getAllowedIn(this.position.parent,e);if(!t)return!1;for(t!=this.position.parent&&this._insertPartialFragment();t!=this.position.parent;)if(this.position.isAtStart){const n=this.position.parent;this.position=this.writer.createPositionBefore(n),n.isEmpty&&n.parent===t&&this.writer.remove(n)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const n=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=n,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,t){return this.schema.checkChild(e,t)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,t)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function _C(i,e,t="auto"){const n=i.getSelectedElement();if(n&&e.schema.isObject(n)&&!e.schema.isInline(n))return t=="before"||t=="after"?e.createRange(e.createPositionAt(n,t)):e.createRangeOn(n);const r=Mn(i.getSelectedBlocks());if(!r)return e.createRange(i.focus);if(r.isEmpty)return e.createRange(e.createPositionAt(r,0));const s=e.createPositionAfter(r);return i.focus.isTouching(s)?e.createRange(s):e.createRange(e.createPositionBefore(r))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function iF(i,e,t,n={}){if(!i.schema.isObject(e))throw new B("insertobject-element-not-an-object",i,{object:e});const r=t||i.document.selection;let s=r;n.findOptimalPosition&&i.schema.isBlock(e)&&(s=i.createSelection(_C(r,i,n.findOptimalPosition)));const o=Mn(r.getSelectedBlocks()),l={};return o&&Object.assign(l,i.schema.getAttributesWithProperty(o,"copyOnReplace",!0)),i.change(u=>{s.isCollapsed||i.deleteContent(s,{doNotAutoparagraph:!0});let h=e;const f=s.anchor.parent;!i.schema.checkChild(f,e)&&i.schema.checkChild(f,"paragraph")&&i.schema.checkChild("paragraph",e)&&(h=u.createElement("paragraph"),u.insert(e,h)),i.schema.setAllowedAttributes(h,l,u);const m=i.insertContent(h,s);return m.isCollapsed||n.setSelection&&rF(u,e,n.setSelection,l),m})}function rF(i,e,t,n){const r=i.model;if(t=="on"){i.setSelection(e,"on");return}if(t!="after")throw new B("insertobject-invalid-place-parameter-value",r);let s=e.nextSibling;if(r.schema.isInline(e)){i.setSelection(e,"after");return}!(s&&r.schema.checkChild(s,"$text"))&&r.schema.checkChild(e.parent,"paragraph")&&(s=i.createElement("paragraph"),r.schema.setAllowedAttributes(s,n,i),r.insertContent(s,i.createPositionAfter(e))),s&&i.setSelection(s,0)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const sF=' ,.?!:;"-()';function oF(i,e,t={}){const n=i.schema,r=t.direction!="backward",s=t.unit?t.unit:"character",o=!!t.treatEmojiAsSingleUnit,l=e.focus,u=new ir({boundaries:uF(l,r),singleCharacters:!0,direction:r?"forward":"backward"}),h={walker:u,schema:n,isForward:r,unit:s,treatEmojiAsSingleUnit:o};let f;for(;f=u.next();){if(f.done)return;const m=aF(h,f.value);if(m){e instanceof zi?i.change(v=>{v.setSelectionFocus(m)}):e.setFocus(m);return}}}function aF(i,e){const{isForward:t,walker:n,unit:r,schema:s,treatEmojiAsSingleUnit:o}=i,{type:l,item:u,nextPosition:h}=e;if(l=="text")return i.unit==="word"?cF(n,t):lF(n,r,o);if(l==(t?"elementStart":"elementEnd")){if(s.isSelectable(u))return oe._createAt(u,t?"after":"before");if(s.checkChild(h,"$text"))return h}else{if(s.isLimit(u)){n.skip(()=>!0);return}if(s.checkChild(h,"$text"))return h}}function lF(i,e,t){const n=i.position.textNode;if(n){const r=n.data;let s=i.position.offset-n.startOffset;for(;ip(r,s)||e=="character"&&rp(r,s)||t&&SE(r,s);)i.next(),s=i.position.offset-n.startOffset}return i.position}function cF(i,e){let t=i.position.textNode;for(t||(t=e?i.position.nodeAfter:i.position.nodeBefore);t&&t.is("$text");){const n=i.position.offset-t.startOffset;if(hF(t,n,e))t=e?i.position.nodeAfter:i.position.nodeBefore;else{if(dF(t.data,n,e))break;i.next()}}return i.position}function uF(i,e){const t=i.root,n=oe._createAt(t,e?"end":0);return e?new X(i,n):new X(n,i)}function dF(i,e,t){const n=e+(t?0:-1);return sF.includes(i.charAt(n))}function hF(i,e,t){return e===(t?i.offsetSize:0)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let fF=class extends Dt(){constructor(){super(),this.markers=new F8,this.document=new L8(this),this.schema=new e8,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,t)=>{t[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((e,t)=>{if(t.name==="$marker")return!0}),HL(this),this.document.registerPostFixer(nC),this.on("insertContent",(e,[t,n])=>{e.return=tF(this,t,n)}),this.on("insertObject",(e,[t,n,r])=>{e.return=iF(this,t,n,r)})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new ko,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(t){/* istanbul ignore next -- @preserve */B.rethrowUnexpectedError(t,this)}}enqueueChange(e,t){try{e?typeof e=="function"?(t=e,e=new ko):e instanceof ko||(e=new ko(e)):e=new ko,this._pendingChanges.push({batch:e,callback:t}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(n){/* istanbul ignore next -- @preserve */B.rethrowUnexpectedError(n,this)}}applyOperation(e){e._execute()}insertContent(e,t,n,...r){const s=yb(t,n);return this.fire("insertContent",[e,s,n,...r])}insertObject(e,t,n,r,...s){const o=yb(t,n);return this.fire("insertObject",[e,o,r,r,...s])}deleteContent(e,t){U8(this,e,t)}modifySelection(e,t){oF(this,e,t)}getSelectedContent(e){return eF(this,e)}hasContent(e,t={}){const n=e instanceof X?e:X._createIn(e);if(n.isCollapsed)return!1;const{ignoreWhitespaces:r=!1,ignoreMarkers:s=!1}=t;if(!s){for(const o of this.markers.getMarkersIntersectingRange(n))if(o.affectsData)return!0}for(const o of n.getItems())if(this.schema.isContent(o))if(o.is("$textProxy"))if(r){if(o.data.search(/\S/)!==-1)return!0}else return!0;else return!0;return!1}createPositionFromPath(e,t,n){return new oe(e,t,n)}createPositionAt(e,t){return oe._createAt(e,t)}createPositionAfter(e){return oe._createAfter(e)}createPositionBefore(e){return oe._createBefore(e)}createRange(e,t){return new X(e,t)}createRangeIn(e){return X._createIn(e)}createRangeOn(e){return X._createOn(e)}createSelection(...e){return new Vi(...e)}createBatch(e){return new ko(e)}createOperationFromJSON(e){return x8.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const t=this._pendingChanges[0].batch;this._currentWriter=new W8(this,t);const n=this._pendingChanges[0].callback(this._currentWriter);e.push(n),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}};function yb(i,e){if(i)return i instanceof Vi||i instanceof zi?i:i instanceof Ks?new Vi(i,e):new Vi(i)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class mF extends qs{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class uh extends qs{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class mp{constructor(e){this.document=e}createDocumentFragment(e){return new Ns(this.document,e)}createElement(e,t,n){return new $i(this.document,e,t,n)}createText(e){return new Vt(this.document,e)}clone(e,t=!1){return e._clone(t)}appendChild(e,t){return t._appendChild(e)}insertChild(e,t,n){return n._insertChild(e,t)}removeChildren(e,t,n){return n._removeChildren(e,t)}remove(e){const t=e.parent;return t?this.removeChildren(t.getChildIndex(e),1,t):[]}replace(e,t){const n=e.parent;if(n){const r=n.getChildIndex(e);return this.removeChildren(r,1,n),this.insertChild(r,t,n),!0}return!1}unwrapElement(e){const t=e.parent;if(t){const n=t.getChildIndex(e);this.remove(e),this.insertChild(n,e.getChildren(),t)}}rename(e,t){const n=new $i(this.document,e,t.getAttributes(),t.getChildren());return this.replace(t,n)?n:null}setAttribute(e,t,n){n._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,n){di(e)&&n===void 0?t._setStyle(e):n._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,n){n._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}createPositionAt(e,t){return _e._createAt(e,t)}createPositionAfter(e){return _e._createAfter(e)}createPositionBefore(e){return _e._createBefore(e)}createRange(e,t){return new We(e,t)}createRangeOn(e){return We._createOn(e)}createRangeIn(e){return We._createIn(e)}createSelection(...e){return new is(...e)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class gF{constructor(){this._commands=new Map}add(e,t){this._commands.set(e,t)}get(e){return this._commands.get(e)}execute(e,...t){const n=this.get(e);if(!n)throw new B("commandcollection-command-not-found",this,{commandName:e});return n.execute(...t)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class pF extends cr{constructor(e){super(),this.editor=e}set(e,t,n={}){if(typeof t=="string"){const r=t;t=(s,o)=>{this.editor.execute(r),o()}}super.set(e,t,n)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class dh extends Dt(){constructor(e={}){super();const t=this.constructor,n=e.language||t.defaultConfig&&t.defaultConfig.language;this._context=e.context||new zl({language:n}),this._context._addEditor(this,!e.context);const r=Array.from(t.builtinPlugins||[]);this.config=new cE(e,t.defaultConfig),this.config.define("plugins",r),this.config.define(this._context._getEditorConfig()),this.plugins=new TE(this,r,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new gF,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new fF;const s=new tV;this.data=new E8(this.model,s),this.editing=new XL(this.model,s),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new S8([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new pF(this),this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new B("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new B("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new B("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}initPlugins(){const e=this.config,t=e.get("plugins"),n=e.get("removePlugins")||[],r=e.get("extraPlugins")||[],s=e.get("substitutePlugins")||[];return this.plugins.init(t.concat(r),n,s)}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(t=>this.once("ready",t))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...t){try{return this.commands.execute(e,...t)}catch(n){/* istanbul ignore next -- @preserve */B.rethrowUnexpectedError(n,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function gp(i){if(!Ls(i.updateSourceElement))throw new B("attachtoform-missing-elementapi-interface",i);const e=i.sourceElement;if(_F(e)&&e.form){let t;const n=e.form,r=()=>i.updateSourceElement();Ls(n.submit)&&(t=n.submit,n.submit=()=>{r(),t.apply(n)}),n.addEventListener("submit",r),i.on("destroy",()=>{n.removeEventListener("submit",r),t&&(n.submit=t)})}}function _F(i){return!!i&&i.tagName.toLowerCase()==="textarea"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Bs(i){class e extends i{setData(n){this.data.set(n)}getData(n){return this.data.get(n)}}return e}{const i=Bs(Object);Bs.setData=i.prototype.setData,Bs.getData=i.prototype.getData}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function jo(i){class e extends i{updateSourceElement(n=this.data.get()){if(!this.sourceElement)throw new B("editor-missing-sourceelement",this);const r=this.config.get("updateSourceElementOnDestroy"),s=this.sourceElement instanceof HTMLTextAreaElement;if(!r&&!s){Ow(this.sourceElement,"");return}Ow(this.sourceElement,n)}}return e}jo.updateSourceElement=jo(Object).prototype.updateSourceElement;/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function pp(i,e){if(e.ckeditorInstance)throw new B("editor-source-element-already-used",i);e.ckeditorInstance=i,i.once("destroy",()=>{delete e.ckeditorInstance})}const vF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',wF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',bF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',yF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',EF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',CF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',SF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',TF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',xF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',kF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',AF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',PF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',IF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',RF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',OF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',MF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',NF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',DF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',BF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',VF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',LF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',FF='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',$F='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>',zF='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>',WF='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>',jF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',UF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',HF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',qF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',KF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',GF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',YF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',JF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path clip-rule="evenodd" d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></g><defs><clipPath id="a"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>',XF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path clip-rule="evenodd" d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></g><defs><clipPath id="a"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Mt={bold:KF,cancel:vF,caption:wF,check:bF,cog:yF,eraser:EF,image:SF,lowVision:CF,importExport:XF,paragraph:GF,plus:YF,text:JF,alignBottom:TF,alignMiddle:xF,alignTop:kF,alignLeft:AF,alignCenter:PF,alignRight:IF,alignJustify:RF,objectLeft:VF,objectCenter:MF,objectRight:LF,objectFullWidth:DF,objectInline:BF,objectBlockLeft:OF,objectBlockRight:NF,objectSizeFull:FF,objectSizeLarge:$F,objectSizeSmall:zF,objectSizeMedium:WF,pencil:jF,pilcrow:UF,quote:HF,threeVerticalDots:qF};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function _p({emitter:i,activator:e,callback:t,contextElements:n}){i.listenTo(document,"mousedown",(r,s)=>{if(!e())return;const o=typeof s.composedPath=="function"?s.composedPath():[],l=typeof n=="function"?n():n;for(const u of l)if(u.contains(s.target)||o.includes(u))return;t()})}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function vC(i){class e extends i{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...n){super(...n),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}return e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function wC({view:i}){i.listenTo(i.element,"submit",(e,t)=>{t.preventDefault(),i.fire("submit")},{useCapture:!0})}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ZF({keystrokeHandler:i,focusTracker:e,gridItems:t,numberOfColumns:n,uiLanguageDirection:r}){const s=typeof n=="number"?()=>n:n;i.set("arrowright",o((h,f)=>r==="rtl"?u(h,f.length):l(h,f.length))),i.set("arrowleft",o((h,f)=>r==="rtl"?l(h,f.length):u(h,f.length))),i.set("arrowup",o((h,f)=>{let m=h-s();return m<0&&(m=h+s()*Math.floor(f.length/s()),m>f.length-1&&(m-=s())),m})),i.set("arrowdown",o((h,f)=>{let m=h+s();return m>f.length-1&&(m=h%s()),m}));function o(h){return f=>{const m=t.find(k=>k.element===e.focusedElement),v=t.getIndex(m),C=h(v,t);t.get(C).focus(),f.stopPropagation(),f.preventDefault()}}function l(h,f){return h===f-1?0:h+1}function u(h,f){return h===0?f-1:h-1}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class cs extends Br{constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(t,n,r)=>{this._renderViewIntoCollectionParent(n,r)}),this.on("remove",(t,n)=>{n.element&&this._parentElement&&n.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const t of this)this._renderViewIntoCollectionParent(t)}delegate(...e){if(!e.length||!QF(e))throw new B("ui-viewcollection-delegate-wrong-events",this);return{to:t=>{for(const n of this)for(const r of e)n.delegate(r).to(t);this.on("add",(n,r)=>{for(const s of e)r.delegate(s).to(t)}),this.on("remove",(n,r)=>{for(const s of e)r.stopDelegating(s,t)})}}}_renderViewIntoCollectionParent(e,t){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[t])}remove(e){return super.remove(e)}}function QF(i){return i.every(e=>typeof e=="string")}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Xe extends as(Dt()){constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new Br,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(t,n)=>{n.locale=e,n.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Li.bind(this,this)}createCollection(e){const t=new cs(e);return this._viewCollections.add(t),t}registerChild(e){hi(e)||(e=[e]);for(const t of e)this._unboundChildren.add(t)}deregisterChild(e){hi(e)||(e=[e]);for(const t of e)this._unboundChildren.remove(t)}setTemplate(e){this.template=new Li(e)}extendTemplate(e){Li.extend(this.template,e)}render(){if(this.isRendered)throw new B("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const e9="http://www.w3.org/1999/xhtml";class Li extends kt(){constructor(e){super(),Object.assign(this,Cb(Eb(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData=xb(),this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new B("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){function*e(t){if(t.children)for(const n of t.children)Id(n)?yield n:vp(n)&&(yield*e(n))}yield*e(this)}static bind(e,t){return{to(n,r){return new t9({eventNameOrFunction:n,attribute:n,observable:e,emitter:t,callback:r})},if(n,r,s){return new bC({observable:e,emitter:t,attribute:n,valueIfTrue:r,callback:s})}}}static extend(e,t){if(e._isRendered)throw new B("template-extend-render",[this,e]);SC(e,Cb(Eb(t)))}_renderNode(e){let t;if(e.node?t=this.tag&&this.text:t=this.tag?this.text:!this.text,t)throw new B("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let t=e.node;return t||(t=e.node=document.createElementNS(this.ns||e9,this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}_renderText(e){let t=e.node;return t?e.revertData.text=t.textContent:t=e.node=document.createTextNode(""),Zu(this.text)?this._bindToObservable({schema:this.text,updater:i9(t),data:e}):t.textContent=this.text.join(""),t}_renderAttributes(e){if(!this.attributes)return;const t=e.node,n=e.revertData;for(const r in this.attributes){const s=t.getAttribute(r),o=this.attributes[r];n&&(n.attributes[r]=s);const l=Tb(o)?o[0].ns:null;if(Zu(o)){const u=Tb(o)?o[0].value:o;n&&kb(r)&&u.unshift(s),this._bindToObservable({schema:u,updater:r9(t,r,l),data:e})}else if(r=="style"&&typeof o[0]!="string")this._renderStyleAttribute(o[0],e);else{n&&s&&kb(r)&&o.unshift(s);const u=o.map(h=>h&&(h.value||h)).reduce((h,f)=>h.concat(f),[]).reduce(CC,"");Uo(u)||t.setAttributeNS(l,r,u)}}}_renderStyleAttribute(e,t){const n=t.node;for(const r in e){const s=e[r];Zu(s)?this._bindToObservable({schema:[s],updater:s9(n,r),data:t}):n.style[r]=s}}_renderElementChildren(e){const t=e.node,n=e.intoFragment?document.createDocumentFragment():t,r=e.isApplying;let s=0;for(const o of this.children)if(wp(o)){if(!r){o.setParent(t);for(const l of o)n.appendChild(l.element)}}else if(Id(o))r||(o.isRendered||o.render(),n.appendChild(o.element));else if(ns(o))n.appendChild(o);else if(r){const l=e.revertData,u=xb();l.children.push(u),o._renderNode({intoFragment:!1,node:n.childNodes[s++],isApplying:!0,revertData:u})}else n.appendChild(o.render());e.intoFragment&&t.appendChild(n)}_setUpListeners(e){if(this.eventListeners)for(const t in this.eventListeners){const n=this.eventListeners[t].map(r=>{const[s,o]=t.split("@");return r.activateDomEventListener(s,o,e)});e.revertData&&e.revertData.bindings.push(n)}}_bindToObservable({schema:e,updater:t,data:n}){const r=n.revertData;yC(e,t,n);const s=e.filter(o=>!Uo(o)).filter(o=>o.observable).map(o=>o.activateAttributeListener(e,t,n));r&&r.bindings.push(s)}_revertTemplateFromNode(e,t){for(const r of t.bindings)for(const s of r)s();if(t.text){e.textContent=t.text;return}const n=e;for(const r in t.attributes){const s=t.attributes[r];s===null?n.removeAttribute(r):n.setAttribute(r,s)}for(let r=0;r<t.children.length;++r)this._revertTemplateFromNode(n.childNodes[r],t.children[r])}}class jl{constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}activateAttributeListener(e,t,n){const r=()=>yC(e,t,n);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,r),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,r)}}}class t9 extends jl{constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,t,n){const r=(s,o)=>{(!t||o.target.matches(t))&&(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(o):this.observable.fire(this.eventNameOrFunction,o))};return this.emitter.listenTo(n.node,e,r),()=>{this.emitter.stopListening(n.node,e,r)}}}class bC extends jl{constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){const t=super.getValue(e);return Uo(t)?!1:this.valueIfTrue||!0}}function Zu(i){return i?(i.value&&(i=i.value),Array.isArray(i)?i.some(Zu):i instanceof jl):!1}function n9(i,e){return i.map(t=>t instanceof jl?t.getValue(e):t)}function yC(i,e,{node:t}){const n=n9(i,t);let r;i.length==1&&i[0]instanceof bC?r=n[0]:r=n.reduce(CC,""),Uo(r)?e.remove():e.set(r)}function i9(i){return{set(e){i.textContent=e},remove(){i.textContent=""}}}function r9(i,e,t){return{set(n){i.setAttributeNS(t,e,n)},remove(){i.removeAttributeNS(t,e)}}}function s9(i,e){return{set(t){i.style[e]=t},remove(){i.style[e]=null}}}function Eb(i){return Zg(i,t=>{if(t&&(t instanceof jl||vp(t)||Id(t)||wp(t)))return t})}function Cb(i){if(typeof i=="string"?i=l9(i):i.text&&c9(i),i.on&&(i.eventListeners=a9(i.on),delete i.on),!i.text){i.attributes&&o9(i.attributes);const e=[];if(i.children)if(wp(i.children))e.push(i.children);else for(const t of i.children)vp(t)||Id(t)||ns(t)?e.push(t):e.push(new Li(t));i.children=e}return i}function o9(i){for(const e in i)i[e].value&&(i[e].value=On(i[e].value)),EC(i,e)}function a9(i){for(const e in i)EC(i,e);return i}function l9(i){return{text:[i]}}function c9(i){i.text=On(i.text)}function EC(i,e){i[e]=On(i[e])}function CC(i,e){return Uo(e)?i:Uo(i)?e:`${i} ${e}`}function Sb(i,e){for(const t in e)i[t]?i[t].push(...e[t]):i[t]=e[t]}function SC(i,e){if(e.attributes&&(i.attributes||(i.attributes={}),Sb(i.attributes,e.attributes)),e.eventListeners&&(i.eventListeners||(i.eventListeners={}),Sb(i.eventListeners,e.eventListeners)),e.text&&i.text.push(...e.text),e.children&&e.children.length){if(i.children.length!=e.children.length)throw new B("ui-template-extend-children-mismatch",i);let t=0;for(const n of e.children)SC(i.children[t++],n)}}function Uo(i){return!i&&i!==0}function Id(i){return i instanceof Xe}function vp(i){return i instanceof Li}function wp(i){return i instanceof cs}function Tb(i){return Ft(i[0])&&i[0].ns}function xb(){return{children:[],bindings:[],attributes:{}}}function kb(i){return i=="class"||i=="style"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class u9 extends cs{constructor(e,t=[]){super(t),this.locale=e}attachToDom(){this._bodyCollectionContainer=new Li({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=uB(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&e.childElementCount==0&&e.remove()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ea extends Xe{constructor(){super();const e=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon","ck-reset_all-excluded",e.if("isColorInherited","ck-icon_inherit-color")],viewBox:e.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const t=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),n=t.getAttribute("viewBox");n&&(this.viewBox=n);for(const{name:r,value:s}of Array.from(t.attributes))ea.presentationalAttributeNames.includes(r)&&this.element.setAttribute(r,s);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;t.childNodes.length>0;)this.element.appendChild(t.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(e=>{e.style.fill=this.fillColor})}}ea.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class At extends Xe{constructor(e){super(e);const t=this.bindTemplate,n=Rr();this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._createLabelView(n),this.iconView=new ea,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const r={tag:"button",attributes:{class:["ck","ck-button",t.to("class"),t.if("isEnabled","ck-disabled",s=>!s),t.if("isVisible","ck-hidden",s=>!s),t.to("isOn",s=>s?"ck-on":"ck-off"),t.if("withText","ck-button_with-text"),t.if("withKeystroke","ck-button_with-keystroke")],type:t.to("type",s=>s||"button"),tabindex:t.to("tabindex"),"aria-labelledby":`ck-editor__aria-label_${n}`,"aria-disabled":t.if("isEnabled",!0,s=>!s),"aria-pressed":t.to("isOn",s=>this.isToggleable?String(!!s):!1),"data-cke-tooltip-text":t.to("_tooltipString"),"data-cke-tooltip-position":t.to("tooltipPosition")},children:this.children,on:{click:t.to(s=>{this.isEnabled?this.fire("execute"):s.preventDefault()})}};qe.isSafari&&(r.on.mousedown=t.to(s=>{this.focus(),s.preventDefault()})),this.setTemplate(r)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}_createLabelView(e){const t=new Xe,n=this.bindTemplate;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:n.to("labelStyle"),id:`ck-editor__aria-label_${e}`},children:[{text:n.to("label")}]}),t}_createKeystrokeView(){const e=new Xe;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",t=>Bw(t))}]}),e}_getTooltipString(e,t,n){return e?typeof e=="string"?e:(n&&(n=Bw(n)),e instanceof Function?e(t,n):`${t}${n?` (${n})`:""}`):""}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class hh extends At{constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new Xe;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class d9{constructor(e){this._components=new Map,this.editor=e}*names(){for(const e of this._components.values())yield e.originalName}add(e,t){this._components.set(Sm(e),{callback:t,originalName:e})}create(e){if(!this.has(e))throw new B("componentfactory-item-missing",this,{name:e});return this._components.get(Sm(e)).callback(this.editor.locale)}has(e){return this._components.has(Sm(e))}}function Sm(i){return String(i).toLowerCase()}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ho extends Xe{constructor(e,t,n){super(e);const r=this.bindTemplate;this.buttonView=t,this.panelView=n,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.keystrokes=new cr,this.focusTracker=new fi,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",r.to("class"),r.if("isEnabled","ck-disabled",s=>!s)],id:r.to("id"),"aria-describedby":r.to("ariaDescribedById")},children:[t,n]}),t.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":r.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(t,n,r)=>{r&&(this.panelPosition==="auto"?this.panelView.position=Ho._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelView.position=this.panelPosition)}),this.keystrokes.listenTo(this.element);const e=(t,n)=>{this.isOpen&&(this.isOpen=!1,n())};this.keystrokes.set("arrowdown",(t,n)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,n())}),this.keystrokes.set("arrowright",(t,n)=>{this.isOpen&&n()}),this.keystrokes.set("arrowleft",e),this.keystrokes.set("esc",e)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:e,north:t,southEast:n,southWest:r,northEast:s,northWest:o,southMiddleEast:l,southMiddleWest:u,northMiddleEast:h,northMiddleWest:f}=Ho.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[n,r,l,u,e,s,o,h,f,t]:[r,n,u,l,e,o,s,f,h,t]}}Ho.defaultPanelPositions={south:(i,e)=>({top:i.bottom,left:i.left-(e.width-i.width)/2,name:"s"}),southEast:i=>({top:i.bottom,left:i.left,name:"se"}),southWest:(i,e)=>({top:i.bottom,left:i.left-e.width+i.width,name:"sw"}),southMiddleEast:(i,e)=>({top:i.bottom,left:i.left-(e.width-i.width)/4,name:"sme"}),southMiddleWest:(i,e)=>({top:i.bottom,left:i.left-(e.width-i.width)*3/4,name:"smw"}),north:(i,e)=>({top:i.top-e.height,left:i.left-(e.width-i.width)/2,name:"n"}),northEast:(i,e)=>({top:i.top-e.height,left:i.left,name:"ne"}),northWest:(i,e)=>({top:i.top-e.height,left:i.left-e.width+i.width,name:"nw"}),northMiddleEast:(i,e)=>({top:i.top-e.height,left:i.left-(e.width-i.width)/4,name:"nme"}),northMiddleWest:(i,e)=>({top:i.top-e.height,left:i.left-(e.width-i.width)*3/4,name:"nmw"})};Ho._getOptimalPosition=_E;/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class h9 extends Xe{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",t.to("position",n=>`ck-dropdown__panel_${n}`),t.if("isVisible","ck-dropdown__panel-visible")]},children:this.children,on:{selectstart:t.to(n=>n.preventDefault())}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():Jt("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}const bp='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class TC extends At{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",t=>String(t))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new ea;return e.content=bp,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class fh extends Xe{constructor(e){super(e);const t=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new cr,this.focusTracker=new fi,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",t.to("class"),t.if("isVisible","ck-hidden",n=>!n),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,t)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),t())}),this.keystrokes.set("arrowleft",(e,t)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),t())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(){const e=new At;return e.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),e.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),e.delegate("execute").to(this),e}_createArrowView(){const e=new At,t=e.bindTemplate;return e.icon=bp,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":t.to("isOn"),"aria-haspopup":!0,"aria-expanded":t.to("isOn",n=>String(n))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ta{constructor(e){if(this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const t in e.actions){let n=e.actions[t];typeof n=="string"&&(n=[n]);for(const r of n)e.keystrokeHandler.set(r,(s,o)=>{this[t](),o()})}}get first(){return this.focusables.find(Tm)||null}get last(){return this.focusables.filter(Tm).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((t,n)=>{const r=t.element===this.focusTracker.focusedElement;return r&&(e=n),r}),e)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(e){e&&e.focus()}_getFocusableItem(e){const t=this.current,n=this.focusables.length;if(!n)return null;if(t===null)return this[e===1?"first":"last"];let r=(t+n+e)%n;do{const s=this.focusables.get(r);if(Tm(s))return s;r=(r+n+e)%n}while(r!==t);return null}}function Tm(i){return!!(i.focus&&$s(i.element))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class xC extends Xe{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class f9 extends Xe{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function m9(i){return i.bindTemplate.to(e=>{e.target===i.element&&e.preventDefault()})}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function mh(i){return Array.isArray(i)?{items:i,removeItems:[]}:i?Object.assign({items:[],removeItems:[]},i):{items:[],removeItems:[]}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const{threeVerticalDots:kC}=Mt,g9={alignLeft:Mt.alignLeft,bold:Mt.bold,importExport:Mt.importExport,paragraph:Mt.paragraph,plus:Mt.plus,text:Mt.text,threeVerticalDots:Mt.threeVerticalDots};class na extends Xe{constructor(e,t){super(e);const n=this.bindTemplate,r=this.t;this.options=t||{},this.set("ariaLabel",r("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new fi,this.keystrokes=new cr,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new p9(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const s=e.uiLanguageDirection==="rtl";this._focusCycler=new ta({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[s?"arrowright":"arrowleft","arrowup"],focusNext:[s?"arrowleft":"arrowright","arrowdown"]}});const o=["ck","ck-toolbar",n.to("class"),n.if("isCompact","ck-toolbar_compact")];this.options.shouldGroupWhenFull&&this.options.isFloating&&o.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:o,role:"toolbar","aria-label":n.to("ariaLabel"),style:{maxWidth:n.to("maxWidth")}},children:this.children,on:{mousedown:m9(this)}}),this._behavior=this.options.shouldGroupWhenFull?new v9(this):new _9(this)}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,t)=>{this.focusTracker.add(t.element)}),this.items.on("remove",(e,t)=>{this.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,t,n){this.items.addMany(this._buildItemsFromConfig(e,t,n))}_buildItemsFromConfig(e,t,n){const r=mh(e),s=n||r.removeItems;return this._cleanItemsConfiguration(r.items,t,s).map(l=>Ft(l)?this._createNestedToolbarDropdown(l,t,s):l==="|"?new xC:l==="-"?new f9:t.create(l)).filter(l=>!!l)}_cleanItemsConfiguration(e,t,n){const r=e.filter((s,o,l)=>s==="|"?!0:n.indexOf(s)!==-1?!1:s==="-"?this.options.shouldGroupWhenFull?(Jt("toolbarview-line-break-ignored-when-grouping-items",l),!1):!0:!Ft(s)&&!t.has(s)?(Jt("toolbarview-item-unavailable",{item:s}),!1):!0);return this._cleanSeparatorsAndLineBreaks(r)}_cleanSeparatorsAndLineBreaks(e){const t=o=>o!=="-"&&o!=="|",n=e.length,r=e.findIndex(t);if(r===-1)return[];const s=n-e.slice().reverse().findIndex(t);return e.slice(r,s).filter((o,l,u)=>t(o)?!0:!(l>0&&u[l-1]===o))}_createNestedToolbarDropdown(e,t,n){let{label:r,icon:s,items:o,tooltip:l=!0,withText:u=!1}=e;if(o=this._cleanItemsConfiguration(o,t,n),!o.length)return null;const h=this.locale,f=Gs(h);return r||Jt("toolbarview-nested-toolbar-dropdown-missing-label",e),f.class="ck-toolbar__nested-toolbar-dropdown",f.buttonView.set({label:r,tooltip:l,withText:!!u}),s!==!1?f.buttonView.icon=g9[s]||s||kC:f.buttonView.withText=!0,gh(f,()=>f.toolbarView._buildItemsFromConfig(o,t,n)),f}}class p9 extends Xe{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class _9{constructor(e){const t=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(n=>n),e.focusables.bindTo(e.items).using(n=>n),e.extendTemplate({attributes:{class:[t.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class v9{constructor(e){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),e.itemsView.children.bindTo(this.ungroupedItems).using(t=>t),this.ungroupedItems.on("change",this._updateFocusCycleableItems.bind(this)),e.children.on("change",this._updateFocusCycleableItems.bind(this)),e.items.on("change",(t,n)=>{const r=n.index,s=Array.from(n.added);for(const o of n.removed)r>=this.ungroupedItems.length?this.groupedItems.remove(o):this.ungroupedItems.remove(o);for(let o=r;o<r+s.length;o++){const l=s[o-r];o>this.ungroupedItems.length?this.groupedItems.add(l,o-this.ungroupedItems.length):this.ungroupedItems.add(l,o)}this._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!$s(this.viewElement)){this.shouldUpdateGroupingOnNextResize=!0;return}const e=this.groupedItems.length;let t;for(;this._areItemsOverflowing;)this._groupLastItem(),t=!0;if(!t&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,t=this.viewLocale.uiLanguageDirection,n=new pt(e.lastChild),r=new pt(e);if(!this.cachedPadding){const s=Ke.window.getComputedStyle(e),o=t==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(s[o])}return t==="ltr"?n.right>r.right-this.cachedPadding:n.left<r.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new xt(this.viewElement,t=>{(!e||e!==t.contentRect.width||this.shouldUpdateGroupingOnNextResize)&&(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=t.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new xC),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,t=e.t,n=Gs(e);return n.class="ck-toolbar__grouped-dropdown",n.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se",gh(n,this.groupedItems),n.buttonView.set({label:t("Show more items"),tooltip:!0,tooltipPosition:e.uiLanguageDirection==="rtl"?"se":"sw",icon:kC}),n}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class w9 extends Xe{constructor(e){super(e);const t=this.bindTemplate;this.items=this.createCollection(),this.focusTracker=new fi,this.keystrokes=new cr,this._focusCycler=new ta({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],"aria-label":t.to("ariaLabel")},children:this.items})}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,t)=>{this.focusTracker.add(t.element)}),this.items.on("remove",(e,t)=>{this.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class AC extends Xe{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",t.if("isVisible","ck-hidden",n=>!n)]},children:this.children})}focus(){this.children.first.focus()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class b9 extends Xe{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Gs(i,e=TC){const t=new e(i),n=new h9(i),r=new Ho(i,t,n);return t.bind("isEnabled").to(r),t instanceof fh?t.arrowView.bind("isOn").to(r,"isOpen"):t.bind("isOn").to(r,"isOpen"),y9(r),r}function gh(i,e,t={}){i.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),i.isOpen?Ab(i,e,t):i.once("change:isOpen",()=>Ab(i,e,t),{priority:"highest"}),t.enableActiveItemFocusOnDropdownOpen&&yp(i,()=>i.toolbarView.items.find(n=>n.isOn))}function Ab(i,e,t){const n=i.locale,r=n.t,s=i.toolbarView=new na(n),o=typeof e=="function"?e():e;s.ariaLabel=t.ariaLabel||r("Dropdown toolbar"),t.maxWidth&&(s.maxWidth=t.maxWidth),t.class&&(s.class=t.class),t.isCompact&&(s.isCompact=t.isCompact),t.isVertical&&(s.isVertical=!0),o instanceof cs?s.items.bindTo(o).using(l=>l):s.items.addMany(o),i.panelView.children.add(s),s.items.delegate("execute").to(i)}function PC(i,e,t={}){i.isOpen?Pb(i,e,t):i.once("change:isOpen",()=>Pb(i,e,t),{priority:"highest"}),yp(i,()=>i.listView.items.find(n=>n instanceof AC?n.children.first.isOn:!1))}function Pb(i,e,t){const n=i.locale,r=i.listView=new w9(n),s=typeof e=="function"?e():e;r.ariaLabel=t.ariaLabel,r.items.bindTo(s).using(o=>{if(o.type==="separator")return new b9(n);if(o.type==="button"||o.type==="switchbutton"){const l=new AC(n);let u;return o.type==="button"?u=new At(n):u=new hh(n),u.bind(...Object.keys(o.model)).to(o.model),u.delegate("execute").to(l),l.children.add(u),l}return null}),i.panelView.children.add(r),r.items.delegate("execute").to(i)}function yp(i,e){i.on("change:isOpen",()=>{if(!i.isOpen)return;const t=e();t&&(typeof t.focus=="function"?t.focus():Jt("ui-dropdown-focus-child-on-open-child-missing-focus",{view:t}))},{priority:Os.low-10})}function y9(i){E9(i),C9(i),S9(i),T9(i),x9(i),k9(i)}function E9(i){i.on("render",()=>{_p({emitter:i,activator:()=>i.isOpen,callback:()=>{i.isOpen=!1},contextElements:[i.element]})})}function C9(i){i.on("execute",e=>{e.source instanceof hh||(i.isOpen=!1)})}function S9(i){i.focusTracker.on("change:isFocused",(e,t,n)=>{i.isOpen&&!n&&(i.isOpen=!1)})}function T9(i){i.keystrokes.set("arrowdown",(e,t)=>{i.isOpen&&(i.panelView.focus(),t())}),i.keystrokes.set("arrowup",(e,t)=>{i.isOpen&&(i.panelView.focusLast(),t())})}function x9(i){i.on("change:isOpen",(e,t,n)=>{if(n)return;const r=i.panelView.element;r&&r.contains(Ke.document.activeElement)&&i.buttonView.focus()})}function k9(i){i.on("change:isOpen",(e,t,n)=>{n&&i.panelView.focus()},{priority:"low"})}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Ib=$l("px"),Rb=Ke.document.body;class pn extends Xe{constructor(e){super(e);const t=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",t.to("position",n=>`ck-balloon-panel_${n}`),t.if("isVisible","ck-balloon-panel_visible"),t.if("withArrow","ck-balloon-panel_with-arrow"),t.to("class")],style:{top:t.to("top",Ib),left:t.to("left",Ib)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(e){this.show();const t=pn.defaultPositions,n=Object.assign({},{element:this.element,positions:[t.southArrowNorth,t.southArrowNorthMiddleWest,t.southArrowNorthMiddleEast,t.southArrowNorthWest,t.southArrowNorthEast,t.northArrowSouth,t.northArrowSouthMiddleWest,t.northArrowSouthMiddleEast,t.northArrowSouthWest,t.northArrowSouthEast,t.viewportStickyNorth],limiter:Rb,fitInViewport:!0},e),r=pn._getOptimalPosition(n),s=parseInt(r.left),o=parseInt(r.top),l=r.name,u=r.config||{},{withArrow:h=!0}=u;this.top=o,this.left=s,this.position=l,this.withArrow=h}pin(e){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(e):this._stopPinning()},this._startPinning(e),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(e){this.attachTo(e);const t=_g(e.target),n=e.limiter?_g(e.limiter):Rb;this.listenTo(Ke.document,"scroll",(r,s)=>{const o=s.target,l=t&&o.contains(t),u=n&&o.contains(n);(l||u||!t||!n)&&this.attachTo(e)},{useCapture:!0}),this.listenTo(Ke.window,"resize",()=>{this.attachTo(e)})}_stopPinning(){this.stopListening(Ke.document,"scroll"),this.stopListening(Ke.window,"resize")}}pn.arrowSideOffset=25;pn.arrowHeightOffset=10;pn.stickyVerticalOffset=20;pn._getOptimalPosition=_E;pn.defaultPositions=Ep();function _g(i){return Dr(i)?i:oh(i)?i.commonAncestorContainer:typeof i=="function"?_g(i()):null}function Ep(i={}){const{sideOffset:e=pn.arrowSideOffset,heightOffset:t=pn.arrowHeightOffset,stickyVerticalOffset:n=pn.stickyVerticalOffset,config:r}=i;return{northWestArrowSouthWest:(l,u)=>({top:s(l,u),left:l.left-e,name:"arrow_sw",...r&&{config:r}}),northWestArrowSouthMiddleWest:(l,u)=>({top:s(l,u),left:l.left-u.width*.25-e,name:"arrow_smw",...r&&{config:r}}),northWestArrowSouth:(l,u)=>({top:s(l,u),left:l.left-u.width/2,name:"arrow_s",...r&&{config:r}}),northWestArrowSouthMiddleEast:(l,u)=>({top:s(l,u),left:l.left-u.width*.75+e,name:"arrow_sme",...r&&{config:r}}),northWestArrowSouthEast:(l,u)=>({top:s(l,u),left:l.left-u.width+e,name:"arrow_se",...r&&{config:r}}),northArrowSouthWest:(l,u)=>({top:s(l,u),left:l.left+l.width/2-e,name:"arrow_sw",...r&&{config:r}}),northArrowSouthMiddleWest:(l,u)=>({top:s(l,u),left:l.left+l.width/2-u.width*.25-e,name:"arrow_smw",...r&&{config:r}}),northArrowSouth:(l,u)=>({top:s(l,u),left:l.left+l.width/2-u.width/2,name:"arrow_s",...r&&{config:r}}),northArrowSouthMiddleEast:(l,u)=>({top:s(l,u),left:l.left+l.width/2-u.width*.75+e,name:"arrow_sme",...r&&{config:r}}),northArrowSouthEast:(l,u)=>({top:s(l,u),left:l.left+l.width/2-u.width+e,name:"arrow_se",...r&&{config:r}}),northEastArrowSouthWest:(l,u)=>({top:s(l,u),left:l.right-e,name:"arrow_sw",...r&&{config:r}}),northEastArrowSouthMiddleWest:(l,u)=>({top:s(l,u),left:l.right-u.width*.25-e,name:"arrow_smw",...r&&{config:r}}),northEastArrowSouth:(l,u)=>({top:s(l,u),left:l.right-u.width/2,name:"arrow_s",...r&&{config:r}}),northEastArrowSouthMiddleEast:(l,u)=>({top:s(l,u),left:l.right-u.width*.75+e,name:"arrow_sme",...r&&{config:r}}),northEastArrowSouthEast:(l,u)=>({top:s(l,u),left:l.right-u.width+e,name:"arrow_se",...r&&{config:r}}),southWestArrowNorthWest:l=>({top:o(l),left:l.left-e,name:"arrow_nw",...r&&{config:r}}),southWestArrowNorthMiddleWest:(l,u)=>({top:o(l),left:l.left-u.width*.25-e,name:"arrow_nmw",...r&&{config:r}}),southWestArrowNorth:(l,u)=>({top:o(l),left:l.left-u.width/2,name:"arrow_n",...r&&{config:r}}),southWestArrowNorthMiddleEast:(l,u)=>({top:o(l),left:l.left-u.width*.75+e,name:"arrow_nme",...r&&{config:r}}),southWestArrowNorthEast:(l,u)=>({top:o(l),left:l.left-u.width+e,name:"arrow_ne",...r&&{config:r}}),southArrowNorthWest:l=>({top:o(l),left:l.left+l.width/2-e,name:"arrow_nw",...r&&{config:r}}),southArrowNorthMiddleWest:(l,u)=>({top:o(l),left:l.left+l.width/2-u.width*.25-e,name:"arrow_nmw",...r&&{config:r}}),southArrowNorth:(l,u)=>({top:o(l),left:l.left+l.width/2-u.width/2,name:"arrow_n",...r&&{config:r}}),southArrowNorthMiddleEast:(l,u)=>({top:o(l),left:l.left+l.width/2-u.width*.75+e,name:"arrow_nme",...r&&{config:r}}),southArrowNorthEast:(l,u)=>({top:o(l),left:l.left+l.width/2-u.width+e,name:"arrow_ne",...r&&{config:r}}),southEastArrowNorthWest:l=>({top:o(l),left:l.right-e,name:"arrow_nw",...r&&{config:r}}),southEastArrowNorthMiddleWest:(l,u)=>({top:o(l),left:l.right-u.width*.25-e,name:"arrow_nmw",...r&&{config:r}}),southEastArrowNorth:(l,u)=>({top:o(l),left:l.right-u.width/2,name:"arrow_n",...r&&{config:r}}),southEastArrowNorthMiddleEast:(l,u)=>({top:o(l),left:l.right-u.width*.75+e,name:"arrow_nme",...r&&{config:r}}),southEastArrowNorthEast:(l,u)=>({top:o(l),left:l.right-u.width+e,name:"arrow_ne",...r&&{config:r}}),westArrowEast:(l,u)=>({top:l.top+l.height/2-u.height/2,left:l.left-u.width-t,name:"arrow_e",...r&&{config:r}}),eastArrowWest:(l,u)=>({top:l.top+l.height/2-u.height/2,left:l.right+t,name:"arrow_w",...r&&{config:r}}),viewportStickyNorth:(l,u,h)=>l.getIntersection(h)?{top:h.top+n,left:l.left+l.width/2-u.width/2,name:"arrowless",config:{withArrow:!1,...r}}:null};function s(l,u){return l.top-u.height-t}function o(l){return l.bottom+t}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Ob="ck-tooltip";class gn extends as(){constructor(e){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,gn._editors.add(e),gn._instance)return gn._instance;gn._instance=this,this.tooltipTextView=new Xe(e.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new pn(e.locale),this.balloonPanelView.class=Ob,this.balloonPanelView.content.add(this.tooltipTextView),this._pinTooltipDebounced=$o(this._pinTooltip,600),this.listenTo(Ke.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(Ke.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(Ke.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(Ke.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(Ke.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(e){const t=e.ui.view&&e.ui.view.body;gn._editors.delete(e),this.stopListening(e.ui),t&&t.has(this.balloonPanelView)&&t.remove(this.balloonPanelView),gn._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),gn._instance=null)}static getPositioningFunctions(e){const t=gn.defaultBalloonPositions;return{s:[t.southArrowNorth,t.southArrowNorthEast,t.southArrowNorthWest],n:[t.northArrowSouth],e:[t.eastArrowWest],w:[t.westArrowEast],sw:[t.southArrowNorthEast],se:[t.southArrowNorthWest]}[e]}_onEnterOrFocus(e,{target:t}){const n=xm(t);n&&n!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(n,A9(n)))}_onLeaveOrBlur(e,{target:t,relatedTarget:n}){if(e.name==="mouseleave"){if(!Dr(t)||this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;const r=xm(t),s=xm(n);r&&r!==s&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(e,{target:t}){this._currentElementWithTooltip&&(t.contains(this.balloonPanelView.element)&&t.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(e,{text:t,position:n,cssClass:r}){const s=Mn(gn._editors.values()).ui.view.body;s.has(this.balloonPanelView)||s.add(this.balloonPanelView),this.tooltipTextView.text=t,this.balloonPanelView.pin({target:e,positions:gn.getPositioningFunctions(n)}),this._resizeObserver=new xt(e,()=>{$s(e)||this._unpinTooltip()}),this.balloonPanelView.class=[Ob,r].filter(o=>o).join(" ");for(const o of gn._editors)this.listenTo(o.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=e,this._currentTooltipPosition=n}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const e of gn._editors)this.stopListening(e.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy()}_updateTooltipPosition(){if(!$s(this._currentElementWithTooltip)){this._unpinTooltip();return}this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:gn.getPositioningFunctions(this._currentTooltipPosition)})}}gn.defaultBalloonPositions=Ep({heightOffset:5,sideOffset:13});gn._editors=new Set;gn._instance=null;function xm(i){return Dr(i)?i.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function A9(i){return{text:i.dataset.ckeTooltipText,position:i.dataset.ckeTooltipPosition||"s",cssClass:i.dataset.ckeTooltipClass||""}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ph extends Dt(){constructor(e){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[],this.editor=e,this.componentFactory=new d9(e),this.focusTracker=new fi,this.tooltipManager=new gn(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(e.editing.view.document,"layoutChanged",()=>this.update()),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor);for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,t){this._editableElementsMap.set(e,t),t.ckeditorInstance||(t.ckeditorInstance=this.editor),this.focusTracker.add(t);const n=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(t)};this.isReady?n():this.once("ready",n)}removeEditableElement(e){const t=this._editableElementsMap.get(e);t&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(t),this.focusTracker.remove(t),t.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,t={}){e.isRendered?(this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:t})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const e=this.editor,t=e.config.get("ui.viewportOffset");if(t)return t;const n=e.config.get("toolbar.viewportTopOffset");return n?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:n}):{top:0}}_initFocusTracking(){const e=this.editor,t=e.editing.view;let n,r;e.keystrokes.set("Alt+F10",(s,o)=>{const l=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(l)&&!Array.from(t.domRoots.values()).includes(l)&&(n=l);const u=this._getCurrentFocusedToolbarDefinition();(!u||!r)&&(r=this._getFocusableCandidateToolbarDefinitions());for(let h=0;h<r.length;h++){const f=r.shift();if(r.push(f),f!==u&&this._focusFocusableCandidateToolbar(f)){u&&u.options.afterBlur&&u.options.afterBlur();break}}o()}),e.keystrokes.set("Esc",(s,o)=>{const l=this._getCurrentFocusedToolbarDefinition();l&&(n?(n.focus(),n=null):e.editing.view.focus(),l.options.afterBlur&&l.options.afterBlur(),o())})}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const t of this._focusableToolbarDefinitions){const{toolbarView:n,options:r}=t;($s(n.element)||r.beforeFocus)&&e.push(t)}return e.sort((t,n)=>Mb(t)-Mb(n)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:t,options:{beforeFocus:n}}=e;return n&&n(),$s(t.element)?(t.focus(),!0):!1}}function Mb(i){const{toolbarView:e,options:t}=i;let n=10;return $s(e.element)&&n--,t.isContextual&&n--,n}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class _h extends Xe{constructor(e){super(e),this.body=new u9(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class IC extends Xe{constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${Rr()}`;const t=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:t.to("for")},children:[{text:t.to("text")}]})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class P9 extends _h{constructor(e){super(e),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,t=new IC;return t.text=e("Rich Text Editor"),t.extendTemplate({attributes:{class:"ck-voice-label"}}),t}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class I9 extends Xe{constructor(e,t,n){super(e),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=n,this._hasExternalElement=!!this._editableElement,this._editingView=t}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;e.isRenderingInProgress?n(this):t(this);function t(r){e.change(s=>{const o=e.document.getRoot(r.name);s.addClass(r.isFocused?"ck-focused":"ck-blurred",o),s.removeClass(r.isFocused?"ck-blurred":"ck-focused",o)})}function n(r){e.once("change:isRenderingInProgress",(s,o,l)=>{l?n(r):t(r)})}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class vh extends I9{constructor(e,t,n,r={}){super(e,t,n);const s=e.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=r.label||(()=>s("Editor editing area: %0",this.name))}render(){super.render();const e=this._editingView;e.change(t=>{const n=e.document.getRoot(this.name);t.setAttribute("aria-label",this._generateLabel(this),n)})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class RC extends Xe{constructor(e){super(e),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new fi,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0),this.set("inputMode","text");const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",t.if("isFocused","ck-input_focused"),t.if("isEmpty","ck-input-text_empty"),t.if("hasError","ck-error")],id:t.to("id"),placeholder:t.to("placeholder"),readonly:t.to("isReadOnly"),inputmode:t.to("inputMode"),"aria-invalid":t.if("hasError",!0),"aria-describedby":t.to("ariaDescribedById")},on:{input:t.to((...n)=>{this.fire("input",...n),this._updateIsEmpty()}),change:t.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,t,n)=>{this._setDomElementValue(n),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}_updateIsEmpty(){this.isEmpty=R9(this.element)}_setDomElementValue(e){this.element.value=!e&&e!==0?"":e}}function R9(i){return!i.value}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class O9 extends RC{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class M9 extends RC{constructor(e,{min:t,max:n,step:r}={}){super(e);const s=this.bindTemplate;this.set("min",t),this.set("max",n),this.set("step",r),this.extendTemplate({attributes:{type:"number",class:["ck-input-number"],min:s.to("min"),max:s.to("max"),step:s.to("step")}})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Cp extends Xe{constructor(e,t){super(e);const n=`ck-labeled-field-view-${Rr()}`,r=`ck-labeled-field-view-status-${Rr()}`;this.fieldView=t(this,n,r),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(n),this.statusView=this._createStatusView(r),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(o,l)=>o||l);const s=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",s.to("class"),s.if("isEnabled","ck-disabled",o=>!o),s.if("isEmpty","ck-labeled-field-view_empty"),s.if("isFocused","ck-labeled-field-view_focused"),s.if("placeholder","ck-labeled-field-view_placeholder"),s.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const t=new IC(this.locale);return t.for=e,t.bind("text").to(this,"label"),t}_createStatusView(e){const t=new Xe(this.locale),n=this.bindTemplate;return t.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",n.if("errorText","ck-labeled-field-view__status_error"),n.if("_statusText","ck-hidden",r=>!r)],id:e,role:n.if("errorText","alert")},children:[{text:n.to("_statusText")}]}),t}focus(){this.fieldView.focus()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function OC(i,e,t){const n=new O9(i.locale);return n.set({id:e,ariaDescribedById:t}),n.bind("isReadOnly").to(i,"isEnabled",r=>!r),n.bind("hasError").to(i,"errorText",r=>!!r),n.on("input",()=>{i.errorText=null}),i.bind("isEmpty","isFocused","placeholder").to(n),n}function N9(i,e,t){const n=new M9(i.locale);return n.set({id:e,ariaDescribedById:t,inputMode:"numeric"}),n.bind("isReadOnly").to(i,"isEnabled",r=>!r),n.bind("hasError").to(i,"errorText",r=>!!r),n.on("input",()=>{i.errorText=null}),i.bind("isEmpty","isFocused","placeholder").to(n),n}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class MC extends Dt(){constructor(e,t){super(),t&&Ny(this,t),e&&this.set(e)}}const D9='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',B9='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Hu=$l("px");class qo extends fe{static get pluginName(){return"ContextualBalloon"}constructor(e){super(e),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const t=this.editor.editing.view,r=t.document.selection.editableElement;return r?t.domConverter.mapViewToDom(r.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new B("contextualballoon-add-view-exist",[this,e]);const t=e.stackId||"main";if(!this._idToStack.has(t)){this._idToStack.set(t,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(t)),this._numberOfStacks=this._idToStack.size,(!this._visibleStack||e.singleViewMode)&&this.showStack(t);return}const n=this._idToStack.get(t);e.singleViewMode&&this.showStack(t),n.set(e.view,e),this._viewToStack.set(e.view,n),n===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new B("contextualballoon-remove-view-not-exist",[this,e]);const t=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(t.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(t.values())[t.size-2])),t.size===1?(this._idToStack.delete(this._getStackId(t)),this._numberOfStacks=this._idToStack.size):t.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(e){this.visibleStack=e;const t=this._idToStack.get(e);if(!t)throw new B("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==t&&this._showView(Array.from(t.values()).pop())}_createPanelView(){this._view=new pn(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(n=>n[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)+1;e[t]||(t=0),this.showStack(this._getStackId(e[t]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)-1;e[t]||(t=e.length-1),this.showStack(this._getStackId(e[t]))}_createRotatorView(){const e=new V9(this.editor.locale),t=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(n,r)=>!r&&n>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(n,r)=>{if(r<2)return"";const s=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return t("%0 of %1",[s,r])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new L9(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(t,n)=>!n&&t>=2?Math.min(t-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:t="",withArrow:n=!0,singleViewMode:r=!1}){this.view.class=t,this.view.withArrow=n,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),r&&(this._singleViewMode=!0)}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}}class V9 extends Xe{constructor(e){super(e);const t=e.t,n=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new fi,this.buttonPrevView=this._createButtonView(t("Previous"),D9),this.buttonNextView=this._createButtonView(t("Next"),B9),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",n.to("isNavigationVisible",r=>r?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:n.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,t){const n=new At(this.locale);return n.set({label:e,icon:t,tooltip:!0}),n}}class L9 extends Xe{constructor(e,t){super(e);const n=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=t,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",n.to("numberOfPanels",r=>r?"":"ck-hidden")],style:{top:n.to("top",Hu),left:n.to("left",Hu),width:n.to("width",Hu),height:n.to("height",Hu)}},children:this.content}),this.on("change:numberOfPanels",(r,s,o,l)=>{o>l?this._addPanels(o-l):this._removePanels(l-o),this.updatePosition()})}_addPanels(e){for(;e--;){const t=new Xe;t.setTemplate({tag:"div"}),this.content.add(t),this.registerChild(t)}}_removePanels(e){for(;e--;){const t=this.content.last;this.content.remove(t),this.deregisterChild(t),t.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:t}=this._balloonPanelView,{width:n,height:r}=new pt(this._balloonPanelView.element);Object.assign(this,{top:e,left:t,width:n,height:r})}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Xa=$l("px");class F9 extends Xe{constructor(e){super(e);const t=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheLimiter",!1),this.set("_hasViewportTopOffset",!1),this.content=this.createCollection(),this._contentPanelPlaceholder=new Li({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:t.to("isSticky",n=>n?"block":"none"),height:t.to("isSticky",n=>n?Xa(this._panelRect.height):null)}}}).render(),this._contentPanel=new Li({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",t.if("isSticky","ck-sticky-panel__content_sticky"),t.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:t.to("isSticky",n=>n?Xa(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:t.to("_hasViewportTopOffset",n=>n?Xa(this.viewportTopOffset):null),bottom:t.to("_isStickyToTheLimiter",n=>n?Xa(this.limiterBottomOffset):null),marginLeft:t.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this._checkIfShouldBeSticky(),this.listenTo(Ke.window,"scroll",()=>{this._checkIfShouldBeSticky()}),this.listenTo(this,"change:isActive",()=>{this._checkIfShouldBeSticky()})}_checkIfShouldBeSticky(){const e=this._panelRect=this._contentPanel.getBoundingClientRect();let t;this.limiterElement?(t=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&t.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<t.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=t.bottom<e.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:Xa(-Ke.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const $9=$l("px");class z9 extends fe{static get pluginName(){return"BalloonToolbar"}static get requires(){return[qo]}constructor(e){super(e),this._resizeObserver=null,this._balloonConfig=mh(e.config.get("balloonToolbar")),this.toolbarView=this._createToolbarView(),this.focusTracker=new fi,e.ui.once("ready",()=>{this.focusTracker.add(e.ui.getEditableElement()),this.focusTracker.add(this.toolbarView.element)}),e.ui.addToolbar(this.toolbarView,{beforeFocus:()=>this.show(!0),afterBlur:()=>this.hide(),isContextual:!0}),this._balloon=e.plugins.get(qo),this._fireSelectionChangeDebounced=$o(()=>this.fire("_selectionChangeDebounced"),200),this.decorate("show")}init(){const e=this.editor,t=e.model.document.selection;this.listenTo(this.focusTracker,"change:isFocused",(n,r,s)=>{const o=this._balloon.visibleView===this.toolbarView;!s&&o?this.hide():s&&this.show()}),this.listenTo(t,"change:range",(n,r)=>{(r.directChange||t.isCollapsed)&&this.hide(),this._fireSelectionChangeDebounced()}),this.listenTo(this,"_selectionChangeDebounced",()=>{this.editor.editing.view.document.isFocused&&this.show()}),this._balloonConfig.shouldNotGroupWhenFull||this.listenTo(e,"ready",()=>{const n=e.ui.view.editable.element;this._resizeObserver=new xt(n,r=>{this.toolbarView.maxWidth=$9(r.contentRect.width*.9)})}),this.listenTo(this.toolbarView,"groupedItemsUpdate",()=>{this._updatePosition()})}afterInit(){const e=this.editor.ui.componentFactory;this.toolbarView.fillFromConfig(this._balloonConfig,e)}_createToolbarView(){const e=this.editor.locale.t,t=!this._balloonConfig.shouldNotGroupWhenFull,n=new na(this.editor.locale,{shouldGroupWhenFull:t,isFloating:!0});return n.ariaLabel=e("Editor contextual toolbar"),n.render(),n}show(e=!1){const t=this.editor,n=t.model.document.selection,r=t.model.schema;this._balloon.hasView(this.toolbarView)||n.isCollapsed&&!e||W9(n,r)||Array.from(this.toolbarView.items).every(s=>s.isEnabled!==void 0&&!s.isEnabled)||(this.listenTo(this.editor.ui,"update",()=>{this._updatePosition()}),this._balloon.add({view:this.toolbarView,position:this._getBalloonPositionData(),balloonClassName:"ck-toolbar-container"}))}hide(){this._balloon.hasView(this.toolbarView)&&(this.stopListening(this.editor.ui,"update"),this._balloon.remove(this.toolbarView))}_getBalloonPositionData(){const t=this.editor.editing.view,n=t.document,r=n.selection,s=n.selection.isBackward;return{target:()=>{const o=s?r.getFirstRange():r.getLastRange(),l=pt.getDomRangeRects(t.domConverter.viewRangeToDom(o));return s?l[0]:(l.length>1&&l[l.length-1].width===0&&l.pop(),l[l.length-1])},positions:this._getBalloonPositions(s)}}_updatePosition(){this._balloon.updatePosition(this._getBalloonPositionData())}destroy(){super.destroy(),this.stopListening(),this._fireSelectionChangeDebounced.cancel(),this.toolbarView.destroy(),this.focusTracker.destroy(),this._resizeObserver&&this._resizeObserver.destroy()}_getBalloonPositions(e){const n=qe.isSafari&&qe.isiOS?Ep({heightOffset:Math.max(pn.arrowHeightOffset,Math.round(20/Ke.window.visualViewport.scale))}):pn.defaultPositions;return e?[n.northWestArrowSouth,n.northWestArrowSouthWest,n.northWestArrowSouthEast,n.northWestArrowSouthMiddleEast,n.northWestArrowSouthMiddleWest,n.southWestArrowNorth,n.southWestArrowNorthWest,n.southWestArrowNorthEast,n.southWestArrowNorthMiddleWest,n.southWestArrowNorthMiddleEast]:[n.southEastArrowNorth,n.southEastArrowNorthEast,n.southEastArrowNorthWest,n.southEastArrowNorthMiddleEast,n.southEastArrowNorthMiddleWest,n.northEastArrowSouth,n.northEastArrowSouthEast,n.northEastArrowSouthWest,n.northEastArrowSouthMiddleEast,n.northEastArrowSouthMiddleWest]}}function W9(i,e){return i.rangeCount===1?!1:[...i.getRanges()].every(t=>{const n=t.getContainedElement();return n&&e.isSelectable(n)})}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class NC{constructor(e){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof e.crashNumberLimit=="number"?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof e.minimumNonErrorTimePeriod=="number"?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=t=>{const n="error"in t?t.error:t.reason;n instanceof Error&&this._handleError(n,t)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}off(e,t){this._listeners[e]=this._listeners[e].filter(n=>n!==t)}_fire(e,...t){const n=this._listeners[e]||[];for(const r of n)r.apply(this,[null,...t])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,t){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:t instanceof ErrorEvent?t.filename:void 0,lineno:t instanceof ErrorEvent?t.lineno:void 0,colno:t instanceof ErrorEvent?t.colno:void 0,date:this._now()});const n=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:n}),n?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&e.context!==void 0&&e.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(e)}_shouldRestart(){if(this.crashes.length<=this._crashNumberLimit)return!0;const e=this.crashes[this.crashes.length-1].date,t=this.crashes[this.crashes.length-1-this._crashNumberLimit].date;return(e-t)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function vg(i,e=new Set){const t=[i],n=new Set;let r=0;for(;t.length>r;){const s=t[r++];if(!(n.has(s)||!j9(s)||e.has(s)))if(n.add(s),Symbol.iterator in s)try{for(const o of s)t.push(o)}catch{}else for(const o in s)o!=="defaultValue"&&t.push(s[o])}return n}function j9(i){const e=Object.prototype.toString.call(i),t=typeof i;return!(t==="number"||t==="boolean"||t==="string"||t==="symbol"||t==="function"||e==="[object Date]"||e==="[object RegExp]"||e==="[object Module]"||i===void 0||i===null||i._watchdogExcluded||i instanceof EventTarget||i instanceof Event)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function DC(i,e,t=new Set){if(i===e&&U9(i))return!0;const n=vg(i,t),r=vg(e,t);for(const s of n)if(r.has(s))return!0;return!1}function U9(i){return typeof i=="object"&&i!==null}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ul extends NC{constructor(e,t={}){super(t),this._editor=null,this._throttledSave=ep(this._save.bind(this),typeof t.saveInterval=="number"?t.saveInterval:5e3),e&&(this._creator=(n,r)=>e.create(n,r)),this._destructor=n=>n.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{if(typeof this._elementOrData=="string")return this.create(this._data,this._config,this._config.context);{const e=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,e,e.context)}}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,t=this._config,n){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=e,this._config=this._cloneEditorConfiguration(t)||{},this._config.context=n,this._creator(e,this._config))).then(r=>{this._editor=r,r.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=r.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._lastDocumentVersion=e}catch(t){console.error(t,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e={};for(const t of this._editor.model.document.getRootNames())e[t]=this._editor.data.get({rootName:t});return e}_isErrorComingFromThisItem(e){return DC(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return Zg(e,(t,n)=>{if(Dr(t)||n==="context")return t})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const ml=Symbol("MainQueueId");class wh extends NC{constructor(e,t={}){super(t),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new H9,this._watchdogConfig=t,this._creator=n=>e.create(n),this._destructor=n=>n.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}get context(){return this._context}create(e={}){return this._actionQueues.enqueue(ml,()=>(this._contextConfig=e,this._create()))}getItem(e){return this._getWatchdog(e)._item}getItemState(e){return this._getWatchdog(e).state}add(e){const t=Nb(e);return Promise.all(t.map(n=>this._actionQueues.enqueue(n.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let r;if(this._watchdogs.has(n.id))throw new Error(`Item with the given id is already added: '${n.id}'.`);if(n.type==="editor")return r=new Ul(null,this._watchdogConfig),r.setCreator(n.creator),r._setExcludedProperties(this._contextProps),n.destructor&&r.setDestructor(n.destructor),this._watchdogs.set(n.id,r),r.on("error",(s,{error:o,causesRestart:l})=>{this._fire("itemError",{itemId:n.id,error:o}),l&&this._actionQueues.enqueue(n.id,()=>new Promise(u=>{const h=()=>{r.off("restart",h),this._fire("itemRestart",{itemId:n.id}),u()};r.on("restart",h)}))}),r.create(n.sourceElementOrData,n.config,this._context);throw new Error(`Not supported item type: '${n.type}'.`)})))}remove(e){const t=Nb(e);return Promise.all(t.map(n=>this._actionQueues.enqueue(n,()=>{const r=this._getWatchdog(n);return this._watchdogs.delete(n),r.destroy()})))}destroy(){return this._actionQueues.enqueue(ml,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(ml,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(e=>{console.error("An error happened during destroying the context or items.",e)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(e=>(this._context=e,this._contextProps=vg(this._context),Promise.all(Array.from(this._watchdogs.values()).map(t=>(t._setExcludedProperties(this._contextProps),t.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const e=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(t=>t.destroy())).then(()=>this._destructor(e))})}_getWatchdog(e){const t=this._watchdogs.get(e);if(!t)throw new Error(`Item with the given id was not registered: ${e}.`);return t}_isErrorComingFromThisItem(e){for(const t of this._watchdogs.values())if(t._isErrorComingFromThisItem(e))return!1;return DC(this._context,e.context)}}class H9{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,t){const n=e===ml;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());const s=(n?Promise.all(this._queues.values()):Promise.all([this._queues.get(ml),this._queues.get(e)])).then(t),o=s.catch(()=>{});return this._queues.set(e,o),s.finally(()=>{this._activeActions--,this._queues.get(e)===o&&this._activeActions===0&&this._onEmptyCallbacks.forEach(l=>l())})}}function Nb(i){return Array.isArray(i)?i:[i]}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class q9 extends ph{constructor(e,t){super(e),this.view=t}get element(){return this.view.editable.element}init(){const e=this.editor,t=this.view,n=e.editing.view,r=t.editable,s=n.document.getRoot();r.name=s.rootName,t.render();const o=r.element;this.setEditableElement(r.name,o),r.bind("isFocused").to(this.focusTracker),n.attachDomRoot(o),this._initPlaceholder(),this.fire("ready")}destroy(){super.destroy();const e=this.view;this.editor.editing.view.detachDomRoot(e.editable.name),e.destroy()}_initPlaceholder(){const e=this.editor,t=e.editing.view,n=t.document.getRoot();e.sourceElement;const r=e.config.get("placeholder");if(r){const s=typeof r=="string"?r:r[n.rootName];s&&Wl({view:t,element:n,text:s,isDirectHost:!1,keepOnFocus:!0})}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class K9 extends _h{constructor(e,t,n){super(e);const r=e.t;this.editable=new vh(e,t,n,{label:s=>r("Rich Text Editor. Editing area: %0",s.name)})}render(){super.render(),this.registerChild(this.editable)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let bh=class extends Bs(jo(dh)){constructor(e,t={}){if(!Qu(e)&&t.initialData!==void 0)throw new B("editor-create-initial-data",null);super(t),this.config.get("initialData")===void 0&&this.config.set("initialData",G9(e)),Qu(e)&&(this.sourceElement=e,pp(this,e));const n=this.config.get("plugins");n.push(z9),this.config.set("plugins",n),this.config.define("balloonToolbar",this.config.get("toolbar")),this.model.document.createRoot();const r=new K9(this.locale,this.editing.view,this.sourceElement);this.ui=new q9(this,r),gp(this)}destroy(){const e=this.getData();return this.ui.destroy(),super.destroy().then(()=>{this.sourceElement&&this.updateSourceElement(e)})}static create(e,t={}){return new Promise(n=>{if(Qu(e)&&e.tagName==="TEXTAREA")throw new B("editor-wrong-element",null);const r=new this(e,t);n(r.initPlugins().then(()=>r.ui.init()).then(()=>r.data.init(r.config.get("initialData"))).then(()=>r.fire("ready")).then(()=>r))})}};bh.Context=zl;bh.EditorWatchdog=Ul;bh.ContextWatchdog=wh;function G9(i){return Qu(i)?sh(i):i}function Qu(i){return Dr(i)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Sp extends qs{constructor(e){super(e),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const t=this.document;this.listenTo(t,"paste",n("clipboardInput"),{priority:"low"}),this.listenTo(t,"drop",n("clipboardInput"),{priority:"low"}),this.listenTo(t,"dragover",n("dragging"),{priority:"low"});function n(r){return(s,o)=>{o.preventDefault();const l=o.dropRange?[o.dropRange]:null,u=new Ir(t,r);t.fire(u,{dataTransfer:o.dataTransfer,method:s.name,targetRanges:l,target:o.target}),u.stop.called&&o.stopPropagation()}}}onDomEvent(e){const t="clipboardData"in e?e.clipboardData:e.dataTransfer,n=e.type=="drop"||e.type=="paste",r={dataTransfer:new zE(t,{cacheFiles:n})};(e.type=="drop"||e.type=="dragover")&&(r.dropRange=Y9(this.view,e)),this.fire(e.type,e,r)}}function Y9(i,e){const t=e.target.ownerDocument,n=e.clientX,r=e.clientY;let s;return t.caretRangeFromPoint&&t.caretRangeFromPoint(n,r)?s=t.caretRangeFromPoint(n,r):e.rangeParent&&(s=t.createRange(),s.setStart(e.rangeParent,e.rangeOffset),s.collapse(!0)),s?i.domConverter.domRangeToView(s):null}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function J9(i){return i=i.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;"),(i.includes("</p><p>")||i.includes("<br>"))&&(i=`<p>${i}</p>`),i}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function X9(i){return i.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,t)=>t.length==1?" ":t).replace(/<!--[\s\S]*?-->/g,"")}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Db=["figcaption","li"];function BC(i){let e="";if(i.is("$text")||i.is("$textProxy"))e=i.data;else if(i.is("element","img")&&i.hasAttribute("alt"))e=i.getAttribute("alt");else if(i.is("element","br"))e=`
`;else{let t=null;for(const n of i.getChildren()){const r=BC(n);t&&(t.is("containerElement")||n.is("containerElement"))&&(Db.includes(t.name)||Db.includes(n.name)?e+=`
`:e+=`

`),e+=r,t=n}}return e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class rs extends fe{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(Sp),this._setupPasteDrop(),this._setupCopyCut()}_setupPasteDrop(){const e=this.editor,t=e.model,n=e.editing.view,r=n.document;this.listenTo(r,"clipboardInput",s=>{e.isReadOnly&&s.stop()},{priority:"highest"}),this.listenTo(r,"clipboardInput",(s,o)=>{const l=o.dataTransfer;let u;if(o.content)u=o.content;else{let f="";l.getData("text/html")?f=X9(l.getData("text/html")):l.getData("text/plain")&&(f=J9(l.getData("text/plain"))),u=this.editor.data.htmlProcessor.toView(f)}const h=new Ir(this,"inputTransformation");this.fire(h,{content:u,dataTransfer:l,targetRanges:o.targetRanges,method:o.method}),h.stop.called&&s.stop(),n.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(s,o)=>{if(o.content.isEmpty)return;const u=this.editor.data.toModel(o.content,"$clipboardHolder");u.childCount!=0&&(s.stop(),t.change(()=>{this.fire("contentInsertion",{content:u,method:o.method,dataTransfer:o.dataTransfer,targetRanges:o.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(s,o)=>{o.resultRange=t.insertContent(o.content)},{priority:"low"})}_setupCopyCut(){const e=this.editor,t=e.model.document,r=e.editing.view.document,s=(o,l)=>{const u=l.dataTransfer;l.preventDefault();const h=e.data.toView(e.model.getSelectedContent(t.selection));r.fire("clipboardOutput",{dataTransfer:u,content:h,method:o.name})};this.listenTo(r,"copy",s,{priority:"low"}),this.listenTo(r,"cut",(o,l)=>{e.isReadOnly?l.preventDefault():s(o,l)},{priority:"low"}),this.listenTo(r,"clipboardOutput",(o,l)=>{l.content.isEmpty||(l.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(l.content)),l.dataTransfer.setData("text/plain",BC(l.content))),l.method=="cut"&&e.model.deleteContent(t.selection)},{priority:"low"})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class VC{constructor(e,t=20){this._batch=null,this.model=e,this._size=0,this.limit=t,this._isLocked=!1,this._changeCallback=(n,r)=>{r.isLocal&&r.isUndoable&&r!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){(!this.isLocked||e)&&(this._batch=null,this._size=0)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Z9 extends Pt{constructor(e,t){super(e),this._buffer=new VC(e.model,t)}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const t=this.editor.model,n=t.document,r=e.text||"",s=r.length;let o=n.selection;e.selection?o=e.selection:e.range&&(o=t.createSelection(e.range));const l=e.resultRange;t.enqueueChange(this._buffer.batch,u=>{this._buffer.lock(),t.deleteContent(o),r&&t.insertContent(u.createText(r,n.selection.getAttributes()),o),l?u.setSelection(l):o.is("documentSelection")||u.setSelection(o),this._buffer.unlock(),this._buffer.input(s)})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Bb=["insertText","insertReplacementText"];class Q9 extends dr{constructor(e){super(e),qe.isAndroid&&Bb.push("insertCompositionText");const t=e.document;t.on("beforeinput",(n,r)=>{if(!this.isEnabled)return;const{data:s,targetRanges:o,inputType:l,domEvent:u}=r;if(!Bb.includes(l))return;const h=new Ir(t,"insertText");t.fire(h,new Wo(e,u,{text:s,selection:e.createSelection(o)})),h.stop.called&&n.stop()}),t.on("compositionend",(n,{data:r,domEvent:s})=>{!this.isEnabled||qe.isAndroid||r&&t.fire("insertText",new Wo(e,s,{text:r,selection:t.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class LC extends fe{static get pluginName(){return"Input"}init(){const e=this.editor,t=e.model,n=e.editing.view,r=t.document.selection;n.addObserver(Q9);const s=new Z9(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",s),e.commands.add("input",s),this.listenTo(n.document,"insertText",(o,l)=>{n.document.isComposing||l.preventDefault();const{text:u,selection:h,resultRange:f}=l,m=Array.from(h.getRanges()).map(k=>e.editing.mapper.toModelRange(k));let v=u;if(qe.isAndroid){const k=Array.from(m[0].getItems()).reduce((S,x)=>S+(x.is("$textProxy")?x.data:""),"");k&&(k.length<=v.length?v.startsWith(k)&&(v=v.substring(k.length),m[0].start=m[0].start.getShiftedBy(k.length)):k.startsWith(v)&&(m[0].start=m[0].start.getShiftedBy(v.length),v=""))}const C={text:v,selection:t.createSelection(m)};f&&(C.resultRange=e.editing.mapper.toModelRange(f)),e.execute("insertText",C)}),qe.isAndroid?this.listenTo(n.document,"keydown",(o,l)=>{r.isCollapsed||l.keyCode!=229||!n.document.isComposing||Vb(t,s)}):this.listenTo(n.document,"compositionstart",()=>{r.isCollapsed||Vb(t,s)})}}function Vb(i,e){if(!e.isEnabled)return;const t=e.buffer;t.lock(),i.enqueueChange(t.batch,()=>{i.deleteContent(i.document.selection)}),t.unlock()}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Lb extends Pt{constructor(e,t){super(e),this.direction=t,this._buffer=new VC(e.model,e.config.get("typing.undoStep"))}get buffer(){return this._buffer}execute(e={}){const t=this.editor.model,n=t.document;t.enqueueChange(this._buffer.batch,r=>{this._buffer.lock();const s=r.createSelection(e.selection||n.selection),o=e.sequence||1,l=s.isCollapsed;if(s.isCollapsed&&t.modifySelection(s,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(o)){this._replaceEntireContentWithParagraph(r);return}if(this._shouldReplaceFirstBlockWithParagraph(s,o)){this.editor.execute("paragraph",{selection:s});return}if(s.isCollapsed)return;let u=0;s.getFirstRange().getMinimalFlatRanges().forEach(h=>{u+=rg(h.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),t.deleteContent(s,{doNotResetEntireContent:l,direction:this.direction}),this._buffer.input(u),r.setSelection(s),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const t=this.editor.model,r=t.document.selection,s=t.schema.getLimitElement(r);if(!(r.isCollapsed&&r.containsEntireContent(s))||!t.schema.checkChild(s,"paragraph"))return!1;const l=s.getChild(0);return!(l&&l.is("element","paragraph"))}_replaceEntireContentWithParagraph(e){const t=this.editor.model,r=t.document.selection,s=t.schema.getLimitElement(r),o=e.createElement("paragraph");e.remove(e.createRangeIn(s)),e.insert(o,s),e.setSelection(o,0)}_shouldReplaceFirstBlockWithParagraph(e,t){const n=this.editor.model;if(t>1||this.direction!="backward"||!e.isCollapsed)return!1;const r=e.getFirstPosition(),s=n.schema.getLimitElement(r),o=s.getChild(0);return!(r.parent!=o||!e.containsEntireContent(o)||!n.schema.checkChild(s,"paragraph")||o.name=="paragraph")}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const e$="character",Fb="word",t$="codePoint",es="selection",Oo="backward",sl="forward",FC={deleteContent:{unit:es,direction:Oo},deleteContentBackward:{unit:t$,direction:Oo},deleteWordBackward:{unit:Fb,direction:Oo},deleteHardLineBackward:{unit:es,direction:Oo},deleteSoftLineBackward:{unit:es,direction:Oo},deleteContentForward:{unit:e$,direction:sl},deleteWordForward:{unit:Fb,direction:sl},deleteHardLineForward:{unit:es,direction:sl},deleteSoftLineForward:{unit:es,direction:sl}};class n$ extends dr{constructor(e){super(e);const t=e.document;let n=0;t.on("keydown",()=>{n++}),t.on("keyup",()=>{n=0}),t.on("beforeinput",(r,s)=>{if(!this.isEnabled)return;const{targetRanges:o,domEvent:l,inputType:u}=s,h=FC[u];if(!h)return;const f={direction:h.direction,unit:h.unit,sequence:n};f.unit==es&&(f.selectionToRemove=e.createSelection(o[0])),u==="deleteContentBackward"&&(qe.isAndroid&&(f.sequence=1),r$(o)&&(f.unit=es,f.selectionToRemove=e.createSelection(o)));const m=new Qo(t,"delete",o[0]);t.fire(m,new Wo(e,l,f)),m.stop.called&&r.stop()}),qe.isBlink&&i$(this)}observe(){}stopObserving(){}}function i$(i){const e=i.view,t=e.document;let n=null,r=!1;t.on("keydown",(l,{keyCode:u})=>{n=u,r=!1}),t.on("keyup",(l,{keyCode:u,domEvent:h})=>{const f=t.selection,m=i.isEnabled&&u==n&&s(u)&&!f.isCollapsed&&!r;if(n=null,m){const v=f.getFirstRange(),C=new Qo(t,"delete",v),k={unit:es,direction:o(u),selectionToRemove:f};t.fire(C,new Wo(e,h,k))}}),t.on("beforeinput",(l,{inputType:u})=>{const h=FC[u];s(n)&&h&&h.direction==o(n)&&(r=!0)},{priority:"high"}),t.on("beforeinput",(l,{inputType:u,data:h})=>{n==tt.delete&&u=="insertText"&&h==""&&l.stop()},{priority:"high"});function s(l){return l==tt.backspace||l==tt.delete}function o(l){return l==tt.backspace?Oo:sl}}function r$(i){if(i.length!=1||i[0].isCollapsed)return!1;const e=i[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let t=0;for(const{nextPosition:n}of e){if(!n.parent.is("$text"))t++;else{const r=n.parent.data,s=n.offset;if(ip(r,s)||rp(r,s)||SE(r,s))continue;t++}if(t>1)return!0}return!1}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ia extends fe{static get pluginName(){return"Delete"}init(){const e=this.editor,t=e.editing.view,n=t.document,r=e.model.document;t.addObserver(n$),this._undoOnBackspace=!1;const s=new Lb(e,"forward");e.commands.add("deleteForward",s),e.commands.add("forwardDelete",s),e.commands.add("delete",new Lb(e,"backward")),this.listenTo(n,"delete",(o,l)=>{n.isComposing||l.preventDefault();const{direction:u,sequence:h,selectionToRemove:f,unit:m}=l,v=u==="forward"?"deleteForward":"delete",C={sequence:h};if(m=="selection"){const k=Array.from(f.getRanges()).map(S=>e.editing.mapper.toModelRange(S));C.selection=e.model.createSelection(k)}else C.unit=m;e.execute(v,C),t.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(n,"delete",(o,l)=>{this._undoOnBackspace&&l.direction=="backward"&&l.sequence==1&&l.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),l.preventDefault(),o.stop())},{context:"$capture"}),this.listenTo(r,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class s$ extends fe{static get requires(){return[LC,ia]}static get pluginName(){return"Typing"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function $C(i,e){let t=i.start;return{text:Array.from(i.getItems()).reduce((r,s)=>s.is("$text")||s.is("$textProxy")?r+s.data:(t=e.createPositionAfter(s),""),""),range:e.createRange(t,i.end)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class o$ extends Dt(){constructor(e,t){super(),this.model=e,this.testCallback=t,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const t=this.model.document;this.listenTo(t.selection,"change:range",(n,{directChange:r})=>{if(r){if(!t.selection.isCollapsed){this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1);return}this._evaluateTextBeforeSelection("selection")}}),this.listenTo(t,"change:data",(n,r)=>{r.isUndo||!r.isLocal||this._evaluateTextBeforeSelection("data",{batch:r})})}_evaluateTextBeforeSelection(e,t={}){const n=this.model,s=n.document.selection,o=n.createRange(n.createPositionAt(s.focus.parent,0),s.focus),{text:l,range:u}=$C(o,n),h=this.testCallback(l);if(!h&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!h,h){const f=Object.assign(t,{text:l,range:u});typeof h=="object"&&Object.assign(f,h),this.fire(`matched:${e}`,f)}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class $b extends fe{static get pluginName(){return"TwoStepCaretMovement"}constructor(e){super(e),this.attributes=new Set,this._overrideUid=null}init(){const e=this.editor,t=e.model,n=e.editing.view,r=e.locale,s=t.document.selection;this.listenTo(n.document,"arrowKey",(o,l)=>{if(!s.isCollapsed||l.shiftKey||l.altKey||l.ctrlKey)return;const u=l.keyCode==tt.arrowright,h=l.keyCode==tt.arrowleft;if(!u&&!h)return;const f=r.contentLanguageDirection;let m=!1;f==="ltr"&&u||f==="rtl"&&h?m=this._handleForwardMovement(l):m=this._handleBackwardMovement(l),m===!0&&o.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(s,"change:range",(o,l)=>{if(this._isNextGravityRestorationSkipped){this._isNextGravityRestorationSkipped=!1;return}this._isGravityOverridden&&(!l.directChange&&ed(s.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const t=this.attributes,r=this.editor.model.document.selection,s=r.getFirstPosition();return this._isGravityOverridden||s.isAtStart&&km(r,t)?!1:ed(s,t)?(qu(e),this._overrideGravity(),!0):!1}_handleBackwardMovement(e){const t=this.attributes,n=this.editor.model,r=n.document.selection,s=r.getFirstPosition();return this._isGravityOverridden?(qu(e),this._restoreGravity(),Am(n,t,s),!0):s.isAtStart?km(r,t)?(qu(e),Am(n,t,s),!0):!1:a$(s,t)?s.isAtEnd&&!km(r,t)&&ed(s,t)?(qu(e),Am(n,t,s),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1):!1}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function km(i,e){for(const t of e)if(i.hasAttribute(t))return!0;return!1}function Am(i,e,t){const n=t.nodeBefore;i.change(r=>{n?r.setSelectionAttribute(n.getAttributes()):r.removeSelectionAttribute(e)})}function qu(i){i.preventDefault()}function a$(i,e){const t=i.getShiftedBy(-1);return ed(t,e)}function ed(i,e){const{nodeBefore:t,nodeAfter:n}=i;for(const r of e){const s=t?t.getAttribute(r):void 0;if((n?n.getAttribute(r):void 0)!==s)return!0}return!1}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Ko(i,e,t,n){return n.createRange(zb(i,e,t,!0,n),zb(i,e,t,!1,n))}function zb(i,e,t,n,r){let s=i.textNode||(n?i.nodeBefore:i.nodeAfter),o=null;for(;s&&s.getAttribute(e)==t;)o=s,s=n?s.previousSibling:s.nextSibling;return o?r.createPositionAt(o,n?"before":"after"):i}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function l$(i,e,t,n){const r=i.editing.view,s=new Set;r.document.registerPostFixer(o=>{const l=i.model.document.selection;let u=!1;if(l.hasAttribute(e)){const h=Ko(l.getFirstPosition(),e,l.getAttribute(e),i.model),f=i.editing.mapper.toViewRange(h);for(const m of f.getItems())m.is("element",t)&&!m.hasClass(n)&&(o.addClass(n,m),s.add(m),u=!0)}return u}),i.conversion.for("editingDowncast").add(o=>{o.on("insert",l,{priority:"highest"}),o.on("remove",l,{priority:"highest"}),o.on("attribute",l,{priority:"highest"}),o.on("selection",l,{priority:"highest"});function l(){r.change(u=>{for(const h of s.values())u.removeClass(n,h),s.delete(h)})}})}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function*zC(i,e){for(const t of e)t&&i.getAttributeProperties(t[0]).copyOnEnter&&(yield t)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class c$ extends Pt{execute(){this.editor.model.change(e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})})}enterBlock(e){const t=this.editor.model,n=t.document.selection,r=t.schema,s=n.isCollapsed,o=n.getFirstRange(),l=o.start.parent,u=o.end.parent;if(r.isLimit(l)||r.isLimit(u))return!s&&l==u&&t.deleteContent(n),!1;if(s){const h=zC(e.model.schema,n.getAttributes());return Wb(e,o.start),e.setSelectionAttribute(h),!0}else{const h=!(o.start.isAtStart&&o.end.isAtEnd),f=l==u;if(t.deleteContent(n,{leaveUnmerged:h}),h){if(f)return Wb(e,n.focus),!0;e.setSelection(u,0)}}return!1}}function Wb(i,e){i.split(e),i.setSelection(e.parent.nextSibling,0)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const u$={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class WC extends dr{constructor(e){super(e);const t=this.document;let n=!1;t.on("keydown",(r,s)=>{n=s.shiftKey}),t.on("beforeinput",(r,s)=>{if(!this.isEnabled)return;let o=s.inputType;qe.isSafari&&n&&o=="insertParagraph"&&(o="insertLineBreak");const l=s.domEvent,u=u$[o];if(!u)return;const h=new Qo(t,"enter",s.targetRanges[0]);t.fire(h,new Wo(e,l,{isSoft:u.isSoft})),h.stop.called&&r.stop()})}observe(){}stopObserving(){}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Tp extends fe{static get pluginName(){return"Enter"}init(){const e=this.editor,t=e.editing.view,n=t.document;t.addObserver(WC),e.commands.add("enter",new c$(e)),this.listenTo(n,"enter",(r,s)=>{n.isComposing||s.preventDefault(),!s.isSoft&&(e.execute("enter"),t.scrollToTheSelection())},{priority:"low"})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class d$ extends Pt{execute(){const e=this.editor.model,t=e.document;e.change(n=>{f$(e,n,t.selection),this.fire("afterExecute",{writer:n})})}refresh(){const e=this.editor.model,t=e.document;this.isEnabled=h$(e.schema,t.selection)}}function h$(i,e){if(e.rangeCount>1)return!1;const t=e.anchor;if(!t||!i.checkChild(t,"softBreak"))return!1;const n=e.getFirstRange(),r=n.start.parent,s=n.end.parent;return!((wg(r,i)||wg(s,i))&&r!==s)}function f$(i,e,t){const n=t.isCollapsed,r=t.getFirstRange(),s=r.start.parent,o=r.end.parent,l=s==o;if(n){const u=zC(i.schema,t.getAttributes());jb(i,e,r.end),e.removeSelectionAttribute(t.getAttributeKeys()),e.setSelectionAttribute(u)}else{const u=!(r.start.isAtStart&&r.end.isAtEnd);i.deleteContent(t,{leaveUnmerged:u}),l?jb(i,e,t.focus):u&&e.setSelection(o,0)}}function jb(i,e,t){const n=e.createElement("softBreak");i.insertContent(n,t),e.setSelection(n,"after")}function wg(i,e){return i.is("rootElement")?!1:e.isLimit(i)||wg(i.parent,e)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class jC extends fe{static get pluginName(){return"ShiftEnter"}init(){const e=this.editor,t=e.model.schema,n=e.conversion,r=e.editing.view,s=r.document;t.register("softBreak",{allowWhere:"$text",isInline:!0}),n.for("upcast").elementToElement({model:"softBreak",view:"br"}),n.for("downcast").elementToElement({model:"softBreak",view:(o,{writer:l})=>l.createEmptyElement("br")}),r.addObserver(WC),e.commands.add("shiftEnter",new d$(e)),this.listenTo(s,"enter",(o,l)=>{s.isComposing||l.preventDefault(),l.isSoft&&(e.execute("shiftEnter"),r.scrollToTheSelection())},{priority:"low"})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class m$ extends kt(){constructor(){super(...arguments),this._stack=[]}add(e,t){const n=this._stack,r=n[0];this._insertDescriptor(e);const s=n[0];r!==s&&!Pm(r,s)&&this.fire("change:top",{oldDescriptor:r,newDescriptor:s,writer:t})}remove(e,t){const n=this._stack,r=n[0];this._removeDescriptor(e);const s=n[0];r!==s&&!Pm(r,s)&&this.fire("change:top",{oldDescriptor:r,newDescriptor:s,writer:t})}_insertDescriptor(e){const t=this._stack,n=t.findIndex(s=>s.id===e.id);if(Pm(e,t[n]))return;n>-1&&t.splice(n,1);let r=0;for(;t[r]&&g$(t[r],e);)r++;t.splice(r,0,e)}_removeDescriptor(e){const t=this._stack,n=t.findIndex(r=>r.id===e);n>-1&&t.splice(n,1)}}function Pm(i,e){return i&&e&&i.priority==e.priority&&Rd(i.classes)==Rd(e.classes)}function g$(i,e){return i.priority>e.priority?!0:i.priority<e.priority?!1:Rd(i.classes)>Rd(e.classes)}function Rd(i){return Array.isArray(i)?i.sort().join(","):i}const p$='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const _$="ck-widget",Ub="ck-widget_selected";function Yt(i){return i.is("element")?!!i.getCustomProperty("widget"):!1}function v$(i,e,t={}){if(!i.is("containerElement"))throw new B("widget-to-widget-wrong-element-type",null,{element:i});return e.setAttribute("contenteditable","false",i),e.addClass(_$,i),e.setCustomProperty("widget",!0,i),i.getFillerOffset=T$,e.setCustomProperty("widgetLabel",[],i),t.label&&y$(i,t.label),t.hasSelectionHandle&&x$(i,e),UC(i,e),i}function w$(i,e,t){if(e.classes&&t.addClass(On(e.classes),i),e.attributes)for(const n in e.attributes)t.setAttribute(n,e.attributes[n],i)}function b$(i,e,t){if(e.classes&&t.removeClass(On(e.classes),i),e.attributes)for(const n in e.attributes)t.removeAttribute(n,i)}function UC(i,e,t=w$,n=b$){const r=new m$;r.on("change:top",(l,u)=>{u.oldDescriptor&&n(i,u.oldDescriptor,u.writer),u.newDescriptor&&t(i,u.newDescriptor,u.writer)});const s=(l,u,h)=>r.add(u,h),o=(l,u,h)=>r.remove(u,h);e.setCustomProperty("addHighlight",s,i),e.setCustomProperty("removeHighlight",o,i)}function y$(i,e){i.getCustomProperty("widgetLabel").push(e)}function E$(i){return i.getCustomProperty("widgetLabel").reduce((t,n)=>typeof n=="function"?t?t+". "+n():n():t?t+". "+n:n,"")}function C$(i,e,t={}){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],i),e.setAttribute("role","textbox",i),t.label&&e.setAttribute("aria-label",t.label,i),e.setAttribute("contenteditable",i.isReadOnly?"false":"true",i),i.on("change:isReadOnly",(n,r,s)=>{e.setAttribute("contenteditable",s?"false":"true",i)}),i.on("change:isFocused",(n,r,s)=>{s?e.addClass("ck-editor__nested-editable_focused",i):e.removeClass("ck-editor__nested-editable_focused",i)}),UC(i,e),i}function S$(i,e){const t=i.getSelectedElement();if(t){const n=Qr(i);if(n)return e.createRange(e.createPositionAt(t,n))}return _C(i,e)}function T$(){return null}function x$(i,e){const t=e.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(n){const r=this.toDomElement(n),s=new ea;return s.set("content",p$),s.render(),r.appendChild(s.element),r});e.insert(e.createPositionAt(i,0),t),e.addClass(["ck-widget_with-selection-handle"],i)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const xr="widget-type-around";function xs(i,e,t){return!!i&&Yt(i)&&!t.isInline(e)}function k$(i){return i.closest(".ck-widget__type-around__button")}function A$(i){return i.classList.contains("ck-widget__type-around__button_before")?"before":"after"}function P$(i,e){const t=i.closest(".ck-widget");return e.mapDomToView(t)}function Qr(i){return i.getAttribute(xr)}const I$='<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const HC=["before","after"],R$=new DOMParser().parseFromString(I$,"image/svg+xml").firstChild,Hb="ck-widget__type-around_disabled";class O$ extends fe{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[Tp,ia]}init(){const e=this.editor,t=e.editing.view;this.on("change:isEnabled",(n,r,s)=>{t.change(o=>{for(const l of t.document.roots)s?o.removeClass(Hb,l):o.addClass(Hb,l)}),s||e.model.change(o=>{o.removeSelectionAttribute(xr)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,t){const n=this.editor,r=n.editing.view,s=n.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);n.execute("insertParagraph",{position:n.model.createPositionAt(e,t),attributes:s}),r.focus(),r.scrollToTheSelection()}_listenToIfEnabled(e,t,n,r){this.listenTo(e,t,(...s)=>{this.isEnabled&&n(...s)},r)}_insertParagraphAccordingToFakeCaretPosition(){const n=this.editor.model.document.selection,r=Qr(n);if(!r)return!1;const s=n.getSelectedElement();return this._insertParagraph(s,r),!0}_enableTypeAroundUIInjection(){const e=this.editor,t=e.model.schema,n=e.locale.t,r={before:n("Insert paragraph before block"),after:n("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(s,o,l)=>{const u=l.mapper.toViewElement(o.item);u&&xs(u,o.item,t)&&(M$(l.writer,r,u),u.getCustomProperty("widgetLabel").push(()=>this.isEnabled?n("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,t=e.model,n=t.document.selection,r=t.schema,s=e.editing.view;this._listenToIfEnabled(s.document,"arrowKey",(l,u)=>{this._handleArrowKeyPress(l,u)},{context:[Yt,"$text"],priority:"high"}),this._listenToIfEnabled(n,"change:range",(l,u)=>{u.directChange&&e.model.change(h=>{h.removeSelectionAttribute(xr)})}),this._listenToIfEnabled(t.document,"change:data",()=>{const l=n.getSelectedElement();if(l){const u=e.editing.mapper.toViewElement(l);if(xs(u,l,r))return}e.model.change(u=>{u.removeSelectionAttribute(xr)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(l,u,h)=>{const f=h.writer;if(this._currentFakeCaretModelElement){const k=h.mapper.toViewElement(this._currentFakeCaretModelElement);k&&(f.removeClass(HC.map(o),k),this._currentFakeCaretModelElement=null)}const m=u.selection.getSelectedElement();if(!m)return;const v=h.mapper.toViewElement(m);if(!xs(v,m,r))return;const C=Qr(u.selection);C&&(f.addClass(o(C),v),this._currentFakeCaretModelElement=m)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(l,u,h)=>{h||e.model.change(f=>{f.removeSelectionAttribute(xr)})});function o(l){return`ck-widget_type-around_show-fake-caret_${l}`}}_handleArrowKeyPress(e,t){const n=this.editor,r=n.model,s=r.document.selection,o=r.schema,l=n.editing.view,u=t.keyCode,h=xB(u,n.locale.contentLanguageDirection),f=l.document.selection.getSelectedElement(),m=n.editing.mapper.toModelElement(f);let v;xs(f,m,o)?v=this._handleArrowKeyPressOnSelectedWidget(h):s.isCollapsed?v=this._handleArrowKeyPressWhenSelectionNextToAWidget(h):t.shiftKey||(v=this._handleArrowKeyPressWhenNonCollapsedSelection(h)),v&&(t.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const n=this.editor.model,r=n.document.selection,s=Qr(r);return n.change(o=>{if(s){if(!(s===(e?"after":"before")))return o.removeSelectionAttribute(xr),!0}else return o.setSelectionAttribute(xr,e?"after":"before"),!0;return!1})}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const t=this.editor,n=t.model,r=n.schema,s=t.plugins.get("Widget"),o=s._getObjectElementNextToSelection(e),l=t.editing.mapper.toViewElement(o);return xs(l,o,r)?(n.change(u=>{s._setSelectionOverElement(o),u.setSelectionAttribute(xr,e?"before":"after")}),!0):!1}_handleArrowKeyPressWhenNonCollapsedSelection(e){const t=this.editor,n=t.model,r=n.schema,s=t.editing.mapper,o=n.document.selection,l=e?o.getLastPosition().nodeBefore:o.getFirstPosition().nodeAfter,u=s.toViewElement(l);return xs(u,l,r)?(n.change(h=>{h.setSelection(l,"on"),h.setSelectionAttribute(xr,e?"after":"before")}),!0):!1}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,t=e.editing.view;this._listenToIfEnabled(t.document,"mousedown",(n,r)=>{const s=k$(r.domTarget);if(!s)return;const o=A$(s),l=P$(s,t.domConverter),u=e.editing.mapper.toModelElement(l);this._insertParagraph(u,o),r.preventDefault(),n.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,t=e.model.document.selection,n=e.editing.view;this._listenToIfEnabled(n.document,"enter",(r,s)=>{if(r.eventPhase!="atTarget")return;const o=t.getSelectedElement(),l=e.editing.mapper.toViewElement(o),u=e.model.schema;let h;this._insertParagraphAccordingToFakeCaretPosition()?h=!0:xs(l,o,u)&&(this._insertParagraph(o,s.isSoft?"before":"after"),h=!0),h&&(s.preventDefault(),r.stop())},{context:Yt})}_enableInsertingParagraphsOnTypingKeystroke(){const t=this.editor.editing.view.document;this._listenToIfEnabled(t,"insertText",(n,r)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(r.selection=t.selection)},{priority:"high"}),qe.isAndroid?this._listenToIfEnabled(t,"keydown",(n,r)=>{r.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(t,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,t=e.editing.view,n=e.model,r=n.schema;this._listenToIfEnabled(t.document,"delete",(s,o)=>{if(s.eventPhase!="atTarget")return;const l=Qr(n.document.selection);if(!l)return;const u=o.direction,h=n.document.selection.getSelectedElement(),f=l==="before",m=u=="forward";if(f===m)e.execute("delete",{selection:n.createSelection(h,"on")});else{const C=r.getNearestSelectionRange(n.createPositionAt(h,l),u);if(C)if(!C.isCollapsed)n.change(k=>{k.setSelection(C),e.execute(m?"deleteForward":"delete")});else{const k=n.createSelection(C.start);if(n.modifySelection(k,{direction:u}),!k.focus.isEqual(C.start))n.change(S=>{S.setSelection(C),e.execute(m?"deleteForward":"delete")});else{const S=B$(r,C.start.parent);n.deleteContent(n.createSelection(S,"on"),{doNotAutoparagraph:!0})}}}o.preventDefault(),s.stop()},{context:Yt})}_enableInsertContentIntegration(){const e=this.editor,t=this.editor.model,n=t.document.selection;this._listenToIfEnabled(e.model,"insertContent",(r,[s,o])=>{if(o&&!o.is("documentSelection"))return;const l=Qr(n);if(l)return r.stop(),t.change(u=>{const h=n.getSelectedElement(),f=t.createPositionAt(h,l),m=u.createSelection(f),v=t.insertContent(s,m);return u.setSelection(m),v})},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,n=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(r,s)=>{const[,o,l={}]=s;if(o&&!o.is("documentSelection"))return;const u=Qr(n);u&&(l.findOptimalPosition=u,s[3]=l)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,n=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(r,[s])=>{if(s&&!s.is("documentSelection"))return;Qr(n)&&r.stop()},{priority:"high"})}}function M$(i,e,t){const n=i.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(r){const s=this.toDomElement(r);return N$(s,e),D$(s),s});i.insert(i.createPositionAt(t,"end"),n)}function N$(i,e){for(const t of HC){const n=new Li({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${t}`],title:e[t],"aria-hidden":"true"},children:[i.ownerDocument.importNode(R$,!0)]});i.appendChild(n.render())}}function D$(i){const e=new Li({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});i.appendChild(e.render())}function B$(i,e){let t=e;for(const n of e.getAncestors({parentFirst:!0})){if(n.childCount>1||i.isLimit(n))break;t=n}return t}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function V$(i){const e=i.model;return(t,n)=>{const r=n.keyCode==tt.arrowup,s=n.keyCode==tt.arrowdown,o=n.shiftKey,l=e.document.selection;if(!r&&!s)return;const u=s;if(o&&$$(l,u))return;const h=L$(i,l,u);if(h){if(h.isCollapsed){if(l.isCollapsed)return;if(o)return}(h.isCollapsed||F$(i,h,u))&&(e.change(f=>{const m=u?h.end:h.start;if(o){const v=e.createSelection(l.anchor);v.setFocus(m),f.setSelection(v)}else f.setSelection(m)}),t.stop(),n.preventDefault(),n.stopPropagation())}}}function L$(i,e,t){const n=i.model;if(t){const r=e.isCollapsed?e.focus:e.getLastPosition(),s=qb(n,r,"forward");if(!s)return null;const o=n.createRange(r,s),l=Kb(n.schema,o,"backward");return l?n.createRange(r,l):null}else{const r=e.isCollapsed?e.focus:e.getFirstPosition(),s=qb(n,r,"backward");if(!s)return null;const o=n.createRange(s,r),l=Kb(n.schema,o,"forward");return l?n.createRange(l,r):null}}function qb(i,e,t){const n=i.schema,r=i.createRangeIn(e.root),s=t=="forward"?"elementStart":"elementEnd";for(const{previousPosition:o,item:l,type:u}of r.getWalker({startPosition:e,direction:t})){if(n.isLimit(l)&&!n.isInline(l))return o;if(u==s&&n.isBlock(l))return null}return null}function Kb(i,e,t){const n=t=="backward"?e.end:e.start;if(i.checkChild(n,"$text"))return n;for(const{nextPosition:r}of e.getWalker({direction:t}))if(i.checkChild(r,"$text"))return r;return null}function F$(i,e,t){const n=i.model,r=i.view.domConverter;if(t){const h=n.createSelection(e.start);n.modifySelection(h),!h.focus.isAtEnd&&!e.start.isEqual(h.focus)&&(e=n.createRange(h.focus,e.end))}const s=i.mapper.toViewRange(e),o=r.viewRangeToDom(s),l=pt.getDomRangeRects(o);let u;for(const h of l){if(u===void 0){u=Math.round(h.bottom);continue}if(Math.round(h.top)>=u)return!1;u=Math.max(u,Math.round(h.bottom))}return!0}function $$(i,e){return!i.isCollapsed&&i.isBackward==e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class xp extends fe{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[O$,ia]}init(){const e=this.editor,t=e.editing.view,n=t.document;this.editor.editing.downcastDispatcher.on("selection",(r,s,o)=>{const l=o.writer,u=s.selection;if(u.isCollapsed)return;const h=u.getSelectedElement();if(!h)return;const f=e.editing.mapper.toViewElement(h);Yt(f)&&o.consumable.consume(u,"selection")&&l.setSelection(l.createRangeOn(f),{fake:!0,label:E$(f)})}),this.editor.editing.downcastDispatcher.on("selection",(r,s,o)=>{this._clearPreviouslySelectedWidgets(o.writer);const l=o.writer,u=l.document.selection;let h=null;for(const f of u.getRanges())for(const m of f){const v=m.item;Yt(v)&&!W$(v,h)&&(l.addClass(Ub,v),this._previouslySelected.add(v),h=v)}},{priority:"low"}),t.addObserver(uh),this.listenTo(n,"mousedown",(...r)=>this._onMousedown(...r)),this.listenTo(n,"arrowKey",(...r)=>{this._handleSelectionChangeOnArrowKeyPress(...r)},{context:[Yt,"$text"]}),this.listenTo(n,"arrowKey",(...r)=>{this._preventDefaultOnArrowKeyPress(...r)},{context:"$root"}),this.listenTo(n,"arrowKey",V$(this.editor.editing),{context:"$text"}),this.listenTo(n,"delete",(r,s)=>{this._handleDelete(s.direction=="forward")&&(s.preventDefault(),r.stop())},{context:"$root"})}_onMousedown(e,t){const n=this.editor,r=n.editing.view,s=r.document;let o=t.target;if(z$(o)){if((qe.isSafari||qe.isGecko)&&t.domEvent.detail>=3){const u=n.editing.mapper,h=o.is("attributeElement")?o.findAncestor(m=>!m.is("attributeElement")):o,f=u.toModelElement(h);t.preventDefault(),this.editor.model.change(m=>{m.setSelection(f,"in")})}return}if(!Yt(o)&&(o=o.findAncestor(Yt),!o))return;qe.isAndroid&&t.preventDefault(),s.isFocused||r.focus();const l=n.editing.mapper.toModelElement(o);this._setSelectionOverElement(l)}_handleSelectionChangeOnArrowKeyPress(e,t){const n=t.keyCode,r=this.editor.model,s=r.schema,o=r.document.selection,l=o.getSelectedElement(),u=CE(n,this.editor.locale.contentLanguageDirection),h=u=="down"||u=="right",f=u=="up"||u=="down";if(l&&s.isObject(l)){const v=h?o.getLastPosition():o.getFirstPosition(),C=s.getNearestSelectionRange(v,h?"forward":"backward");C&&(r.change(k=>{k.setSelection(C)}),t.preventDefault(),e.stop());return}if(!o.isCollapsed&&!t.shiftKey){const v=o.getFirstPosition(),C=o.getLastPosition(),k=v.nodeAfter,S=C.nodeBefore;(k&&s.isObject(k)||S&&s.isObject(S))&&(r.change(x=>{x.setSelection(h?C:v)}),t.preventDefault(),e.stop());return}if(!o.isCollapsed)return;const m=this._getObjectElementNextToSelection(h);if(m&&s.isObject(m)){if(s.isInline(m)&&f)return;this._setSelectionOverElement(m),t.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,t){const n=this.editor.model,r=n.schema,s=n.document.selection.getSelectedElement();s&&r.isObject(s)&&(t.preventDefault(),e.stop())}_handleDelete(e){if(this.editor.isReadOnly)return;const n=this.editor.model.document.selection;if(!n.isCollapsed)return;const r=this._getObjectElementNextToSelection(e);if(r)return this.editor.model.change(s=>{let o=n.anchor.parent;for(;o.isEmpty;){const l=o;o=l.parent,s.remove(l)}this._setSelectionOverElement(r)}),!0}_setSelectionOverElement(e){this.editor.model.change(t=>{t.setSelection(t.createRangeOn(e))})}_getObjectElementNextToSelection(e){const t=this.editor.model,n=t.schema,r=t.document.selection,s=t.createSelection(r);if(t.modifySelection(s,{direction:e?"forward":"backward"}),s.isEqual(r))return null;const o=e?s.focus.nodeBefore:s.focus.nodeAfter;return o&&n.isObject(o)?o:null}_clearPreviouslySelectedWidgets(e){for(const t of this._previouslySelected)e.removeClass(Ub,t);this._previouslySelected.clear()}}function z$(i){let e=i;for(;e;){if(e.is("editableElement")&&!e.is("rootElement"))return!0;if(Yt(e))return!1;e=e.parent}return!1}function W$(i,e){return e?Array.from(i.getAncestors()).includes(e):!1}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Gb extends fe{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[qo]}static get pluginName(){return"WidgetToolbarRepository"}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const t=e.plugins.get("BalloonToolbar");this.listenTo(t,"show",n=>{j$(e.editing.view.document.selection)&&n.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:t,items:n,getRelatedElement:r,balloonClassName:s="ck-toolbar-container"}){if(!n.length){Jt("widget-toolbar-no-items",{toolbarId:e});return}const o=this.editor,l=o.t,u=new na(o.locale);if(u.ariaLabel=t||l("Widget toolbar"),this._toolbarDefinitions.has(e))throw new B("widget-toolbar-duplicated",this,{toolbarId:e});const h={view:u,getRelatedElement:r,balloonClassName:s,itemsConfig:n,initialized:!1};o.ui.addToolbar(u,{isContextual:!0,beforeFocus:()=>{const f=r(o.editing.view.document.selection);f&&this._showToolbar(h,f)},afterBlur:()=>{this._hideToolbar(h)}}),this._toolbarDefinitions.set(e,h)}_updateToolbarsVisibility(){let e=0,t=null,n=null;for(const r of this._toolbarDefinitions.values()){const s=r.getRelatedElement(this.editor.editing.view.document.selection);if(!this.isEnabled||!s)this._isToolbarInBalloon(r)&&this._hideToolbar(r);else if(!this.editor.ui.focusTracker.isFocused)this._isToolbarVisible(r)&&this._hideToolbar(r);else{const o=s.getAncestors().length;o>e&&(e=o,t=s,n=r)}}n&&this._showToolbar(n,t)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,t){this._isToolbarVisible(e)?Yb(this.editor,t):this._isToolbarInBalloon(e)||(e.initialized||(e.initialized=!0,e.view.fillFromConfig(e.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:e.view,position:qC(this.editor,t),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const n of this._toolbarDefinitions.values())if(this._isToolbarVisible(n)){const r=n.getRelatedElement(this.editor.editing.view.document.selection);Yb(this.editor,r)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function Yb(i,e){const t=i.plugins.get("ContextualBalloon"),n=qC(i,e);t.updatePosition(n)}function qC(i,e){const t=i.editing.view,n=pn.defaultPositions;return{target:t.domConverter.mapViewToDom(e),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast,n.viewportStickyNorth]}}function j$(i){const e=i.getSelectedElement();return!!(e&&Yt(e))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class U$ extends Dt(){constructor(e){super(),this.set("activeHandlePosition",null),this.set("proposedWidthPercents",null),this.set("proposedWidth",null),this.set("proposedHeight",null),this.set("proposedHandleHostWidth",null),this.set("proposedHandleHostHeight",null),this._options=e,this._referenceCoordinates=null}get originalWidth(){return this._originalWidth}get originalHeight(){return this._originalHeight}get originalWidthPercents(){return this._originalWidthPercents}get aspectRatio(){return this._aspectRatio}begin(e,t,n){const r=new pt(t);this.activeHandlePosition=G$(e),this._referenceCoordinates=q$(t,Y$(this.activeHandlePosition)),this._originalWidth=r.width,this._originalHeight=r.height,this._aspectRatio=r.width/r.height;const s=n.style.width;s&&s.match(/^\d+(\.\d*)?%$/)?this._originalWidthPercents=parseFloat(s):this._originalWidthPercents=H$(n,r)}update(e){this.proposedWidth=e.width,this.proposedHeight=e.height,this.proposedWidthPercents=e.widthPercents,this.proposedHandleHostWidth=e.handleHostWidth,this.proposedHandleHostHeight=e.handleHostHeight}}function H$(i,e){const t=i.parentElement;let n=parseFloat(t.ownerDocument.defaultView.getComputedStyle(t).width);const r=5;let s=0,o=t;for(;isNaN(n);){if(o=o.parentElement,++s>r)return 0;n=parseFloat(t.ownerDocument.defaultView.getComputedStyle(o).width)}return e.width/n*100}function q$(i,e){const t=new pt(i),n=e.split("-"),r={x:n[1]=="right"?t.right:t.left,y:n[0]=="bottom"?t.bottom:t.top};return r.x+=i.ownerDocument.defaultView.scrollX,r.y+=i.ownerDocument.defaultView.scrollY,r}function K$(i){return`ck-widget__resizer__handle-${i}`}function G$(i){const e=["top-left","top-right","bottom-right","bottom-left"];for(const t of e)if(i.classList.contains(K$(t)))return t}function Y$(i){const e=i.split("-"),t={top:"bottom",bottom:"top",left:"right",right:"left"};return`${t[e[0]]}-${t[e[1]]}`}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class J$ extends Xe{constructor(){super();const e=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",e.to("_viewPosition",t=>t?`ck-orientation-${t}`:"")],style:{display:e.if("_isVisible","none",t=>!t)}},children:[{text:e.to("_label")}]})}_bindToState(e,t){this.bind("_isVisible").to(t,"proposedWidth",t,"proposedHeight",(n,r)=>n!==null&&r!==null),this.bind("_label").to(t,"proposedHandleHostWidth",t,"proposedHandleHostHeight",t,"proposedWidthPercents",(n,r,s)=>e.unit==="px"?`${n}×${r}`:`${s}%`),this.bind("_viewPosition").to(t,"activeHandlePosition",t,"proposedHandleHostWidth",t,"proposedHandleHostHeight",(n,r,s)=>r<50||s<50?"above-center":n)}_dismiss(){this.unbind(),this._isVisible=!1}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Jb extends Dt(){constructor(e){super(),this._viewResizerWrapper=null,this._options=e,this.set("isEnabled",!0),this.set("isSelected",!1),this.bind("isVisible").to(this,"isEnabled",this,"isSelected",(t,n)=>t&&n),this.decorate("begin"),this.decorate("cancel"),this.decorate("commit"),this.decorate("updateSize"),this.on("commit",t=>{!this.state.proposedWidth&&!this.state.proposedWidthPercents&&(this._cleanup(),t.stop())},{priority:"high"})}get state(){return this._state}show(){this._options.editor.editing.view.change(t=>{t.removeClass("ck-hidden",this._viewResizerWrapper)})}hide(){this._options.editor.editing.view.change(t=>{t.addClass("ck-hidden",this._viewResizerWrapper)})}attach(){const e=this,t=this._options.viewElement;this._options.editor.editing.view.change(r=>{const s=r.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},function(o){const l=this.toDomElement(o);return e._appendHandles(l),e._appendSizeUI(l),l});r.insert(r.createPositionAt(t,"end"),s),r.addClass("ck-widget_with-resizer",t),this._viewResizerWrapper=s,this.isVisible||this.hide()}),this.on("change:isVisible",()=>{this.isVisible?(this.show(),this.redraw()):this.hide()})}begin(e){this._state=new U$(this._options),this._sizeView._bindToState(this._options,this.state),this._initialViewWidth=this._options.viewElement.getStyle("width"),this.state.begin(e,this._getHandleHost(),this._getResizeHost())}updateSize(e){const t=this._proposeNewSize(e);this._options.editor.editing.view.change(h=>{const f=this._options.unit||"%",m=(f==="%"?t.widthPercents:t.width)+f;h.setStyle("width",m,this._options.viewElement)});const r=this._getHandleHost(),s=new pt(r),o=Math.round(s.width),l=Math.round(s.height),u=new pt(r);t.width=Math.round(u.width),t.height=Math.round(u.height),this.redraw(s),this.state.update({...t,handleHostWidth:o,handleHostHeight:l})}commit(){const e=this._options.unit||"%",t=(e==="%"?this.state.proposedWidthPercents:this.state.proposedWidth)+e;this._options.editor.editing.view.change(()=>{this._cleanup(),this._options.onCommit(t)})}cancel(){this._cleanup()}destroy(){this.cancel()}redraw(e){const t=this._domResizerWrapper;if(!Q$(t))return;const n=t.parentElement,r=this._getHandleHost(),s=this._viewResizerWrapper,o=[s.getStyle("width"),s.getStyle("height"),s.getStyle("left"),s.getStyle("top")];let l;if(n.isSameNode(r)){const u=e||new pt(r);l=[u.width+"px",u.height+"px",void 0,void 0]}else l=[r.offsetWidth+"px",r.offsetHeight+"px",r.offsetLeft+"px",r.offsetTop+"px"];Rn(o,l)!=="same"&&this._options.editor.editing.view.change(u=>{u.setStyle({width:l[0],height:l[1],left:l[2],top:l[3]},s)})}containsHandle(e){return this._domResizerWrapper.contains(e)}static isResizeHandle(e){return e.classList.contains("ck-widget__resizer__handle")}_cleanup(){this._sizeView._dismiss(),this._options.editor.editing.view.change(t=>{t.setStyle("width",this._initialViewWidth,this._options.viewElement)})}_proposeNewSize(e){const t=this.state,n=Z$(e),r=this._options.isCentered?this._options.isCentered(this):!0,s={x:t._referenceCoordinates.x-(n.x+t.originalWidth),y:n.y-t.originalHeight-t._referenceCoordinates.y};r&&t.activeHandlePosition.endsWith("-right")&&(s.x=n.x-(t._referenceCoordinates.x+t.originalWidth)),r&&(s.x*=2);let o=Math.abs(t.originalWidth+s.x),l=Math.abs(t.originalHeight+s.y);return(o/t.aspectRatio>l?"width":"height")=="width"?l=o/t.aspectRatio:o=l*t.aspectRatio,{width:Math.round(o),height:Math.round(l),widthPercents:Math.min(Math.round(t.originalWidthPercents/t.originalWidth*o*100)/100,100)}}_getResizeHost(){const e=this._domResizerWrapper.parentElement;return this._options.getResizeHost(e)}_getHandleHost(){const e=this._domResizerWrapper.parentElement;return this._options.getHandleHost(e)}get _domResizerWrapper(){return this._options.editor.editing.view.domConverter.mapViewToDom(this._viewResizerWrapper)}_appendHandles(e){const t=["top-left","top-right","bottom-right","bottom-left"];for(const n of t)e.appendChild(new Li({tag:"div",attributes:{class:`ck-widget__resizer__handle ${X$(n)}`}}).render())}_appendSizeUI(e){this._sizeView=new J$,this._sizeView.render(),e.appendChild(this._sizeView.element)}}function X$(i){return`ck-widget__resizer__handle-${i}`}function Z$(i){return{x:i.pageX,y:i.pageY}}function Q$(i){return i&&i.ownerDocument&&i.ownerDocument.contains(i)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Im extends fe{constructor(){super(...arguments),this._resizers=new Map}static get pluginName(){return"WidgetResize"}init(){const e=this.editor.editing,t=Ke.window.document;this.set("selectedResizer",null),this.set("_activeResizer",null),e.view.addObserver(uh),this._observer=new(as()),this.listenTo(e.view.document,"mousedown",this._mouseDownListener.bind(this),{priority:"high"}),this._observer.listenTo(t,"mousemove",this._mouseMoveListener.bind(this)),this._observer.listenTo(t,"mouseup",this._mouseUpListener.bind(this)),this._redrawSelectedResizerThrottled=ep(()=>this.redrawSelectedResizer(),200),this.editor.ui.on("update",this._redrawSelectedResizerThrottled),this.editor.model.document.on("change",()=>{for(const[r,s]of this._resizers)r.isAttached()||(this._resizers.delete(r),s.destroy())},{priority:"lowest"}),this._observer.listenTo(Ke.window,"resize",this._redrawSelectedResizerThrottled);const n=this.editor.editing.view.document.selection;n.on("change",()=>{const r=n.getSelectedElement(),s=this.getResizerByViewElement(r)||null;s?this.select(s):this.deselect()})}redrawSelectedResizer(){this.selectedResizer&&this.selectedResizer.isVisible&&this.selectedResizer.redraw()}destroy(){super.destroy(),this._observer.stopListening();for(const e of this._resizers.values())e.destroy();this._redrawSelectedResizerThrottled.cancel()}select(e){this.deselect(),this.selectedResizer=e,this.selectedResizer.isSelected=!0}deselect(){this.selectedResizer&&(this.selectedResizer.isSelected=!1),this.selectedResizer=null}attachTo(e){const t=new Jb(e),n=this.editor.plugins;if(t.attach(),n.has("WidgetToolbarRepository")){const o=n.get("WidgetToolbarRepository");t.on("begin",()=>{o.forceDisabled("resize")},{priority:"lowest"}),t.on("cancel",()=>{o.clearForceDisabled("resize")},{priority:"highest"}),t.on("commit",()=>{o.clearForceDisabled("resize")},{priority:"highest"})}this._resizers.set(e.viewElement,t);const s=this.editor.editing.view.document.selection.getSelectedElement();return this.getResizerByViewElement(s)==t&&this.select(t),t}getResizerByViewElement(e){return this._resizers.get(e)}_getResizerByHandle(e){for(const t of this._resizers.values())if(t.containsHandle(e))return t}_mouseDownListener(e,t){const n=t.domTarget;Jb.isResizeHandle(n)&&(this._activeResizer=this._getResizerByHandle(n)||null,this._activeResizer&&(this._activeResizer.begin(n),e.stop(),t.preventDefault()))}_mouseMoveListener(e,t){this._activeResizer&&this._activeResizer.updateSize(t)}_mouseUpListener(){this._activeResizer&&(this._activeResizer.commit(),this._activeResizer=null)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ez extends fe{static get pluginName(){return"DragDrop"}static get requires(){return[rs,xp]}init(){const e=this.editor,t=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,this._updateDropMarkerThrottled=ep(n=>this._updateDropMarker(n),40),this._removeDropMarkerDelayed=Qb(()=>this._removeDropMarker(),40),this._clearDraggableAttributesDelayed=Qb(()=>this._clearDraggableAttributes(),40),t.addObserver(Sp),t.addObserver(uh),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDropMarker(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(n,r,s)=>{s?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(n,r,s)=>{s||this._finalizeDragging(!1)}),qe.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._updateDropMarkerThrottled.cancel(),this._removeDropMarkerDelayed.cancel(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,t=e.model,n=t.document,r=e.editing.view,s=r.document;this.listenTo(s,"dragstart",(o,l)=>{const u=n.selection;if(l.target&&l.target.is("editableElement")){l.preventDefault();return}const h=l.target?e0(l.target):null;if(h){const v=e.editing.mapper.toModelElement(h);this._draggedRange=ur.fromRange(t.createRangeOn(v)),e.plugins.has("WidgetToolbarRepository")&&e.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop")}else if(!s.selection.isCollapsed){const v=s.selection.getSelectedElement();(!v||!Yt(v))&&(this._draggedRange=ur.fromRange(u.getFirstRange()))}if(!this._draggedRange){l.preventDefault();return}this._draggingUid=Rr(),l.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",l.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const f=t.createSelection(this._draggedRange.toRange()),m=e.data.toView(t.getSelectedContent(f));s.fire("clipboardOutput",{dataTransfer:l.dataTransfer,content:m,method:"dragstart"}),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(s,"dragend",(o,l)=>{this._finalizeDragging(!l.dataTransfer.isCanceled&&l.dataTransfer.dropEffect=="move")},{priority:"low"}),this.listenTo(s,"dragenter",()=>{this.isEnabled&&r.focus()}),this.listenTo(s,"dragleave",()=>{this._removeDropMarkerDelayed()}),this.listenTo(s,"dragging",(o,l)=>{if(!this.isEnabled){l.dataTransfer.dropEffect="none";return}this._removeDropMarkerDelayed.cancel();const u=Xb(e,l.targetRanges,l.target);this._draggedRange||(l.dataTransfer.dropEffect="copy"),qe.isGecko||(l.dataTransfer.effectAllowed=="copy"?l.dataTransfer.dropEffect="copy":["all","copyMove"].includes(l.dataTransfer.effectAllowed)&&(l.dataTransfer.dropEffect="move"));/* istanbul ignore else -- @preserve */u&&this._updateDropMarkerThrottled(u)},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,n=e.editing.view.document;this.listenTo(n,"clipboardInput",(r,s)=>{if(s.method!="drop")return;const o=Xb(e,s.targetRanges,s.target);this._removeDropMarker();/* istanbul ignore if -- @preserve */if(!o){this._finalizeDragging(!1),r.stop();return}if(this._draggedRange&&this._draggingUid!=s.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),Zb(s.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(o,!0)){this._finalizeDragging(!1),r.stop();return}s.targetRanges=[e.editing.mapper.toViewRange(o)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(rs);e.on("contentInsertion",(t,n)=>{if(!this.isEnabled||n.method!=="drop")return;const r=n.targetRanges.map(s=>this.editor.editing.mapper.toModelRange(s));this.editor.model.change(s=>s.setSelection(r))},{priority:"high"}),e.on("contentInsertion",(t,n)=>{if(!this.isEnabled||n.method!=="drop")return;const r=Zb(n.dataTransfer)=="move",s=!n.resultRange||!n.resultRange.isCollapsed;this._finalizeDragging(s&&r)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,t=e.editing.view,n=t.document;this.listenTo(n,"mousedown",(r,s)=>{if(qe.isAndroid||!s)return;this._clearDraggableAttributesDelayed.cancel();let o=e0(s.target);if(qe.isBlink&&!e.isReadOnly&&!o&&!n.selection.isCollapsed){const l=n.selection.getSelectedElement();(!l||!Yt(l))&&(o=n.selection.editableElement)}o&&(t.change(l=>{l.setAttribute("draggable","true",o)}),this._draggableElement=e.editing.mapper.toModelElement(o))}),this.listenTo(n,"mouseup",()=>{qe.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(t=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&t.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_setupDropMarker(){const e=this.editor;e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(t,{writer:n})=>{if(e.model.schema.checkChild(t.markerRange.start,"$text"))return n.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(s){const o=this.toDomElement(s);return o.append("⁠",s.createElement("span"),"⁠"),o})}})}_updateDropMarker(e){const t=this.editor,n=t.model.markers;t.model.change(r=>{n.has("drop-target")?n.get("drop-target").getRange().isEqual(e)||r.updateMarker("drop-target",{range:e}):r.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_removeDropMarker(){const e=this.editor.model;this._removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),e.markers.has("drop-target")&&e.change(t=>{t.removeMarker("drop-target")})}_finalizeDragging(e){const t=this.editor,n=t.model;this._removeDropMarker(),this._clearDraggableAttributes(),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._draggedRange&&(e&&this.isEnabled&&n.deleteContent(n.createSelection(this._draggedRange),{doNotAutoparagraph:!0}),this._draggedRange.detach(),this._draggedRange=null)}}function Xb(i,e,t){const n=i.model,r=i.editing.mapper;let s=null;const o=e?e[0].start:null;if(t.is("uiElement")&&(t=t.parent),s=tz(i,t),s)return s;const l=sz(i,t),u=o?r.toModelPosition(o):null;return u?(s=iz(i,u,l),s||(s=n.schema.getNearestSelectionRange(u,qe.isGecko?"forward":"backward"),s)?s:rz(i,u.parent)):nz(i,l)}function tz(i,e){const t=i.model,n=i.editing.mapper;if(Yt(e))return t.createRangeOn(n.toModelElement(e));if(!e.is("editableElement")){const r=e.findAncestor(s=>Yt(s)||s.is("editableElement"));if(Yt(r))return t.createRangeOn(n.toModelElement(r))}return null}function nz(i,e){const t=i.model,n=t.schema,r=t.createPositionAt(e,0);return n.getNearestSelectionRange(r,"forward")}function iz(i,e,t){const n=i.model;if(!n.schema.checkChild(t,"$block"))return null;const r=n.createPositionAt(t,0),s=e.path.slice(0,r.path.length),l=n.createPositionFromPath(e.root,s).nodeAfter;return l&&n.schema.isObject(l)?n.createRangeOn(l):null}function rz(i,e){const t=i.model;let n=e;for(;n;){if(t.schema.isObject(n))return t.createRangeOn(n);n=n.parent}/* istanbul ignore next -- @preserve */return null}function sz(i,e){const t=i.editing.mapper,n=i.editing.view,r=t.toModelElement(e);if(r)return r;const s=n.createPositionBefore(e),o=t.findMappedViewAncestor(s);return t.toModelElement(o)}function Zb(i){return qe.isGecko?i.dropEffect:["all","copyMove"].includes(i.effectAllowed)?"move":"copy"}function Qb(i,e){let t;function n(...r){n.cancel(),t=setTimeout(()=>i(...r),e)}return n.cancel=()=>{clearTimeout(t)},n}function e0(i){if(i.is("editableElement"))return null;if(i.hasClass("ck-widget__selection-handle"))return i.findAncestor(Yt);if(Yt(i))return i;const e=i.findAncestor(t=>Yt(t)||t.is("editableElement"));return Yt(e)?e:null}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class oz extends fe{static get pluginName(){return"PastePlainText"}static get requires(){return[rs]}init(){const e=this.editor,t=e.model,n=e.editing.view,r=n.document,s=t.document.selection;let o=!1;n.addObserver(Sp),this.listenTo(r,"keydown",(l,u)=>{o=u.shiftKey}),e.plugins.get(rs).on("contentInsertion",(l,u)=>{!o&&!az(u.content,t.schema)||t.change(h=>{const f=Array.from(s.getAttributes()).filter(([v])=>t.schema.getAttributeProperties(v).isFormatting);s.isCollapsed||t.deleteContent(s,{doNotAutoparagraph:!0}),f.push(...s.getAttributes());const m=h.createRangeIn(u.content);for(const v of m.getItems())v.is("$textProxy")&&h.setAttributes(f,v)})})}}function az(i,e){if(i.childCount>1)return!1;const t=i.getChild(0);return e.isObject(t)?!1:Array.from(t.getAttributeKeys()).length==0}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class KC extends fe{static get pluginName(){return"Clipboard"}static get requires(){return[rs,ez,oz]}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class lz extends Pt{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,t=e.document.selection;let n=e.schema.getLimitElement(t);if(t.containsEntireContent(n)||!t0(e.schema,n))do if(n=n.parent,!n)return;while(!t0(e.schema,n));e.change(r=>{r.setSelection(n,"in")})}}function t0(i,e){return i.isLimit(e)&&(i.checkChild(e,"$text")||i.checkChild(e,"paragraph"))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const cz=np("Ctrl+A");class uz extends fe{static get pluginName(){return"SelectAllEditing"}init(){const e=this.editor,n=e.editing.view.document;e.commands.add("selectAll",new lz(e)),this.listenTo(n,"keydown",(r,s)=>{zo(s)===cz&&(e.execute("selectAll"),s.preventDefault())})}}const dz='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class hz extends fe{static get pluginName(){return"SelectAllUI"}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",t=>{const n=e.commands.get("selectAll"),r=new At(t),s=t.t;return r.set({label:s("Select all"),icon:dz,keystroke:"Ctrl+A",tooltip:!0}),r.bind("isEnabled").to(n,"isEnabled"),this.listenTo(r,"execute",()=>{e.execute("selectAll"),e.editing.view.focus()}),r})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class fz extends fe{static get requires(){return[uz,hz]}static get pluginName(){return"SelectAll"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class GC extends Pt{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this.listenTo(e.data,"set",(t,n)=>{n[1]={...n[1]};const r=n[1];r.batchType||(r.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(t,n)=>{n[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const t=this.editor.model.document.selection,n={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:n}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,t,n){const r=this.editor.model,s=r.document,o=[],l=e.map(h=>h.getTransformedByOperations(n)),u=l.flat();for(const h of l){const f=h.filter(m=>m.root!=s.graveyard).filter(m=>!gz(m,u));f.length&&(mz(f),o.push(f[0]))}o.length&&r.change(h=>{h.setSelection(o,{backward:t})})}_undo(e,t){const n=this.editor.model,r=n.document;this._createdBatches.add(t);const s=e.operations.slice().filter(o=>o.isDocumentOperation);s.reverse();for(const o of s){const l=o.baseVersion+1,u=Array.from(r.history.getOperations(l)),f=P8([o.getReversed()],u,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(const m of f)t.addOperation(m),n.applyOperation(m),r.history.setOperationAsUndone(o,m)}}}function mz(i){i.sort((e,t)=>e.start.isBefore(t.start)?-1:1);for(let e=1;e<i.length;e++){const n=i[e-1].getJoined(i[e],!0);n&&(e--,i.splice(e,2,n))}}function gz(i,e){return e.some(t=>t!==i&&t.containsRange(i,!0))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class pz extends GC{execute(e=null){const t=e?this._stack.findIndex(s=>s.batch==e):this._stack.length-1,n=this._stack.splice(t,1)[0],r=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(r,()=>{this._undo(n.batch,r);const s=this.editor.model.document.history.getOperations(n.batch.baseVersion);this._restoreSelection(n.selection.ranges,n.selection.isBackward,s),this.fire("revert",n.batch,r)}),this.refresh()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class _z extends GC{execute(){const e=this._stack.pop(),t=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(t,()=>{const r=e.batch.operations[e.batch.operations.length-1].baseVersion+1,s=this.editor.model.document.history.getOperations(r);this._restoreSelection(e.selection.ranges,e.selection.isBackward,s),this._undo(e.batch,t)}),this.refresh()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class vz extends fe{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const e=this.editor;this._undoCommand=new pz(e),this._redoCommand=new _z(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(t,n)=>{const r=n[0];if(!r.isDocumentOperation)return;const s=r.batch,o=this._redoCommand.createdBatches.has(s),l=this._undoCommand.createdBatches.has(s);this._batchRegistry.has(s)||(this._batchRegistry.add(s),s.isUndoable&&(o?this._undoCommand.addBatch(s):l||(this._undoCommand.addBatch(s),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(t,n,r)=>{this._redoCommand.addBatch(r)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo")}}const n0='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',i0='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class wz extends fe{static get pluginName(){return"UndoUI"}init(){const e=this.editor,t=e.locale,n=e.t,r=t.uiLanguageDirection=="ltr"?n0:i0,s=t.uiLanguageDirection=="ltr"?i0:n0;this._addButton("undo",n("Undo"),"CTRL+Z",r),this._addButton("redo",n("Redo"),"CTRL+Y",s)}_addButton(e,t,n,r){const s=this.editor;s.ui.componentFactory.add(e,o=>{const l=s.commands.get(e),u=new At(o);return u.set({label:t,icon:r,keystroke:n,tooltip:!0}),u.bind("isEnabled").to(l,"isEnabled"),this.listenTo(u,"execute",()=>{s.execute(e),s.editing.view.focus()}),u})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class YC extends fe{static get requires(){return[vz,wz]}static get pluginName(){return"Undo"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class bz extends fe{static get requires(){return[KC,Tp,fz,jC,s$,YC]}static get pluginName(){return"Essentials"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const kp=["left","right","center","justify"];function JC(i){return kp.includes(i)}function XC(i,e){return e.contentLanguageDirection=="rtl"?i==="right":i==="left"}function ZC(i){const e=i.map(n=>{let r;return typeof n=="string"?r={name:n}:r=n,r}).filter(n=>{const r=kp.includes(n.name);return r||Jt("alignment-config-name-not-recognized",{option:n}),r}),t=e.filter(n=>!!n.className).length;if(t&&t<e.length)throw new B("alignment-config-classnames-are-missing",{configuredOptions:i});return e.forEach((n,r,s)=>{const o=s.slice(r+1);if(o.some(u=>u.name==n.name))throw new B("alignment-config-name-already-defined",{option:n,configuredOptions:i});if(n.className&&o.some(h=>h.className==n.className))throw new B("alignment-config-classname-already-defined",{option:n,configuredOptions:i})}),e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Ap="alignment";class yz extends Pt{refresh(){const t=this.editor.locale,n=Mn(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=!!n&&this._canBeAligned(n),this.isEnabled&&n.hasAttribute("alignment")?this.value=n.getAttribute("alignment"):this.value=t.contentLanguageDirection==="rtl"?"right":"left"}execute(e={}){const t=this.editor,n=t.locale,r=t.model,s=r.document,o=e.value;r.change(l=>{const u=Array.from(s.selection.getSelectedBlocks()).filter(m=>this._canBeAligned(m)),h=u[0].getAttribute("alignment");XC(o,n)||h===o||!o?Ez(u,l):Cz(u,l,o)})}_canBeAligned(e){return this.editor.model.schema.checkAttribute(e,Ap)}}function Ez(i,e){for(const t of i)e.removeAttribute(Ap,t)}function Cz(i,e,t){for(const n of i)e.setAttribute(Ap,t,n)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Sz extends fe{static get pluginName(){return"AlignmentEditing"}constructor(e){super(e),e.config.define("alignment",{options:kp.map(t=>({name:t}))})}init(){const e=this.editor,t=e.locale,n=e.model.schema,s=ZC(e.config.get("alignment.options")).filter(h=>JC(h.name)&&!XC(h.name,t)),o=s.some(h=>!!h.className);n.extend("$block",{allowAttributes:"alignment"}),e.model.schema.setAttributeProperties("alignment",{isFormatting:!0}),o?e.conversion.attributeToAttribute(Az(s)):e.conversion.for("downcast").attributeToAttribute(Tz(s));const l=xz(s);for(const h of l)e.conversion.for("upcast").attributeToAttribute(h);const u=kz(s);for(const h of u)e.conversion.for("upcast").attributeToAttribute(h);e.commands.add("alignment",new yz(e))}}function Tz(i){const e={};for(const{name:n}of i)e[n]={key:"style",value:{"text-align":n}};return{model:{key:"alignment",values:i.map(n=>n.name)},view:e}}function xz(i){const e=[];for(const{name:t}of i)e.push({view:{key:"style",value:{"text-align":t}},model:{key:"alignment",value:t}});return e}function kz(i){const e=[];for(const{name:t}of i)e.push({view:{key:"align",value:t},model:{key:"alignment",value:t}});return e}function Az(i){const e={};for(const n of i)e[n.name]={key:"class",value:n.className};return{model:{key:"alignment",values:i.map(n=>n.name)},view:e}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Ku=new Map([["left",Mt.alignLeft],["right",Mt.alignRight],["center",Mt.alignCenter],["justify",Mt.alignJustify]]);class Pz extends fe{get localizedOptionTitles(){const e=this.editor.t;return{left:e("Align left"),right:e("Align right"),center:e("Align center"),justify:e("Justify")}}static get pluginName(){return"AlignmentUI"}init(){const e=this.editor,t=e.ui.componentFactory,n=e.t,r=ZC(e.config.get("alignment.options"));r.map(s=>s.name).filter(JC).forEach(s=>this._addButton(s)),t.add("alignment",s=>{const o=Gs(s);gh(o,()=>r.map(h=>t.create(`alignment:${h.name}`)),{enableActiveItemFocusOnDropdownOpen:!0,isVertical:!0,ariaLabel:n("Text alignment toolbar")}),o.buttonView.set({label:n("Text alignment"),tooltip:!0}),o.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});const l=s.contentLanguageDirection==="rtl"?Ku.get("right"):Ku.get("left"),u=e.commands.get("alignment");return o.buttonView.bind("icon").to(u,"value",h=>Ku.get(h)||l),o.bind("isEnabled").to(u,"isEnabled"),this.listenTo(o,"execute",()=>{e.editing.view.focus()}),o})}_addButton(e){const t=this.editor;t.ui.componentFactory.add(`alignment:${e}`,n=>{const r=t.commands.get("alignment"),s=new At(n);return s.set({label:this.localizedOptionTitles[e],icon:Ku.get(e),tooltip:!0,isToggleable:!0}),s.bind("isEnabled").to(r),s.bind("isOn").to(r,"value",o=>o===e),this.listenTo(s,"execute",()=>{t.execute("alignment",{value:e}),t.editing.view.focus()}),s})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Iz extends fe{static get requires(){return[Sz,Pz]}static get pluginName(){return"Alignment"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Pp(i){const e=i.t,t=i.config.get("codeBlock.languages");for(const n of t)n.label==="Plain text"&&(n.label=e("Plain text")),n.class===void 0&&(n.class=`language-${n.language}`);return t}function bg(i,e,t){const n={};for(const r of i)if(e==="class"){const s=r[e].split(" ").shift();n[s]=r[t]}else n[r[e]]=r[t];return n}function Ip(i){return i.data.match(/^(\s*)/)[0]}function Rz(i,e){const t=i.createDocumentFragment(),n=e.split(`
`),r=n.reduce((s,o,l)=>(s.push(o),l<n.length-1&&s.push(i.createElement("br")),s),[]);return i.appendChild(r,t),t}function yg(i){const e=i.document.selection,t=[];if(e.isCollapsed)return[e.anchor];const n=e.getFirstRange().getWalker({ignoreElementEnd:!0,direction:"backward"});for(const{item:r}of n){if(!r.is("$textProxy"))continue;const{parent:s,startOffset:o}=r.textNode;if(!s.is("element","codeBlock"))continue;const l=Ip(r.textNode),u=i.createPositionAt(s,o+l.length);t.push(u)}return t}function QC(i){const e=Mn(i.getSelectedBlocks());return!!e&&e.is("element","codeBlock")}function r0(i,e){return e.is("rootElement")||i.isLimit(e)?!1:i.checkChild(e.parent,"codeBlock")}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Oz extends Pt{constructor(e){super(e),this._lastLanguage=null}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor,n=t.model,r=n.document.selection,o=Pp(t)[0],l=Array.from(r.getSelectedBlocks()),u=e.forceValue==null?!this.value:e.forceValue,h=Mz(e,this._lastLanguage,o.language);n.change(f=>{u?this._applyCodeBlock(f,l,h):this._removeCodeBlock(f,l)})}_getValue(){const e=this.editor.model.document.selection,t=Mn(e.getSelectedBlocks());return!!(t&&t.is("element","codeBlock"))?t.getAttribute("language"):!1}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,n=Mn(e.getSelectedBlocks());return n?r0(t,n):!1}_applyCodeBlock(e,t,n){this._lastLanguage=n;const r=this.editor.model.schema,s=t.filter(o=>r0(r,o));for(const o of s)e.rename(o,"codeBlock"),e.setAttribute("language",n,o),r.removeDisallowedAttributes([o],e),Array.from(o.getChildren()).filter(l=>!r.checkChild(o,l)).forEach(l=>e.remove(l));s.reverse().forEach((o,l)=>{const u=s[l+1];o.previousSibling===u&&(e.appendElement("softBreak",u),e.merge(e.createPositionBefore(o)))})}_removeCodeBlock(e,t){const n=t.filter(r=>r.is("element","codeBlock"));for(const r of n){const s=e.createRangeOn(r);for(const o of Array.from(s.getItems()).reverse())if(o.is("element","softBreak")&&o.parent.is("element","codeBlock")){const{position:l}=e.split(e.createPositionBefore(o)),u=l.nodeAfter;e.rename(u,"paragraph"),e.removeAttribute("language",u),e.remove(o)}e.rename(r,"paragraph"),e.removeAttribute("language",r)}}}function Mz(i,e,t){return i.language?i.language:i.usePreviousLanguageChoice&&e?e:t}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Nz extends Pt{constructor(e){super(e),this._indentSequence=e.config.get("codeBlock.indentSequence")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model;t.change(n=>{const r=yg(t);for(const s of r){const o=n.createText(this._indentSequence);t.insertContent(o,s)}})}_checkEnabled(){return this._indentSequence?QC(this.editor.model.document.selection):!1}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Dz extends Pt{constructor(e){super(e),this._indentSequence=e.config.get("codeBlock.indentSequence")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model;t.change(()=>{const n=yg(t);for(const r of n){const s=s0(t,r,this._indentSequence);s&&t.deleteContent(t.createSelection(s))}})}_checkEnabled(){if(!this._indentSequence)return!1;const e=this.editor.model;return QC(e.document.selection)?yg(e).some(t=>s0(e,t,this._indentSequence)):!1}}function s0(i,e,t){const n=Bz(e);if(!n)return null;const r=Ip(n),s=r.lastIndexOf(t);if(s+t.length!==r.length||s===-1)return null;const{parent:o,startOffset:l}=n;return i.createRange(i.createPositionAt(o,l+s),i.createPositionAt(o,l+s+t.length))}function Bz(i){let e=i.parent.getChild(i.index);return(!e||e.is("element","softBreak"))&&(e=i.nodeBefore),!e||e.is("element","softBreak")?null:e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function o0(i,e,t=!1){const n=bg(e,"language","class"),r=bg(e,"language","label");return(s,o,l)=>{const{writer:u,mapper:h,consumable:f}=l;if(!f.consume(o.item,"insert"))return;const m=o.item.getAttribute("language"),v=h.toViewPosition(i.createPositionBefore(o.item)),C={};t&&(C["data-language"]=r[m],C.spellcheck="false");const k=n[m]?{class:n[m]}:void 0,S=u.createContainerElement("code",k),x=u.createContainerElement("pre",C,S);u.insert(v,x),h.bindElements(o.item,S)}}function Vz(i){return(e,t,n)=>{if(t.item.parent.name!=="codeBlock")return;const{writer:r,mapper:s,consumable:o}=n;if(!o.consume(t.item,"insert"))return;const l=s.toViewPosition(i.createPositionBefore(t.item));r.insert(l,r.createText(`
`))}}function Lz(i,e){const t=bg(e,"class","language"),n=e[0].language;return(r,s,o)=>{const l=s.viewItem,u=l.parent;if(!u||!u.is("element","pre")||s.modelCursor.findAncestor("codeBlock"))return;const{consumable:h,writer:f}=o;if(!h.test(l,{name:!0}))return;const m=f.createElement("codeBlock"),v=[...l.getClassNames()];v.length||v.push("");for(const C of v){const k=t[C];if(k){f.setAttribute("language",k,m);break}}m.hasAttribute("language")||f.setAttribute("language",n,m),o.convertChildren(l,m),o.safeInsert(m,s.modelCursor)&&(h.consume(l,{name:!0}),o.updateConversionResult(m,s))}}function Fz(){return(i,e,{consumable:t,writer:n})=>{let r=e.modelCursor;if(!t.test(e.viewItem)||!r.findAncestor("codeBlock"))return;t.consume(e.viewItem);const o=e.viewItem.data.split(`
`).map(u=>n.createText(u)),l=o[o.length-1];for(const u of o)if(n.insert(u,r),r=r.getShiftedBy(u.offsetSize),u!==l){const h=n.createElement("softBreak");n.insert(h,r),r=n.createPositionAfter(h)}e.modelRange=n.createRange(e.modelCursor,r),e.modelCursor=r}}function $z(){return(i,e,{consumable:t})=>{const n=e.viewItem;if(n.findAncestor("pre"))return;const r=Array.from(n.getChildren()),s=r.find(o=>o.is("element","code"));if(s)for(const o of r)o===s||!o.is("$text")||t.consume(o,{name:!0})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const eS="paragraph";class zz extends fe{static get pluginName(){return"CodeBlockEditing"}static get requires(){return[jC]}constructor(e){super(e),e.config.define("codeBlock",{languages:[{language:"plaintext",label:"Plain text"},{language:"c",label:"C"},{language:"cs",label:"C#"},{language:"cpp",label:"C++"},{language:"css",label:"CSS"},{language:"diff",label:"Diff"},{language:"html",label:"HTML"},{language:"java",label:"Java"},{language:"javascript",label:"JavaScript"},{language:"php",label:"PHP"},{language:"python",label:"Python"},{language:"ruby",label:"Ruby"},{language:"typescript",label:"TypeScript"},{language:"xml",label:"XML"}],indentSequence:"	"})}init(){const e=this.editor,t=e.model.schema,n=e.model,r=e.editing.view,s=e.plugins.has("DocumentListEditing"),o=Pp(e);e.commands.add("codeBlock",new Oz(e)),e.commands.add("indentCodeBlock",new Nz(e)),e.commands.add("outdentCodeBlock",new Dz(e)),this.listenTo(r.document,"tab",(l,u)=>{const h=u.shiftKey?"outdentCodeBlock":"indentCodeBlock";e.commands.get(h).isEnabled&&(e.execute(h),u.stopPropagation(),u.preventDefault(),l.stop())},{context:"pre"}),t.register("codeBlock",{allowWhere:"$block",allowChildren:"$text",isBlock:!0,allowAttributes:["language"]}),t.addAttributeCheck((l,u)=>{const h=l.endsWith("codeBlock")&&u.startsWith("list")&&u!=="list";if(s&&h)return!0;if(l.endsWith("codeBlock $text"))return!1}),e.model.schema.addChildCheck((l,u)=>{if(l.endsWith("codeBlock")&&u.isObject)return!1}),e.editing.downcastDispatcher.on("insert:codeBlock",o0(n,o,!0)),e.data.downcastDispatcher.on("insert:codeBlock",o0(n,o)),e.data.downcastDispatcher.on("insert:softBreak",Vz(n),{priority:"high"}),e.data.upcastDispatcher.on("element:code",Lz(r,o)),e.data.upcastDispatcher.on("text",Fz()),e.data.upcastDispatcher.on("element:pre",$z(),{priority:"high"}),this.listenTo(e.editing.view.document,"clipboardInput",(l,u)=>{let h=n.createRange(n.document.selection.anchor);if(u.targetRanges&&(h=e.editing.mapper.toModelRange(u.targetRanges[0])),!h.start.parent.is("element","codeBlock"))return;const f=u.dataTransfer.getData("text/plain"),m=new mp(e.editing.view.document);u.content=Rz(m,f)}),this.listenTo(n,"getSelectedContent",(l,[u])=>{const h=u.anchor;u.isCollapsed||!h.parent.is("element","codeBlock")||!h.hasSameParentAs(u.focus)||n.change(f=>{const m=l.return;if(h.parent.is("element")&&(m.childCount>1||u.containsEntireContent(h.parent))){const C=f.createElement("codeBlock",h.parent.getAttributes());f.append(m,C);const k=f.createDocumentFragment();f.append(C,k),l.return=k;return}const v=m.getChild(0);t.checkAttribute(v,"code")&&f.setAttribute("code",!0,v)})})}afterInit(){const e=this.editor,t=e.commands,n=t.get("indent"),r=t.get("outdent");n&&n.registerChildCommand(t.get("indentCodeBlock"),{priority:"highest"}),r&&r.registerChildCommand(t.get("outdentCodeBlock")),this.listenTo(e.editing.view.document,"enter",(s,o)=>{e.model.document.selection.getLastPosition().parent.is("element","codeBlock")&&(!jz(e,o.isSoft)&&!Uz(e,o.isSoft)&&Wz(e),o.preventDefault(),s.stop())},{context:"pre"})}}function Wz(i){const t=i.model.document,n=t.selection.getLastPosition(),r=n.nodeBefore||n.textNode;let s;r&&r.is("$text")&&(s=Ip(r)),i.model.change(o=>{i.execute("shiftEnter"),s&&o.insertText(s,t.selection.anchor)})}function jz(i,e){const n=i.model.document,r=i.editing.view,s=n.selection.getLastPosition(),o=s.nodeAfter;return e||!n.selection.isCollapsed||!s.isAtStart||!As(o)?!1:(i.model.change(l=>{i.execute("enter");const u=n.selection.anchor.parent.previousSibling;l.rename(u,eS),l.setSelection(u,"in"),i.model.schema.removeDisallowedAttributes([u],l),l.remove(o)}),r.scrollToTheSelection(),!0)}function Uz(i,e){const t=i.model,n=t.document,r=i.editing.view,s=n.selection.getLastPosition(),o=s.nodeBefore;let l;if(e||!n.selection.isCollapsed||!s.isAtEnd||!o||!o.previousSibling)return!1;if(As(o)&&As(o.previousSibling))l=t.createRange(t.createPositionBefore(o.previousSibling),t.createPositionAfter(o));else if(Rm(o)&&As(o.previousSibling)&&As(o.previousSibling.previousSibling))l=t.createRange(t.createPositionBefore(o.previousSibling.previousSibling),t.createPositionAfter(o));else if(Rm(o)&&As(o.previousSibling)&&Rm(o.previousSibling.previousSibling)&&o.previousSibling.previousSibling&&As(o.previousSibling.previousSibling.previousSibling))l=t.createRange(t.createPositionBefore(o.previousSibling.previousSibling.previousSibling),t.createPositionAfter(o));else return!1;return i.model.change(u=>{u.remove(l),i.execute("enter");const h=n.selection.anchor.parent;u.rename(h,eS),i.model.schema.removeDisallowedAttributes([h],u)}),r.scrollToTheSelection(),!0}function Rm(i){return i&&i.is("$text")&&!i.data.match(/\S/)}function As(i){return i&&i.is("element","softBreak")}const Hz='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class qz extends fe{static get pluginName(){return"CodeBlockUI"}init(){const e=this.editor,t=e.t,n=e.ui.componentFactory,r=Pp(e);n.add("codeBlock",s=>{const o=e.commands.get("codeBlock"),l=Gs(s,fh),u=l.buttonView;return u.set({label:t("Insert code block"),tooltip:!0,icon:Hz,isToggleable:!0}),u.bind("isOn").to(o,"value",h=>!!h),u.on("execute",()=>{e.execute("codeBlock",{usePreviousLanguageChoice:!0}),e.editing.view.focus()}),l.on("execute",h=>{e.execute("codeBlock",{language:h.source._codeBlockLanguage,forceValue:!0}),e.editing.view.focus()}),l.class="ck-code-block-dropdown",l.bind("isEnabled").to(o),PC(l,()=>this._getLanguageListItemDefinitions(r)),l})}_getLanguageListItemDefinitions(e){const n=this.editor.commands.get("codeBlock"),r=new Br;for(const s of e){const o={type:"button",model:new MC({_codeBlockLanguage:s.language,label:s.label,withText:!0})};o.model.bind("isOn").to(n,"value",l=>l===o.model._codeBlockLanguage),r.add(o)}return r}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Kz extends fe{static get requires(){return[zz,qz]}static get pluginName(){return"CodeBlock"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ra extends Pt{constructor(e,t){super(e),this.attributeKey=t}refresh(){const e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(e={}){const t=this.editor.model,r=t.document.selection,s=e.forceValue===void 0?!this.value:e.forceValue;t.change(o=>{if(r.isCollapsed)s?o.setSelectionAttribute(this.attributeKey,!0):o.removeSelectionAttribute(this.attributeKey);else{const l=t.schema.getValidRanges(r.getRanges(),this.attributeKey);for(const u of l)s?o.setAttribute(this.attributeKey,s,u):o.removeAttribute(this.attributeKey,u)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,t=e.schema,n=e.document.selection;if(n.isCollapsed)return n.hasAttribute(this.attributeKey);for(const r of n.getRanges())for(const s of r.getItems())if(t.checkAttribute(s,this.attributeKey))return s.hasAttribute(this.attributeKey);return!1}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Ao="bold";class Gz extends fe{static get pluginName(){return"BoldEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:Ao}),e.model.schema.setAttributeProperties(Ao,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Ao,view:"strong",upcastAlso:["b",t=>{const n=t.getStyle("font-weight");return n&&(n=="bold"||Number(n)>=600)?{name:!0,styles:["font-weight"]}:null}]}),e.commands.add(Ao,new ra(e,Ao)),e.keystrokes.set("CTRL+B",Ao)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Om="bold";class Yz extends fe{static get pluginName(){return"BoldUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(Om,n=>{const r=e.commands.get(Om),s=new At(n);return s.set({label:t("Bold"),icon:Mt.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),s.bind("isOn","isEnabled").to(r,"value","isEnabled"),this.listenTo(s,"execute",()=>{e.execute(Om),e.editing.view.focus()}),s})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Jz extends fe{static get requires(){return[Gz,Yz]}static get pluginName(){return"Bold"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Po="italic";class Xz extends fe{static get pluginName(){return"ItalicEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:Po}),e.model.schema.setAttributeProperties(Po,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Po,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(Po,new ra(e,Po)),e.keystrokes.set("CTRL+I",Po)}}const Zz='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Mm="italic";class Qz extends fe{static get pluginName(){return"ItalicUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(Mm,n=>{const r=e.commands.get(Mm),s=new At(n);return s.set({label:t("Italic"),icon:Zz,keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),s.bind("isOn","isEnabled").to(r,"value","isEnabled"),this.listenTo(s,"execute",()=>{e.execute(Mm),e.editing.view.focus()}),s})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class eW extends fe{static get requires(){return[Xz,Qz]}static get pluginName(){return"Italic"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Za="strikethrough";class tW extends fe{static get pluginName(){return"StrikethroughEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:Za}),e.model.schema.setAttributeProperties(Za,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Za,view:"s",upcastAlso:["del","strike",{styles:{"text-decoration":"line-through"}}]}),e.commands.add(Za,new ra(e,Za)),e.keystrokes.set("CTRL+SHIFT+X","strikethrough")}}const nW='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 16.4c-.8-.4-1.5-.9-2.2-1.5a.6.6 0 0 1-.2-.5l.3-.6h1c1 1.2 2.1 1.7 3.7 1.7 1 0 1.8-.3 2.3-.6.6-.4.6-1.2.6-1.3.2-1.2-.9-2.1-.9-2.1h2.1c.3.7.4 1.2.4 1.7v.8l-.6 1.2c-.6.8-1.1 1-1.6 1.2a6 6 0 0 1-2.4.6c-1 0-1.8-.3-2.5-.6zM6.8 9 6 8.3c-.4-.5-.5-.8-.5-1.6 0-.7.1-1.3.5-1.8.4-.6 1-1 1.6-1.3a6.3 6.3 0 0 1 4.7 0 4 4 0 0 1 1.7 1l.3.7c0 .1.2.4-.2.7-.4.2-.9.1-1 0a3 3 0 0 0-1.2-1c-.4-.2-1-.3-2-.4-.7 0-1.4.2-2 .6-.8.6-1 .8-1 1.5 0 .8.5 1 1.2 1.5.6.4 1.1.7 1.9 1H6.8z"/><path d="M3 10.5V9h14v1.5z"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Nm="strikethrough";class iW extends fe{static get pluginName(){return"StrikethroughUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(Nm,n=>{const r=e.commands.get(Nm),s=new At(n);return s.set({label:t("Strikethrough"),icon:nW,keystroke:"CTRL+SHIFT+X",tooltip:!0,isToggleable:!0}),s.bind("isOn","isEnabled").to(r,"value","isEnabled"),this.listenTo(s,"execute",()=>{e.execute(Nm),e.editing.view.focus()}),s})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class rW extends fe{static get requires(){return[tW,iW]}static get pluginName(){return"Strikethrough"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Qa="underline";class sW extends fe{static get pluginName(){return"UnderlineEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:Qa}),e.model.schema.setAttributeProperties(Qa,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Qa,view:"u",upcastAlso:{styles:{"text-decoration":"underline"}}}),e.commands.add(Qa,new ra(e,Qa)),e.keystrokes.set("CTRL+U","underline")}}const oW='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 18v-1.5h14V18zm2.2-8V3.6c0-.4.4-.6.8-.6.3 0 .7.2.7.6v6.2c0 2 1.3 2.8 3.2 2.8 1.9 0 3.4-.9 3.4-2.9V3.6c0-.3.4-.5.8-.5.3 0 .7.2.7.5V10c0 2.7-2.2 4-4.9 4-2.6 0-4.7-1.2-4.7-4z"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Dm="underline";class aW extends fe{static get pluginName(){return"UnderlineUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(Dm,n=>{const r=e.commands.get(Dm),s=new At(n);return s.set({label:t("Underline"),icon:oW,keystroke:"CTRL+U",tooltip:!0,isToggleable:!0}),s.bind("isOn","isEnabled").to(r,"value","isEnabled"),this.listenTo(s,"execute",()=>{e.execute(Dm),e.editing.view.focus()}),s})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class lW extends fe{static get requires(){return[sW,aW]}static get pluginName(){return"Underline"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class cW extends Pt{refresh(){const n=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!n,this.isEnabled&&n.hasAttribute("alt")?this.value=n.getAttribute("alt"):this.value=!1}execute(e){const t=this.editor,n=t.plugins.get("ImageUtils"),r=t.model,s=n.getClosestSelectedImageElement(r.document.selection);r.change(o=>{o.setAttribute("alt",e.newValue,s)})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function uW(i){return i.createContainerElement("span",{class:"image-inline"},i.createEmptyElement("img"))}function a0(i){return i.createContainerElement("figure",{class:"image"},[i.createEmptyElement("img"),i.createSlot("children")])}function tS(i,e){const t=i.plugins.get("ImageUtils"),n=i.plugins.has("ImageInlineEditing")&&i.plugins.has("ImageBlockEditing");return s=>t.isInlineImageView(s)?n&&(s.getStyle("display")=="block"||s.findAncestor(t.isBlockImageView)?"imageBlock":"imageInline")!==e?null:r(s):null;function r(s){const o={name:!0};return s.hasAttribute("src")&&(o.attributes=["src"]),o}}function Rp(i,e){const t=Mn(e.getSelectedBlocks());return!t||i.isObject(t)||t.isEmpty&&t.name!="listItem"?"imageBlock":"imageInline"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Wi extends fe{static get pluginName(){return"ImageUtils"}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(e={},t=null,n=null){const r=this.editor,s=r.model,o=s.document.selection;n=nS(r,t||o,n),e={...Object.fromEntries(o.getAttributes()),...e};for(const l in e)s.schema.checkAttribute(n,l)||delete e[l];return s.change(l=>{const u=l.createElement(n,e);return s.insertObject(u,t,null,{setSelection:"on",findOptimalPosition:!t&&n!="imageInline"?"auto":void 0}),u.parent?u:null})}getClosestSelectedImageWidget(e){const t=e.getFirstPosition();if(!t)return null;const n=e.getSelectedElement();if(n&&this.isImageWidget(n))return n;let r=t.parent;for(;r;){if(r.is("element")&&this.isImageWidget(r))return r;r=r.parent}return null}getClosestSelectedImageElement(e){const t=e.getSelectedElement();return this.isImage(t)?t:e.getFirstPosition().findAncestor("imageBlock")}isImageAllowed(){const t=this.editor.model.document.selection;return dW(this.editor,t)&&hW(t)}toImageWidget(e,t,n){return t.setCustomProperty("image",!0,e),v$(e,t,{label:()=>{const o=this.findViewImgElement(e).getAttribute("alt");return o?`${o} ${n}`:n}})}isImageWidget(e){return!!e.getCustomProperty("image")&&Yt(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const t=this.editor.editing.view;for(const{item:n}of t.createRangeIn(e))if(this.isInlineImageView(n))return n}}function dW(i,e){if(nS(i,e,null)=="imageBlock"){const n=fW(e,i.model);if(i.model.schema.checkChild(n,"imageBlock"))return!0}else if(i.model.schema.checkChild(e.focus,"imageInline"))return!0;return!1}function hW(i){return[...i.focus.getAncestors()].every(e=>!e.is("element","imageBlock"))}function fW(i,e){const n=S$(i,e).start.parent;return n.isEmpty&&!n.is("element","$root")?n.parent:n}function nS(i,e,t){const n=i.model.schema,r=i.config.get("image.insert.type");return i.plugins.has("ImageBlockEditing")?i.plugins.has("ImageInlineEditing")?t||(r==="inline"?"imageInline":r==="block"?"imageBlock":e.is("selection")?Rp(n,e):n.checkChild(e,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class mW extends fe{static get requires(){return[Wi]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new cW(this.editor))}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class gW extends Xe{constructor(e){super(e);const t=this.locale.t;this.focusTracker=new fi,this.keystrokes=new cr,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(t("Save"),Mt.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(t("Cancel"),Mt.cancel,"ck-button-cancel","cancel"),this._focusables=new cs,this._focusCycler=new ta({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),wC({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(e,t,n,r){const s=new At(this.locale);return s.set({label:e,icon:t,tooltip:!0}),s.extendTemplate({attributes:{class:n}}),r&&s.delegate("execute").to(this,r),s}_createLabeledInputView(){const e=this.locale.t,t=new Cp(this.locale,OC);return t.label=e("Text alternative"),t}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function pW(i){const e=i.plugins.get("ContextualBalloon");if(i.plugins.get("ImageUtils").getClosestSelectedImageWidget(i.editing.view.document.selection)){const n=iS(i);e.updatePosition(n)}}function iS(i){const e=i.editing.view,t=pn.defaultPositions,n=i.plugins.get("ImageUtils");return{target:e.domConverter.mapViewToDom(n.getClosestSelectedImageWidget(e.document.selection)),positions:[t.northArrowSouth,t.northArrowSouthWest,t.northArrowSouthEast,t.southArrowNorth,t.southArrowNorthWest,t.southArrowNorthEast,t.viewportStickyNorth]}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class _W extends fe{static get requires(){return[qo]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const e=this.editor,t=e.t;e.ui.componentFactory.add("imageTextAlternative",n=>{const r=e.commands.get("imageTextAlternative"),s=new At(n);return s.set({label:t("Change image text alternative"),icon:Mt.lowVision,tooltip:!0}),s.bind("isEnabled").to(r,"isEnabled"),s.bind("isOn").to(r,"value",o=>!!o),this.listenTo(s,"execute",()=>{this._showForm()}),s})}_createForm(){const e=this.editor,n=e.editing.view.document,r=e.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(vC(gW))(e.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(s,o)=>{this._hideForm(!0),o()}),this.listenTo(e.ui,"update",()=>{r.getClosestSelectedImageWidget(n.selection)?this._isVisible&&pW(e):this._hideForm(!0)}),_p({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const e=this.editor,t=e.commands.get("imageTextAlternative"),n=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:iS(e)}),n.fieldView.value=n.fieldView.element.value=t.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class rS extends fe{static get requires(){return[mW,_W]}static get pluginName(){return"ImageTextAlternative"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function vW(i){const e=(t,n,r)=>{if(!r.consumable.test(n.viewItem,{name:!0,classes:"image"}))return;const s=i.findViewImgElement(n.viewItem);if(!s||!r.consumable.test(s,{name:!0}))return;r.consumable.consume(n.viewItem,{name:!0,classes:"image"});const o=r.convertItem(s,n.modelCursor),l=Mn(o.modelRange.getItems());if(!l){r.consumable.revert(n.viewItem,{name:!0,classes:"image"});return}r.convertChildren(n.viewItem,l),r.updateConversionResult(l,n)};return t=>{t.on("element:figure",e)}}function sS(i,e){const t=(n,r,s)=>{if(!s.consumable.consume(r.item,n.name))return;const o=s.writer,l=s.mapper.toViewElement(r.item),u=i.findViewImgElement(l);if(r.attributeNewValue===null){const h=r.attributeOldValue;h&&h.data&&(o.removeAttribute("srcset",u),o.removeAttribute("sizes",u),h.width&&o.removeAttribute("width",u))}else{const h=r.attributeNewValue;h&&h.data&&(o.setAttribute("srcset",h.data,u),o.setAttribute("sizes","100vw",u),h.width&&o.setAttribute("width",h.width,u))}};return n=>{n.on(`attribute:srcset:${e}`,t)}}function Od(i,e,t){const n=(r,s,o)=>{if(!o.consumable.consume(s.item,r.name))return;const l=o.writer,u=o.mapper.toViewElement(s.item),h=i.findViewImgElement(u);l.setAttribute(s.attributeKey,s.attributeNewValue||"",h)};return r=>{r.on(`attribute:${t}:${e}`,n)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class oS extends dr{observe(e){this.listenTo(e,"load",(t,n)=>{const r=n.target;this.checkShouldIgnoreEventFromTarget(r)||r.tagName=="IMG"&&this._fireEvents(n)},{useCapture:!0})}stopObserving(e){this.stopListening(e)}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class wW extends Pt{constructor(e){super(e);const t=e.config.get("image.insert.type");e.plugins.has("ImageBlockEditing")||t==="block"&&Jt("image-block-plugin-required"),e.plugins.has("ImageInlineEditing")||t==="inline"&&Jt("image-inline-plugin-required")}refresh(){const e=this.editor.plugins.get("ImageUtils");this.isEnabled=e.isImageAllowed()}execute(e){const t=On(e.source),n=this.editor.model.document.selection,r=this.editor.plugins.get("ImageUtils"),s=Object.fromEntries(n.getAttributes());t.forEach((o,l)=>{const u=n.getSelectedElement();if(typeof o=="string"&&(o={src:o}),l&&u&&r.isImage(u)){const h=this.editor.model.createPositionAfter(u);r.insertImage({...o,...s},h)}else r.insertImage({...o,...s})})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class bW extends Pt{refresh(){const t=this.editor.plugins.get("ImageUtils"),n=this.editor.model.document.selection.getSelectedElement();this.isEnabled=t.isImage(n),this.value=this.isEnabled?n.getAttribute("src"):null}execute(e){const t=this.editor.model.document.selection.getSelectedElement();this.editor.model.change(n=>{n.setAttribute("src",e.source,t),n.removeAttribute("srcset",t),n.removeAttribute("sizes",t)})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class aS extends fe{static get requires(){return[Wi]}static get pluginName(){return"ImageEditing"}init(){const e=this.editor,t=e.conversion;e.editing.view.addObserver(oS),t.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:s=>{const o={data:s.getAttribute("srcset")};return s.hasAttribute("width")&&(o.width=s.getAttribute("width")),o}}});const n=new wW(e),r=new bW(e);e.commands.add("insertImage",n),e.commands.add("replaceImageSource",r),e.commands.add("imageInsert",n)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class lS extends Pt{constructor(e,t){super(e),this._modelElementName=t}refresh(){const t=this.editor.plugins.get("ImageUtils"),n=t.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=t.isInlineImage(n):this.isEnabled=t.isBlockImage(n)}execute(){const e=this.editor,t=this.editor.model,n=e.plugins.get("ImageUtils"),r=n.getClosestSelectedImageElement(t.document.selection),s=Object.fromEntries(r.getAttributes());return!s.src&&!s.uploadId?null:t.change(o=>{const l=Array.from(t.markers).filter(f=>f.getRange().containsItem(r)),u=n.insertImage(s,t.createSelection(r,"on"),this._modelElementName);if(!u)return null;const h=o.createRangeOn(u);for(const f of l){const m=f.getRange(),v=m.root.rootName!="$graveyard"?m.getJoined(h,!0):h;o.updateMarker(f,{range:v})}return{oldElement:r,newElement:u}})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class cS extends fe{static get requires(){return[aS,Wi,rs]}static get pluginName(){return"ImageBlockEditing"}init(){const e=this.editor;e.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),e.plugins.has("ImageInlineEditing")&&(e.commands.add("imageTypeBlock",new lS(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,n=e.conversion,r=e.plugins.get("ImageUtils");n.for("dataDowncast").elementToStructure({model:"imageBlock",view:(s,{writer:o})=>a0(o)}),n.for("editingDowncast").elementToStructure({model:"imageBlock",view:(s,{writer:o})=>r.toImageWidget(a0(o),o,t("image widget"))}),n.for("downcast").add(Od(r,"imageBlock","src")).add(Od(r,"imageBlock","alt")).add(sS(r,"imageBlock")),n.for("upcast").elementToElement({view:tS(e,"imageBlock"),model:(s,{writer:o})=>o.createElement("imageBlock",s.hasAttribute("src")?{src:s.getAttribute("src")}:void 0)}).add(vW(r))}_setupClipboardIntegration(){const e=this.editor,t=e.model,n=e.editing.view,r=e.plugins.get("ImageUtils"),s=e.plugins.get("ClipboardPipeline");this.listenTo(s,"inputTransformation",(o,l)=>{const u=Array.from(l.content.getChildren());let h;if(!u.every(r.isInlineImageView))return;l.targetRanges?h=e.editing.mapper.toModelRange(l.targetRanges[0]):h=t.document.selection.getFirstRange();const f=t.createSelection(h);if(Rp(t.schema,f)==="imageBlock"){const m=new mp(n.document),v=u.map(C=>m.createElement("figure",{class:"image"},C));l.content=m.createDocumentFragment(v)}})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class yW extends fe{static get requires(){return[cS,xp,rS]}static get pluginName(){return"ImageBlock"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class EW extends fe{static get requires(){return[aS,Wi,rs]}static get pluginName(){return"ImageInlineEditing"}init(){const e=this.editor,t=e.model.schema;t.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),t.addChildCheck((n,r)=>{if(n.endsWith("caption")&&r.name==="imageInline")return!1}),this._setupConversion(),e.plugins.has("ImageBlockEditing")&&(e.commands.add("imageTypeInline",new lS(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,n=e.conversion,r=e.plugins.get("ImageUtils");n.for("dataDowncast").elementToElement({model:"imageInline",view:(s,{writer:o})=>o.createEmptyElement("img")}),n.for("editingDowncast").elementToStructure({model:"imageInline",view:(s,{writer:o})=>r.toImageWidget(uW(o),o,t("image widget"))}),n.for("downcast").add(Od(r,"imageInline","src")).add(Od(r,"imageInline","alt")).add(sS(r,"imageInline")),n.for("upcast").elementToElement({view:tS(e,"imageInline"),model:(s,{writer:o})=>o.createElement("imageInline",s.hasAttribute("src")?{src:s.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const e=this.editor,t=e.model,n=e.editing.view,r=e.plugins.get("ImageUtils"),s=e.plugins.get("ClipboardPipeline");this.listenTo(s,"inputTransformation",(o,l)=>{const u=Array.from(l.content.getChildren());let h;if(!u.every(r.isBlockImageView))return;l.targetRanges?h=e.editing.mapper.toModelRange(l.targetRanges[0]):h=t.document.selection.getFirstRange();const f=t.createSelection(h);if(Rp(t.schema,f)==="imageInline"){const m=new mp(n.document),v=u.map(C=>C.childCount===1?(Array.from(C.getAttributes()).forEach(k=>m.setAttribute(...k,r.findViewImgElement(C))),C.getChild(0)):C);l.content=m.createDocumentFragment(v)}})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class CW extends fe{static get requires(){return[EW,xp,rS]}static get pluginName(){return"ImageInline"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class SW extends fe{static get requires(){return[yW,CW]}static get pluginName(){return"Image"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const TW=new RegExp(String(/^(http(s)?:\/\/)?[\w-]+\.[\w.~:/[\]@!$&'()*+,;=%-]+/.source+/\.(jpg|jpeg|png|gif|ico|webp|JPG|JPEG|PNG|GIF|ICO|WEBP)/.source+/(\?[\w.~:/[\]@!$&'()*+,;=%-]*)?/.source+/(#[\w.~:/[\]@!$&'()*+,;=%-]*)?$/.source));class xW extends fe{static get requires(){return[KC,Wi,YC,ia]}static get pluginName(){return"AutoImage"}constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}init(){const e=this.editor,t=e.model.document,n=e.plugins.get("ClipboardPipeline");this.listenTo(n,"inputTransformation",()=>{const r=t.selection.getFirstRange(),s=Cn.fromPosition(r.start);s.stickiness="toPrevious";const o=Cn.fromPosition(r.end);o.stickiness="toNext",t.once("change:data",()=>{this._embedImageBetweenPositions(s,o),s.detach(),o.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(Ke.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedImageBetweenPositions(e,t){const n=this.editor,r=new ur(e,t),s=r.getWalker({ignoreElementEnd:!0}),o=Object.fromEntries(n.model.document.selection.getAttributes()),l=this.editor.plugins.get("ImageUtils");let u="";for(const h of s)h.item.is("$textProxy")&&(u+=h.item.data);if(u=u.trim(),!u.match(TW)){r.detach();return}this._positionToInsert=Cn.fromPosition(e),this._timeoutId=setTimeout(()=>{if(!n.commands.get("insertImage").isEnabled){r.detach();return}n.model.change(m=>{this._timeoutId=null,m.remove(r),r.detach();let v;this._positionToInsert.root.rootName!=="$graveyard"&&(v=this._positionToInsert.toPosition()),l.insertImage({...o,src:u},v),this._positionToInsert.detach(),this._positionToInsert=null}),n.plugins.get("Delete").requestUndoOnBackspace()},100)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class kW extends Pt{refresh(){const e=this.editor,t=e.plugins.get("ImageCaptionUtils"),n=e.plugins.get("ImageUtils");if(!e.plugins.has(cS)){this.isEnabled=!1,this.value=!1;return}const r=e.model.document.selection,s=r.getSelectedElement();if(!s){const o=t.getCaptionFromModelSelection(r);this.isEnabled=!!o,this.value=!!o;return}this.isEnabled=n.isImage(s),this.isEnabled?this.value=!!t.getCaptionFromImageModelElement(s):this.value=!1}execute(e={}){const{focusCaptionOnShow:t}=e;this.editor.model.change(n=>{this.value?this._hideImageCaption(n):this._showImageCaption(n,t)})}_showImageCaption(e,t){const r=this.editor.model.document.selection,s=this.editor.plugins.get("ImageCaptionEditing"),o=this.editor.plugins.get("ImageUtils");let l=r.getSelectedElement();const u=s._getSavedCaption(l);o.isInlineImage(l)&&(this.editor.execute("imageTypeBlock"),l=r.getSelectedElement());const h=u||e.createElement("caption");e.append(h,l),t&&e.setSelection(h,"in")}_hideImageCaption(e){const t=this.editor,n=t.model.document.selection,r=t.plugins.get("ImageCaptionEditing"),s=t.plugins.get("ImageCaptionUtils");let o=n.getSelectedElement(),l;o?l=s.getCaptionFromImageModelElement(o):(l=s.getCaptionFromModelSelection(n),o=l.parent),r._saveCaption(o,l),e.setSelection(o,"on"),e.remove(l)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class uS extends fe{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[Wi]}getCaptionFromImageModelElement(e){for(const t of e.getChildren())if(t&&t.is("element","caption"))return t;return null}getCaptionFromModelSelection(e){const t=this.editor.plugins.get("ImageUtils"),n=e.getFirstPosition().findAncestor("caption");return n&&t.isBlockImage(n.parent)?n:null}matchImageCaptionViewElement(e){const t=this.editor.plugins.get("ImageUtils");return e.name=="figcaption"&&t.isBlockImageView(e.parent)?{name:!0}:null}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class AW extends fe{static get requires(){return[Wi,uS]}static get pluginName(){return"ImageCaptionEditing"}constructor(e){super(e),this._savedCaptionsMap=new WeakMap}init(){const e=this.editor,t=e.model.schema;t.isRegistered("caption")?t.extend("caption",{allowIn:"imageBlock"}):t.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new kW(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const e=this.editor,t=e.editing.view,n=e.plugins.get("ImageUtils"),r=e.plugins.get("ImageCaptionUtils"),s=e.t;e.conversion.for("upcast").elementToElement({view:o=>r.matchImageCaptionViewElement(o),model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(o,{writer:l})=>n.isBlockImage(o.parent)?l.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(o,{writer:l})=>{if(!n.isBlockImage(o.parent))return null;const u=l.createEditableElement("figcaption");l.setCustomProperty("imageCaption",!0,u),Wl({view:t,element:u,text:s("Enter image caption"),keepOnFocus:!0});const h=o.parent.getAttribute("alt"),f=h?s("Caption for image: %0",[h]):s("Caption for the image");return C$(u,l,{label:f})}})}_setupImageTypeCommandsIntegration(){const e=this.editor,t=e.plugins.get("ImageUtils"),n=e.plugins.get("ImageCaptionUtils"),r=e.commands.get("imageTypeInline"),s=e.commands.get("imageTypeBlock"),o=l=>{if(!l.return)return;const{oldElement:u,newElement:h}=l.return;/* istanbul ignore if: paranoid check -- @preserve */if(!u)return;if(t.isBlockImage(u)){const m=n.getCaptionFromImageModelElement(u);if(m){this._saveCaption(h,m);return}}const f=this._getSavedCaption(u);f&&this._saveCaption(h,f)};r&&this.listenTo(r,"execute",o,{priority:"low"}),s&&this.listenTo(s,"execute",o,{priority:"low"})}_getSavedCaption(e){const t=this._savedCaptionsMap.get(e);return t?gt.fromJSON(t):null}_saveCaption(e,t){this._savedCaptionsMap.set(e,t.toJSON())}_registerCaptionReconversion(){const e=this.editor,t=e.model,n=e.plugins.get("ImageUtils"),r=e.plugins.get("ImageCaptionUtils");t.document.on("change:data",()=>{const s=t.document.differ.getChanges();for(const o of s){if(o.attributeKey!=="alt")continue;const l=o.range.start.nodeAfter;if(n.isBlockImage(l)){const u=r.getCaptionFromImageModelElement(l);if(!u)return;e.editing.reconvertItem(u)}}})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class PW extends fe{static get requires(){return[uS]}static get pluginName(){return"ImageCaptionUI"}init(){const e=this.editor,t=e.editing.view,n=e.plugins.get("ImageCaptionUtils"),r=e.t;e.ui.componentFactory.add("toggleImageCaption",s=>{const o=e.commands.get("toggleImageCaption"),l=new At(s);return l.set({icon:Mt.caption,tooltip:!0,isToggleable:!0}),l.bind("isOn","isEnabled").to(o,"value","isEnabled"),l.bind("label").to(o,"value",u=>r(u?"Toggle caption off":"Toggle caption on")),this.listenTo(l,"execute",()=>{e.execute("toggleImageCaption",{focusCaptionOnShow:!0});const u=n.getCaptionFromModelSelection(e.model.document.selection);if(u){const h=e.editing.mapper.toViewElement(u);t.scrollToTheSelection(),t.change(f=>{f.addClass("image__caption_highlighted",h)})}e.editing.view.focus()}),l})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class IW extends fe{static get requires(){return[AW,PW]}static get pluginName(){return"ImageCaption"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class RW extends Pt{refresh(){const e=this.editor,n=e.plugins.get("ImageUtils").getClosestSelectedImageElement(e.model.document.selection);this.isEnabled=!!n,!n||!n.hasAttribute("width")?this.value=null:this.value={width:n.getAttribute("width"),height:null}}execute(e){const t=this.editor,n=t.model,s=t.plugins.get("ImageUtils").getClosestSelectedImageElement(n.document.selection);this.value={width:e.width,height:null},s&&n.change(o=>{o.setAttribute("width",e.width,s)})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class dS extends fe{static get requires(){return[Wi]}static get pluginName(){return"ImageResizeEditing"}constructor(e){super(e),e.config.define("image",{resizeUnit:"%",resizeOptions:[{name:"resizeImage:original",value:null,icon:"original"},{name:"resizeImage:25",value:"25",icon:"small"},{name:"resizeImage:50",value:"50",icon:"medium"},{name:"resizeImage:75",value:"75",icon:"large"}]})}init(){const e=this.editor,t=new RW(e);this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline"),e.commands.add("resizeImage",t),e.commands.add("imageResize",t)}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:"width"}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:"width"})}_registerConverters(e){const t=this.editor;t.conversion.for("downcast").add(n=>n.on(`attribute:width:${e}`,(r,s,o)=>{if(!o.consumable.consume(s.item,r.name))return;const l=o.writer,u=o.mapper.toViewElement(s.item);s.attributeNewValue!==null?(l.setStyle("width",s.attributeNewValue,u),l.addClass("image_resized",u)):(l.removeStyle("width",u),l.removeClass("image_resized",u))})),t.conversion.for("upcast").attributeToAttribute({view:{name:e==="imageBlock"?"figure":"img",styles:{width:/.+/}},model:{key:"width",value:n=>n.getStyle("width")}})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Bm={small:Mt.objectSizeSmall,medium:Mt.objectSizeMedium,large:Mt.objectSizeLarge,original:Mt.objectSizeFull};class OW extends fe{static get requires(){return[dS]}static get pluginName(){return"ImageResizeButtons"}constructor(e){super(e),this._resizeUnit=e.config.get("image.resizeUnit")}init(){const e=this.editor,t=e.config.get("image.resizeOptions"),n=e.commands.get("resizeImage");this.bind("isEnabled").to(n);for(const r of t)this._registerImageResizeButton(r);this._registerImageResizeDropdown(t)}_registerImageResizeButton(e){const t=this.editor,{name:n,value:r,icon:s}=e,o=r?r+this._resizeUnit:null;t.ui.componentFactory.add(n,l=>{const u=new At(l),h=t.commands.get("resizeImage"),f=this._getOptionLabelValue(e,!0);if(!Bm[s])throw new B("imageresizebuttons-missing-icon",t,e);return u.set({label:f,icon:Bm[s],tooltip:f,isToggleable:!0}),u.bind("isEnabled").to(this),u.bind("isOn").to(h,"value",l0(o)),this.listenTo(u,"execute",()=>{t.execute("resizeImage",{width:o})}),u})}_registerImageResizeDropdown(e){const t=this.editor,n=t.t,r=e.find(o=>!o.value),s=o=>{const l=t.commands.get("resizeImage"),u=Gs(o,TC),h=u.buttonView;return h.set({tooltip:n("Resize image"),commandValue:r.value,icon:Bm.medium,isToggleable:!0,label:this._getOptionLabelValue(r),withText:!0,class:"ck-resize-image-button"}),h.bind("label").to(l,"value",f=>f&&f.width?f.width:this._getOptionLabelValue(r)),u.bind("isEnabled").to(this),PC(u,()=>this._getResizeDropdownListItemDefinitions(e,l),{ariaLabel:n("Image resize list")}),this.listenTo(u,"execute",f=>{t.execute(f.source.commandName,{width:f.source.commandValue}),t.editing.view.focus()}),u};t.ui.componentFactory.add("resizeImage",s),t.ui.componentFactory.add("imageResize",s)}_getOptionLabelValue(e,t=!1){const n=this.editor.t;return e.label?e.label:t?e.value?n("Resize image to %0",e.value+this._resizeUnit):n("Resize image to the original size"):e.value?e.value+this._resizeUnit:n("Original")}_getResizeDropdownListItemDefinitions(e,t){const n=new Br;return e.map(r=>{const s=r.value?r.value+this._resizeUnit:null,o={type:"button",model:new MC({commandName:"resizeImage",commandValue:s,label:this._getOptionLabelValue(r),withText:!0,icon:null})};o.model.bind("isOn").to(t,"value",l0(s)),n.add(o)}),n}}function l0(i){return e=>{const t=e;return i===null&&t===i?!0:t!==null&&t.width===i}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const MW="figure.image.ck-widget > img,figure.image.ck-widget > picture > img,figure.image.ck-widget > a > img,figure.image.ck-widget > a > picture > img,span.image-inline.ck-widget > img,span.image-inline.ck-widget > picture > img",NW=/(image|image-inline)/,Vm="image_resized";class DW extends fe{static get requires(){return[Im]}static get pluginName(){return"ImageResizeHandles"}init(){const e=this.editor.commands.get("resizeImage");this.bind("isEnabled").to(e),this._setupResizerCreator()}_setupResizerCreator(){const e=this.editor,t=e.editing.view;t.addObserver(oS),this.listenTo(t.document,"imageLoaded",(n,r)=>{if(!r.target.matches(MW))return;const s=e.editing.view.domConverter,l=s.domToView(r.target).findAncestor({classes:NW});let u=this.editor.plugins.get(Im).getResizerByViewElement(l);if(u){u.redraw();return}const h=e.editing.mapper,f=h.toModelElement(l);u=e.plugins.get(Im).attachTo({unit:e.config.get("image.resizeUnit"),modelElement:f,viewElement:l,editor:e,getHandleHost(m){return m.querySelector("img")},getResizeHost(){return s.mapViewToDom(h.toViewElement(f.parent))},isCentered(){const m=f.getAttribute("imageStyle");return!m||m=="block"||m=="alignCenter"},onCommit(m){t.change(v=>{v.removeClass(Vm,l)}),e.execute("resizeImage",{width:m})}}),u.on("updateSize",()=>{l.hasClass(Vm)||t.change(m=>{m.addClass(Vm,l)})}),u.bind("isEnabled").to(this)})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class BW extends fe{static get requires(){return[dS,DW,OW]}static get pluginName(){return"ImageResize"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class VW extends Pt{constructor(e,t){super(e),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(t.map(n=>{if(n.isDefault)for(const r of n.modelElements)this._defaultStyles[r]=n.name;return[n.name,n]}))}refresh(){const n=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!n,this.isEnabled?n.hasAttribute("imageStyle")?this.value=n.getAttribute("imageStyle"):this.value=this._defaultStyles[n.name]:this.value=!1}execute(e={}){const t=this.editor,n=t.model,r=t.plugins.get("ImageUtils");n.change(s=>{const o=e.value;let l=r.getClosestSelectedImageElement(n.document.selection);o&&this.shouldConvertImageType(o,l)&&(this.editor.execute(r.isBlockImage(l)?"imageTypeInline":"imageTypeBlock"),l=r.getClosestSelectedImageElement(n.document.selection)),!o||this._styles.get(o).isDefault?s.removeAttribute("imageStyle",l):s.setAttribute("imageStyle",o,l)})}shouldConvertImageType(e,t){return!this._styles.get(e).modelElements.includes(t.name)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const{objectFullWidth:LW,objectInline:hS,objectLeft:fS,objectRight:Eg,objectCenter:Cg,objectBlockLeft:mS,objectBlockRight:gS}=Mt,td={get inline(){return{name:"inline",title:"In line",icon:hS,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:fS,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:mS,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:Cg,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:Eg,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:gS,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:Cg,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:Eg,modelElements:["imageBlock"],className:"image-style-side"}}},pS={full:LW,left:mS,right:gS,center:Cg,inlineLeft:fS,inlineRight:Eg,inline:hS},_S=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function FW(i){return(i.configuredStyles.options||[]).map(n=>WW(n)).filter(n=>jW(n,i))}function $W(i,e){return i&&e?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:i?{options:["block","side"]}:e?{options:["inline","alignLeft","alignRight"]}:{}}function zW(i){return i.has("ImageBlockEditing")&&i.has("ImageInlineEditing")?[..._S]:[]}function WW(i){return typeof i=="string"?td[i]?i={...td[i]}:i={name:i}:i=UW(td[i.name],i),typeof i.icon=="string"&&(i.icon=pS[i.icon]||i.icon),i}function jW(i,{isBlockPluginLoaded:e,isInlinePluginLoaded:t}){const{modelElements:n,name:r}=i;if(!n||!n.length||!r)return vS({style:i}),!1;{const s=[e?"imageBlock":null,t?"imageInline":null];if(!n.some(o=>s.includes(o)))return Jt("image-style-missing-dependency",{style:i,missingPlugins:n.map(o=>o==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}function UW(i,e){const t={...e};for(const n in i)Object.prototype.hasOwnProperty.call(e,n)||(t[n]=i[n]);return t}function vS(i){Jt("image-style-configuration-definition-invalid",i)}const Sg={normalizeStyles:FW,getDefaultStylesConfiguration:$W,getDefaultDropdownDefinitions:zW,warnInvalidStyle:vS,DEFAULT_OPTIONS:td,DEFAULT_ICONS:pS,DEFAULT_DROPDOWN_DEFINITIONS:_S};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function HW(i){return(e,t,n)=>{if(!n.consumable.consume(t.item,e.name))return;const r=c0(t.attributeNewValue,i),s=c0(t.attributeOldValue,i),o=n.mapper.toViewElement(t.item),l=n.writer;s&&l.removeClass(s.className,o),r&&l.addClass(r.className,o)}}function qW(i){const e={imageInline:i.filter(t=>!t.isDefault&&t.modelElements.includes("imageInline")),imageBlock:i.filter(t=>!t.isDefault&&t.modelElements.includes("imageBlock"))};return(t,n,r)=>{if(!n.modelRange)return;const s=n.viewItem,o=Mn(n.modelRange.getItems());if(o&&r.schema.checkAttribute(o,"imageStyle"))for(const l of e[o.name])r.consumable.consume(s,{classes:l.className})&&r.writer.setAttribute("imageStyle",l.name,o)}}function c0(i,e){for(const t of e)if(t.name===i)return t}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class wS extends fe{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[Wi]}init(){const{normalizeStyles:e,getDefaultStylesConfiguration:t}=Sg,n=this.editor,r=n.plugins.has("ImageBlockEditing"),s=n.plugins.has("ImageInlineEditing");n.config.define("image.styles",t(r,s)),this.normalizedStyles=e({configuredStyles:n.config.get("image.styles"),isBlockPluginLoaded:r,isInlinePluginLoaded:s}),this._setupConversion(r,s),this._setupPostFixer(),n.commands.add("imageStyle",new VW(n,this.normalizedStyles))}_setupConversion(e,t){const n=this.editor,r=n.model.schema,s=HW(this.normalizedStyles),o=qW(this.normalizedStyles);n.editing.downcastDispatcher.on("attribute:imageStyle",s),n.data.downcastDispatcher.on("attribute:imageStyle",s),e&&(r.extend("imageBlock",{allowAttributes:"imageStyle"}),n.data.upcastDispatcher.on("element:figure",o,{priority:"low"})),t&&(r.extend("imageInline",{allowAttributes:"imageStyle"}),n.data.upcastDispatcher.on("element:img",o,{priority:"low"}))}_setupPostFixer(){const e=this.editor,t=e.model.document,n=e.plugins.get(Wi),r=new Map(this.normalizedStyles.map(s=>[s.name,s]));t.registerPostFixer(s=>{let o=!1;for(const l of t.differ.getChanges())if(l.type=="insert"||l.type=="attribute"&&l.attributeKey=="imageStyle"){let u=l.type=="insert"?l.position.nodeAfter:l.range.start.nodeAfter;if(u&&u.is("element","paragraph")&&u.childCount>0&&(u=u.getChild(0)),!n.isImage(u))continue;const h=u.getAttribute("imageStyle");if(!h)continue;const f=r.get(h);(!f||!f.modelElements.includes(u.name))&&(s.removeAttribute("imageStyle",u),o=!0)}return o})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class KW extends fe{static get requires(){return[wS]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Wrap text":e("Wrap text"),"Break text":e("Break text"),"In line":e("In line"),"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}init(){const e=this.editor.plugins,t=this.editor.config.get("image.toolbar")||[],n=e.get("ImageStyleEditing"),r=u0(n.normalizedStyles,this.localizedDefaultStylesTitles);for(const o of r)this._createButton(o);const s=u0([...t.filter(Ft),...Sg.getDefaultDropdownDefinitions(e)],this.localizedDefaultStylesTitles);for(const o of s)this._createDropdown(o,r)}_createDropdown(e,t){const n=this.editor.ui.componentFactory;n.add(e.name,r=>{let s;const{defaultItem:o,items:l,title:u}=e,h=l.filter(C=>t.find(({name:k})=>d0(k)===C)).map(C=>{const k=n.create(C);return C===o&&(s=k),k});l.length!==h.length&&Sg.warnInvalidStyle({dropdown:e});const f=Gs(r,fh),m=f.buttonView,v=m.arrowView;return gh(f,h,{enableActiveItemFocusOnDropdownOpen:!0}),m.set({label:h0(u,s.label),class:null,tooltip:!0}),v.unbind("label"),v.set({label:u}),m.bind("icon").toMany(h,"isOn",(...C)=>{const k=C.findIndex(Ps);return k<0?s.icon:h[k].icon}),m.bind("label").toMany(h,"isOn",(...C)=>{const k=C.findIndex(Ps);return h0(u,k<0?s.label:h[k].label)}),m.bind("isOn").toMany(h,"isOn",(...C)=>C.some(Ps)),m.bind("class").toMany(h,"isOn",(...C)=>C.some(Ps)?"ck-splitbutton_flatten":void 0),m.on("execute",()=>{h.some(({isOn:C})=>C)?f.isOpen=!f.isOpen:s.fire("execute")}),f.bind("isEnabled").toMany(h,"isEnabled",(...C)=>C.some(Ps)),this.listenTo(f,"execute",()=>{this.editor.editing.view.focus()}),f})}_createButton(e){const t=e.name;this.editor.ui.componentFactory.add(d0(t),n=>{const r=this.editor.commands.get("imageStyle"),s=new At(n);return s.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),s.bind("isEnabled").to(r,"isEnabled"),s.bind("isOn").to(r,"value",o=>o===t),s.on("execute",this._executeCommand.bind(this,t)),s})}_executeCommand(e){this.editor.execute("imageStyle",{value:e}),this.editor.editing.view.focus()}}function u0(i,e){for(const t of i)e[t.title]&&(t.title=e[t.title]);return i}function d0(i){return`imageStyle:${i}`}function h0(i,e){return(i?i+": ":"")+e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class GW extends fe{static get requires(){return[wS,KW]}static get pluginName(){return"ImageStyle"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class YW extends fe{static get requires(){return[Gb,Wi]}static get pluginName(){return"ImageToolbar"}afterInit(){const e=this.editor,t=e.t,n=e.plugins.get(Gb),r=e.plugins.get("ImageUtils");n.register("image",{ariaLabel:t("Image toolbar"),items:JW(e.config.get("image.toolbar")||[]),getRelatedElement:s=>r.getClosestSelectedImageWidget(s)})}}function JW(i){return i.map(e=>Ft(e)?e.name:e)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class XW{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(t=>this._definitions.add(t)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(t,n,r)=>{if(!r.consumable.test(n.item,"attribute:linkHref")||!(n.item.is("selection")||r.schema.isInline(n.item)))return;const s=r.writer,o=s.document.selection;for(const l of this._definitions){const u=s.createAttributeElement("a",l.attributes,{priority:5});l.classes&&s.addClass(l.classes,u);for(const h in l.styles)s.setStyle(h,l.styles[h],u);s.setCustomProperty("link",!0,u),l.callback(n.attributeNewValue)?n.item.is("selection")?s.wrap(o.getFirstRange(),u):s.wrap(r.mapper.toViewRange(n.range),u):s.unwrap(r.mapper.toViewRange(n.range),u)}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",(t,n,{writer:r,mapper:s})=>{const o=s.toViewElement(n.item),l=Array.from(o.getChildren()).find(u=>u.is("element","a"));for(const u of this._definitions){const h=Or(u.attributes);if(u.callback(n.attributeNewValue)){for(const[f,m]of h)f==="class"?r.addClass(m,l):r.setAttribute(f,m,l);u.classes&&r.addClass(u.classes,l);for(const f in u.styles)r.setStyle(f,u.styles[f],l)}else{for(const[f,m]of h)f==="class"?r.removeClass(m,l):r.removeAttribute(f,l);u.classes&&r.removeClass(u.classes,l);for(const f in u.styles)r.removeStyle(f,l)}}})}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const ZW=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,QW=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,ej=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,tj=/^((\w+:(\/{2,})?)|(\W))/i,Lm="Ctrl+K";function nj(i){return i.is("attributeElement")&&!!i.getCustomProperty("link")}function f0(i,{writer:e}){const t=e.createAttributeElement("a",{href:i},{priority:5});return e.setCustomProperty("link",!0,t),t}function bS(i){const e=String(i);return ij(e)?e:"#"}function ij(i){return!!i.replace(ZW,"").match(QW)}function rj(i,e){const t={"Open in a new tab":i("Open in a new tab"),Downloadable:i("Downloadable")};return e.forEach(n=>("label"in n&&t[n.label]&&(n.label=t[n.label]),n)),e}function sj(i){const e=[];if(i)for(const[t,n]of Object.entries(i)){const r=Object.assign({},n,{id:`link${w7(t)}`});e.push(r)}return e}function Tg(i,e){return i?e.checkAttribute(i.name,"linkHref"):!1}function oj(i){return ej.test(i)}function Op(i,e){const t=oj(i)?"mailto:":e,n=!!t&&!yS(i);return i&&n?t+i:i}function yS(i){return tj.test(i)}function m0(i){window.open(i,"_blank","noopener")}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class aj extends Pt{constructor(){super(...arguments),this.manualDecorators=new Br,this.automaticDecorators=new XW}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,t=e.document.selection,n=t.getSelectedElement()||Mn(t.getSelectedBlocks());Tg(n,e.schema)?(this.value=n.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(n,"linkHref")):(this.value=t.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref"));for(const r of this.manualDecorators)r.value=this._getDecoratorStateFromModel(r.id)}execute(e,t={}){const n=this.editor.model,r=n.document.selection,s=[],o=[];for(const l in t)t[l]?s.push(l):o.push(l);n.change(l=>{if(r.isCollapsed){const u=r.getFirstPosition();if(r.hasAttribute("linkHref")){const h=g0(r);let f=Ko(u,"linkHref",r.getAttribute("linkHref"),n);r.getAttribute("linkHref")===h&&(f=this._updateLinkContent(n,l,f,e)),l.setAttribute("linkHref",e,f),s.forEach(m=>{l.setAttribute(m,!0,f)}),o.forEach(m=>{l.removeAttribute(m,f)}),l.setSelection(l.createPositionAfter(f.end.nodeBefore))}else if(e!==""){const h=Or(r.getAttributes());h.set("linkHref",e),s.forEach(m=>{h.set(m,!0)});const{end:f}=n.insertContent(l.createText(e,h),u);l.setSelection(f)}["linkHref",...s,...o].forEach(h=>{l.removeSelectionAttribute(h)})}else{const u=n.schema.getValidRanges(r.getRanges(),"linkHref"),h=[];for(const m of r.getSelectedBlocks())n.schema.checkAttribute(m,"linkHref")&&h.push(l.createRangeOn(m));const f=h.slice();for(const m of u)this._isRangeToUpdate(m,h)&&f.push(m);for(const m of f){let v=m;if(f.length===1){const C=g0(r);r.getAttribute("linkHref")===C&&(v=this._updateLinkContent(n,l,m,e),l.setSelection(l.createSelection(v)))}l.setAttribute("linkHref",e,v),s.forEach(C=>{l.setAttribute(C,!0,v)}),o.forEach(C=>{l.removeAttribute(C,v)})}}})}_getDecoratorStateFromModel(e){const t=this.editor.model,n=t.document.selection,r=n.getSelectedElement();return Tg(r,t.schema)?r.getAttribute(e):n.getAttribute(e)}_isRangeToUpdate(e,t){for(const n of t)if(n.containsRange(e))return!1;return!0}_updateLinkContent(e,t,n,r){const s=t.createText(r,{linkHref:r});return e.insertContent(s,n)}}function g0(i){if(i.isCollapsed){const e=i.getFirstPosition();return e.textNode&&e.textNode.data}else{const e=Array.from(i.getFirstRange().getItems());if(e.length>1)return null;const t=e[0];return t.is("$text")||t.is("$textProxy")?t.data:null}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class lj extends Pt{refresh(){const e=this.editor.model,t=e.document.selection,n=t.getSelectedElement();Tg(n,e.schema)?this.isEnabled=e.schema.checkAttribute(n,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref")}execute(){const e=this.editor,t=this.editor.model,n=t.document.selection,r=e.commands.get("link");t.change(s=>{const o=n.isCollapsed?[Ko(n.getFirstPosition(),"linkHref",n.getAttribute("linkHref"),t)]:t.schema.getValidRanges(n.getRanges(),"linkHref");for(const l of o)if(s.removeAttribute("linkHref",l),r)for(const u of r.manualDecorators)s.removeAttribute(u.id,l)})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class cj extends Dt(){constructor({id:e,label:t,attributes:n,classes:r,styles:s,defaultValue:o}){super(),this.id=e,this.set("value",void 0),this.defaultValue=o,this.label=t,this.attributes=n,this.classes=r,this.styles=s}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const uj="ck-link_selected",p0="automatic",dj="manual",hj=/^(https?:)?\/\//;class fj extends fe{static get pluginName(){return"LinkEditing"}static get requires(){return[$b,LC,rs]}constructor(e){super(e),e.config.define("link",{addTargetToExternalLinks:!1})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:f0}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(r,s)=>f0(bS(r),s)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:r=>r.getAttribute("href")}}),e.commands.add("link",new aj(e)),e.commands.add("unlink",new lj(e));const t=rj(e.t,sj(e.config.get("link.decorators")));this._enableAutomaticDecorators(t.filter(r=>r.mode===p0)),this._enableManualDecorators(t.filter(r=>r.mode===dj)),e.plugins.get($b).registerAttribute("linkHref"),l$(e,"linkHref","a",uj),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink(),this._enableClipboardIntegration()}_enableAutomaticDecorators(e){const t=this.editor,r=t.commands.get("link").automaticDecorators;t.config.get("link.addTargetToExternalLinks")&&r.add({id:"linkIsExternal",mode:p0,callback:s=>!!s&&hj.test(s),attributes:{target:"_blank",rel:"noopener noreferrer"}}),r.add(e),r.length&&t.conversion.for("downcast").add(r.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const t=this.editor,r=t.commands.get("link").manualDecorators;e.forEach(s=>{t.model.schema.extend("$text",{allowAttributes:s.id});const o=new cj(s);r.add(o),t.conversion.for("downcast").attributeToElement({model:o.id,view:(l,{writer:u,schema:h},{item:f})=>{if((f.is("selection")||h.isInline(f))&&l){const m=u.createAttributeElement("a",o.attributes,{priority:5});o.classes&&u.addClass(o.classes,m);for(const v in o.styles)u.setStyle(v,o.styles[v],m);return u.setCustomProperty("link",!0,m),m}}}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",...o._createPattern()},model:{key:o.id}})})}_enableLinkOpen(){const e=this.editor,n=e.editing.view.document;this.listenTo(n,"click",(r,s)=>{if(!(qe.isMac?s.domEvent.metaKey:s.domEvent.ctrlKey))return;let l=s.domTarget;if(l.tagName.toLowerCase()!="a"&&(l=l.closest("a")),!l)return;const u=l.getAttribute("href");u&&(r.stop(),s.preventDefault(),m0(u))},{context:"$capture"}),this.listenTo(n,"keydown",(r,s)=>{const l=e.commands.get("link").value;l&&s.keyCode===tt.enter&&s.altKey&&(r.stop(),m0(l))})}_enableInsertContentSelectionAttributesFixer(){const t=this.editor.model,n=t.document.selection;this.listenTo(t,"insertContent",()=>{const r=n.anchor.nodeBefore,s=n.anchor.nodeAfter;n.hasAttribute("linkHref")&&r&&r.hasAttribute("linkHref")&&(s&&s.hasAttribute("linkHref")||t.change(o=>{Fm(o,$m(t.schema))}))},{priority:"low"})}_enableClickingAfterLink(){const e=this.editor,t=e.model;e.editing.view.addObserver(uh);let n=!1;this.listenTo(e.editing.view.document,"mousedown",()=>{n=!0}),this.listenTo(e.editing.view.document,"selectionChange",()=>{if(!n)return;n=!1;const r=t.document.selection;if(!r.isCollapsed||!r.hasAttribute("linkHref"))return;const s=r.getFirstPosition(),o=Ko(s,"linkHref",r.getAttribute("linkHref"),t);(s.isTouching(o.start)||s.isTouching(o.end))&&t.change(l=>{Fm(l,$m(t.schema))})})}_enableTypingOverLink(){const e=this.editor,t=e.editing.view;let n=null,r=!1;this.listenTo(t.document,"delete",()=>{r=!0},{priority:"high"}),this.listenTo(e.model,"deleteContent",()=>{const s=e.model.document.selection;if(!s.isCollapsed){if(r){r=!1;return}_0(e)&&mj(e.model)&&(n=s.getAttributes())}},{priority:"high"}),this.listenTo(e.model,"insertContent",(s,[o])=>{r=!1,_0(e)&&n&&(e.model.change(l=>{for(const[u,h]of n)l.setAttribute(u,h,o)}),n=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const e=this.editor,t=e.model,n=t.document.selection,r=e.editing.view;let s=!1,o=!1;this.listenTo(r.document,"delete",(l,u)=>{o=u.direction==="backward"},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{s=!1;const l=n.getFirstPosition(),u=n.getAttribute("linkHref");if(!u)return;const h=Ko(l,"linkHref",u,t);s=h.containsPosition(l)||h.end.isEqual(l)},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{o&&(o=!1,!s&&e.model.enqueueChange(l=>{Fm(l,$m(t.schema))}))},{priority:"low"})}_enableClipboardIntegration(){const e=this.editor,t=e.model,n=this.editor.config.get("link.defaultProtocol");n&&this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",(r,s)=>{t.change(o=>{const l=o.createRangeIn(s.content);for(const u of l.getItems())if(u.hasAttribute("linkHref")){const h=Op(u.getAttribute("linkHref"),n);o.setAttribute("linkHref",h,u)}})})}}function Fm(i,e){i.removeSelectionAttribute("linkHref");for(const t of e)i.removeSelectionAttribute(t)}function mj(i){const e=i.document.selection,t=e.getFirstPosition(),n=e.getLastPosition(),r=t.nodeAfter;if(!r||!r.is("$text")||!r.hasAttribute("linkHref"))return!1;const s=n.textNode||n.nodeBefore;return r===s?!0:Ko(t,"linkHref",r.getAttribute("linkHref"),i).containsRange(i.createRange(t,n),!0)}function _0(i){return i.model.change(t=>t.batch).isTyping}function $m(i){return i.getDefinition("$text").allowAttributes.filter(t=>t.startsWith("link"))}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class gj extends Xe{constructor(e,t){super(e),this.focusTracker=new fi,this.keystrokes=new cr,this._focusables=new cs;const n=e.t;this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(n("Save"),Mt.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(n("Cancel"),Mt.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(t),this.children=this._createFormChildren(t.manualDecorators),this._focusCycler=new ta({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const r=["ck","ck-link-form","ck-responsive-form"];t.manualDecorators.length&&r.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:r,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,t)=>(e[t.name]=t.isOn,e),{})}render(){super.render(),wC({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const e=this.locale.t,t=new Cp(this.locale,OC);return t.label=e("Link URL"),t}_createButton(e,t,n,r){const s=new At(this.locale);return s.set({label:e,icon:t,tooltip:!0}),s.extendTemplate({attributes:{class:n}}),r&&s.delegate("execute").to(this,r),s}_createManualDecoratorSwitches(e){const t=this.createCollection();for(const n of e.manualDecorators){const r=new hh(this.locale);r.set({name:n.id,label:n.label,withText:!0}),r.bind("isOn").toMany([n,e],"value",(s,o)=>o===void 0&&s===void 0?!!n.defaultValue:!!s),r.on("execute",()=>{n.set("value",!r.isOn)}),t.add(r)}return t}_createFormChildren(e){const t=this.createCollection();if(t.add(this.urlInputView),e.length){const n=new Xe;n.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(r=>({tag:"li",children:[r],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),t.add(n)}return t.add(this.saveButtonView),t.add(this.cancelButtonView),t}}const pj='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class _j extends Xe{constructor(e){super(e),this.focusTracker=new fi,this.keystrokes=new cr,this._focusables=new cs;const t=e.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(t("Unlink"),pj,"unlink"),this.editButtonView=this._createButton(t("Edit link"),Mt.pencil,"edit"),this.set("href",void 0),this._focusCycler=new ta({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,t,n){const r=new At(this.locale);return r.set({label:e,icon:t,tooltip:!0}),r.delegate("execute").to(this,n),r}_createPreviewButton(){const e=new At(this.locale),t=this.bindTemplate,n=this.t;return e.set({withText:!0,tooltip:n("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:t.to("href",r=>r&&bS(r)),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",r=>r||n("This link has no URL")),e.bind("isEnabled").to(this,"href",r=>!!r),e.template.tag="a",e.template.eventListeners={},e}}const vj='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Qi="link-ui";class wj extends fe{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[qo]}static get pluginName(){return"LinkUI"}init(){const e=this.editor;e.editing.view.addObserver(mF),this._balloon=e.plugins.get(qo),this._createToolbarLinkButton(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:Qi,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:Qi,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor,t=new _j(e.locale),n=e.commands.get("link"),r=e.commands.get("unlink");return t.bind("href").to(n,"value"),t.editButtonView.bind("isEnabled").to(n),t.unlinkButtonView.bind("isEnabled").to(r),this.listenTo(t,"edit",()=>{this._addFormView()}),this.listenTo(t,"unlink",()=>{e.execute("unlink"),this._hideUI()}),t.keystrokes.set("Esc",(s,o)=>{this._hideUI(),o()}),t.keystrokes.set(Lm,(s,o)=>{this._addFormView(),o()}),t}_createFormView(){const e=this.editor,t=e.commands.get("link"),n=e.config.get("link.defaultProtocol"),r=new(vC(gj))(e.locale,t);return r.urlInputView.fieldView.bind("value").to(t,"value"),r.urlInputView.bind("isEnabled").to(t,"isEnabled"),r.saveButtonView.bind("isEnabled").to(t),this.listenTo(r,"submit",()=>{const{value:s}=r.urlInputView.fieldView.element,o=Op(s,n);e.execute("link",o,r.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(r,"cancel",()=>{this._closeFormView()}),r.keystrokes.set("Esc",(s,o)=>{this._closeFormView(),o()}),r}_createToolbarLinkButton(){const e=this.editor,t=e.commands.get("link"),n=e.t;e.ui.componentFactory.add("link",r=>{const s=new At(r);return s.isEnabled=!0,s.label=n("Link"),s.icon=vj,s.keystroke=Lm,s.tooltip=!0,s.isToggleable=!0,s.bind("isEnabled").to(t,"isEnabled"),s.bind("isOn").to(t,"value",o=>!!o),this.listenTo(s,"execute",()=>this._showUI(!0)),s})}_enableBalloonActivators(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),e.keystrokes.set(Lm,(n,r)=>{r(),e.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,t)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),t())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,t)=>{this._isUIVisible&&(this._hideUI(),t())}),_p({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),!this._areActionsInPanel&&this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const t=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=t.value||""}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),e.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,t=e.editing.view.document;let n=this._getSelectedLinkElement(),r=o();const s=()=>{const l=this._getSelectedLinkElement(),u=o();n&&!l||!n&&u!==r?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),n=l,r=u};function o(){return t.selection.focus.getAncestors().reverse().find(l=>l.is("element"))}this.listenTo(e.ui,"update",s),this.listenTo(this._balloon,"change:visibleView",s)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return!!this.formView&&e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,t=this.editor.model,n=e.document;let r;if(t.markers.has(Qi)){const s=Array.from(this.editor.editing.mapper.markerNameToElements(Qi)),o=e.createRange(e.createPositionBefore(s[0]),e.createPositionAfter(s[s.length-1]));r=e.domConverter.viewRangeToDom(o)}else r=()=>{const s=this._getSelectedLinkElement();return s?e.domConverter.mapViewToDom(s):e.domConverter.viewRangeToDom(n.selection.getFirstRange())};return{target:r}}_getSelectedLinkElement(){const e=this.editor.editing.view,t=e.document.selection,n=t.getSelectedElement();if(t.isCollapsed||n&&Yt(n))return zm(t.getFirstPosition());{const r=t.getFirstRange().getTrimmed(),s=zm(r.start),o=zm(r.end);return!s||s!=o?null:e.createRangeIn(s).getTrimmed().isEqual(r)?s:null}}_showFakeVisualSelection(){const e=this.editor.model;e.change(t=>{const n=e.document.selection.getFirstRange();if(e.markers.has(Qi))t.updateMarker(Qi,{range:n});else if(n.start.isAtEnd){const r=n.start.getLastMatchingPosition(({item:s})=>!e.schema.isContent(s),{boundaries:n});t.addMarker(Qi,{usingOperation:!1,affectsData:!1,range:t.createRange(r,n.end)})}else t.addMarker(Qi,{usingOperation:!1,affectsData:!1,range:n})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(Qi)&&e.change(t=>{t.removeMarker(Qi)})}}function zm(i){return i.getAncestors().find(e=>nj(e))||null}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const bj=4,yj=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i"),Ej=2;class Cj extends fe{static get requires(){return[ia]}static get pluginName(){return"AutoLink"}init(){const t=this.editor.model.document.selection;t.on("change:range",()=>{this.isEnabled=!t.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const e=this.editor,t=new o$(e.model,n=>{if(!Sj(n))return;const r=v0(n.substr(0,n.length-1));if(r)return{url:r}});t.on("matched:data",(n,r)=>{const{batch:s,range:o,url:l}=r;if(!s.isTyping)return;const u=o.end.getShiftedBy(-1),h=u.getShiftedBy(-l.length),f=e.model.createRange(h,u);this._applyAutoLink(l,f)}),t.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,t=e.model,n=e.commands.get("enter");n&&n.on("execute",()=>{const r=t.document.selection.getFirstPosition();if(!r.parent.previousSibling)return;const s=t.createRangeIn(r.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(s)})}_enableShiftEnterHandling(){const e=this.editor,t=e.model,n=e.commands.get("shiftEnter");n&&n.on("execute",()=>{const r=t.document.selection.getFirstPosition(),s=t.createRange(t.createPositionAt(r.parent,0),r.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(s)})}_checkAndApplyAutoLinkOnRange(e){const t=this.editor.model,{text:n,range:r}=$C(e,t),s=v0(n);if(s){const o=t.createRange(r.end.getShiftedBy(-s.length),r.end);this._applyAutoLink(s,o)}}_applyAutoLink(e,t){const n=this.editor.model,r=this.editor.config.get("link.defaultProtocol"),s=Op(e,r);!this.isEnabled||!Tj(t,n)||!yS(s)||xj(t)||this._persistAutoLink(s,t)}_persistAutoLink(e,t){const n=this.editor.model,r=this.editor.plugins.get("Delete");n.enqueueChange(s=>{s.setAttribute("linkHref",e,t),n.enqueueChange(()=>{r.requestUndoOnBackspace()})})}}function Sj(i){return i.length>bj&&i[i.length-1]===" "&&i[i.length-2]!==" "}function v0(i){const e=yj.exec(i);return e?e[Ej]:null}function Tj(i,e){return e.schema.checkAttributeInSelection(e.createSelection(i),"linkHref")}function xj(i){const e=i.start.nodeAfter;return!!e&&e.hasAttribute("linkHref")}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class kj extends fe{static get requires(){return[fj,wj,Cj]}static get pluginName(){return"Link"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class w0 extends Pt{constructor(e,t){super(e),this.type=t}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,n=t.document,r=Array.from(n.selection.getSelectedBlocks()).filter(o=>y0(o,t.schema)),s=e.forceValue!==void 0?!e.forceValue:this.value;t.change(o=>{if(s){let l=r[r.length-1].nextSibling,u=Number.POSITIVE_INFINITY,h=[];for(;l&&l.name=="listItem"&&l.getAttribute("listIndent")!==0;){const f=l.getAttribute("listIndent");f<u&&(u=f);const m=f-u;h.push({element:l,listIndent:m}),l=l.nextSibling}h=h.reverse();for(const f of h)o.setAttribute("listIndent",f.listIndent,f.element)}if(!s){let l=Number.POSITIVE_INFINITY;for(const u of r)u.is("element","listItem")&&u.getAttribute("listIndent")<l&&(l=u.getAttribute("listIndent"));l=l===0?1:l,b0(r,!0,l),b0(r,!1,l)}for(const l of r.reverse())s&&l.name=="listItem"?o.rename(l,"paragraph"):!s&&l.name!="listItem"?(o.setAttributes({listType:this.type,listIndent:0},l),o.rename(l,"listItem")):!s&&l.name=="listItem"&&l.getAttribute("listType")!=this.type&&o.setAttribute("listType",this.type,l);this.fire("_executeCleanup",r)})}_getValue(){const e=Mn(this.editor.model.document.selection.getSelectedBlocks());return!!e&&e.is("element","listItem")&&e.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,n=Mn(e.getSelectedBlocks());return n?y0(n,t):!1}}function b0(i,e,t){const n=e?i[0]:i[i.length-1];if(n.is("element","listItem")){let r=n[e?"previousSibling":"nextSibling"],s=n.getAttribute("listIndent");for(;r&&r.is("element","listItem")&&r.getAttribute("listIndent")>=t;)s>r.getAttribute("listIndent")&&(s=r.getAttribute("listIndent")),r.getAttribute("listIndent")==s&&i[e?"unshift":"push"](r),r=r[e?"previousSibling":"nextSibling"]}}function y0(i,e){return e.checkChild(i.parent,"listItem")&&!e.isObject(i)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class E0 extends Pt{constructor(e,t){super(e),this._indentBy=t=="forward"?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,t=e.document;let n=Array.from(t.selection.getSelectedBlocks());e.change(r=>{const s=n[n.length-1];let o=s.nextSibling;for(;o&&o.name=="listItem"&&o.getAttribute("listIndent")>s.getAttribute("listIndent");)n.push(o),o=o.nextSibling;this._indentBy<0&&(n=n.reverse());for(const l of n){const u=l.getAttribute("listIndent")+this._indentBy;u<0?r.rename(l,"paragraph"):r.setAttribute("listIndent",u,l)}this.fire("_executeCleanup",n)})}_checkEnabled(){const e=Mn(this.editor.model.document.selection.getSelectedBlocks());if(!e||!e.is("element","listItem"))return!1;if(this._indentBy>0){const t=e.getAttribute("listIndent"),n=e.getAttribute("listType");let r=e.previousSibling;for(;r&&r.is("element","listItem")&&r.getAttribute("listIndent")>=t;){if(r.getAttribute("listIndent")==t)return r.getAttribute("listType")==n;r=r.previousSibling}return!1}return!0}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Aj(i){const e=i.createContainerElement("li");return e.getFillerOffset=Mj,e}function Pj(i,e){const t=e.mapper,n=e.writer,r=i.getAttribute("listType")=="numbered"?"ol":"ul",s=Aj(n),o=n.createContainerElement(r,null);return n.insert(n.createPositionAt(o,0),s),t.bindElements(i,s),s}function ES(i,e,t,n){const r=e.parent,s=t.mapper,o=t.writer;let l=s.toViewPosition(n.createPositionBefore(i));const u=Go(i.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:i.getAttribute("listIndent")}),h=i.previousSibling;if(u&&u.getAttribute("listIndent")==i.getAttribute("listIndent")){const f=s.toViewElement(u);l=o.breakContainer(o.createPositionAfter(f))}else if(h&&h.name=="listItem"){l=s.toViewPosition(n.createPositionAt(h,"end"));const f=s.findMappedViewAncestor(l),m=Ij(f);m?l=o.createPositionBefore(m):l=o.createPositionAt(f,"end")}else l=s.toViewPosition(n.createPositionBefore(i));if(l=CS(l),o.insert(l,r),h&&h.name=="listItem"){const f=s.toViewElement(h),v=o.createRange(o.createPositionAt(f,0),l).getWalker({ignoreElementEnd:!0});for(const C of v)if(C.item.is("element","li")){const k=o.breakContainer(o.createPositionBefore(C.item)),S=C.item.parent,x=o.createPositionAt(e,"end");Ai(o,x.nodeBefore,x.nodeAfter),o.move(o.createRangeOn(S),x),v._position=k}}else{const f=r.nextSibling;if(f&&(f.is("element","ul")||f.is("element","ol"))){let m=null;for(const v of f.getChildren()){const C=s.toModelElement(v);if(C&&C.getAttribute("listIndent")>i.getAttribute("listIndent"))m=v;else break}m&&(o.breakContainer(o.createPositionAfter(m)),o.move(o.createRangeOn(m.parent),o.createPositionAt(e,"end")))}}Ai(o,r,r.nextSibling),Ai(o,r.previousSibling,r)}function Ai(i,e,t){return!e||!t||e.name!="ul"&&e.name!="ol"||e.name!=t.name||e.getAttribute("class")!==t.getAttribute("class")?null:i.mergeContainers(i.createPositionAfter(e))}function CS(i){return i.getLastMatchingPosition(e=>e.item.is("uiElement"))}function Go(i,e){const t=!!e.sameIndent,n=!!e.smallerIndent,r=e.listIndent;let s=i;for(;s&&s.name=="listItem";){const o=s.getAttribute("listIndent");if(t&&r==o||n&&r>o)return s;e.direction==="forward"?s=s.nextSibling:s=s.previousSibling}return null}function C0(i,e,t,n){i.ui.componentFactory.add(e,r=>{const s=i.commands.get(e),o=new At(r);return o.set({label:t,icon:n,tooltip:!0,isToggleable:!0}),o.bind("isOn","isEnabled").to(s,"value","isEnabled"),o.on("execute",()=>{i.execute(e),i.editing.view.focus()}),o})}function Ij(i){for(const e of i.getChildren())if(e.name=="ul"||e.name=="ol")return e;return null}function Md(i,e){const t=[],n=i.parent,r={ignoreElementEnd:!1,startPosition:i,shallow:!0,direction:e},s=n.getAttribute("listIndent"),o=[...new ir(r)].filter(l=>l.item.is("element")).map(l=>l.item);for(const l of o){if(!l.is("element","listItem")||l.getAttribute("listIndent")<s)break;if(!(l.getAttribute("listIndent")>s)){if(l.getAttribute("listType")!==n.getAttribute("listType")||l.getAttribute("listStyle")!==n.getAttribute("listStyle")||l.getAttribute("listReversed")!==n.getAttribute("listReversed")||l.getAttribute("listStart")!==n.getAttribute("listStart"))break;e==="backward"?t.unshift(l):t.push(l)}}return t}function yh(i){let t=[...i.document.selection.getSelectedBlocks()].filter(n=>n.is("element","listItem")).map(n=>{const r=i.change(s=>s.createPositionAt(n,0));return[...Md(r,"backward"),...Md(r,"forward")]}).flat();return t=[...new Set(t)],t}const Rj=["disc","circle","square"],Oj=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function SS(i){return Rj.includes(i)?"bulleted":Oj.includes(i)?"numbered":null}function Mj(){const i=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");return this.isEmpty||i?0:kE.call(this)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Nj extends fe{static get pluginName(){return"ListUtils"}getListTypeFromListStyleType(e){return SS(e)}getSelectedListItems(e){return yh(e)}getSiblingNodes(e,t){return Md(e,t)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function S0(i){return(e,t,n)=>{const r=n.consumable;if(!r.test(t.item,"insert")||!r.test(t.item,"attribute:listType")||!r.test(t.item,"attribute:listIndent"))return;r.consume(t.item,"insert"),r.consume(t.item,"attribute:listType"),r.consume(t.item,"attribute:listIndent");const s=t.item,o=Pj(s,n);ES(s,o,n,i)}}function Dj(i){return(e,t,n)=>{const o=n.mapper.toViewPosition(t.position).getLastMatchingPosition(C=>!C.item.is("element","li")).nodeAfter,l=n.writer;l.breakContainer(l.createPositionBefore(o)),l.breakContainer(l.createPositionAfter(o));const u=o.parent,h=u.previousSibling,f=l.createRangeOn(u),m=l.remove(f);h&&h.nextSibling&&Ai(l,h,h.nextSibling);const v=n.mapper.toModelElement(o);TS(v.getAttribute("listIndent")+1,t.position,f.start,o,n,i);for(const C of l.createRangeIn(m).getItems())n.mapper.unbindViewElement(C);e.stop()}}const Bj=(i,e,t)=>{if(!t.consumable.test(e.item,i.name))return;const n=t.mapper.toViewElement(e.item),r=t.writer;r.breakContainer(r.createPositionBefore(n)),r.breakContainer(r.createPositionAfter(n));const s=n.parent,o=e.attributeNewValue=="numbered"?"ol":"ul";r.rename(o,s)},Vj=(i,e,t)=>{t.consumable.consume(e.item,i.name);const r=t.mapper.toViewElement(e.item).parent,s=t.writer;Ai(s,r,r.nextSibling),Ai(s,r.previousSibling,r)};function Lj(i){return(e,t,n)=>{if(!n.consumable.consume(t.item,"attribute:listIndent"))return;const r=n.mapper.toViewElement(t.item),s=n.writer;s.breakContainer(s.createPositionBefore(r)),s.breakContainer(s.createPositionAfter(r));const o=r.parent,l=o.previousSibling,u=s.createRangeOn(o);s.remove(u),l&&l.nextSibling&&Ai(s,l,l.nextSibling),TS(t.attributeOldValue+1,t.range.start,u.start,r,n,i),ES(t.item,r,n,i);for(const h of t.item.getChildren())n.consumable.consume(h,"insert")}}const T0=(i,e,t)=>{if(t.consumable.test(e.item,i.name)&&e.item.name!="listItem"){let n=t.mapper.toViewPosition(e.range.start);const r=t.writer,s=[];for(;(n.parent.name=="ul"||n.parent.name=="ol")&&(n=r.breakContainer(n),n.parent.name=="li");){const o=n,l=r.createPositionAt(n.parent,"end");if(!o.isEqual(l)){const u=r.remove(r.createRange(o,l));s.push(u)}n=r.createPositionAfter(n.parent)}if(s.length>0){for(let o=0;o<s.length;o++){const l=n.nodeBefore;if(n=r.insert(n,s[o]).end,o>0){const h=Ai(r,l,l.nextSibling);h&&h.parent==l&&n.offset--}}Ai(r,n.nodeBefore,n.nodeAfter)}}},Fj=(i,e,t)=>{const n=t.mapper.toViewPosition(e.position),r=n.nodeBefore,s=n.nodeAfter;Ai(t.writer,r,s)},$j=(i,e,t)=>{if(t.consumable.consume(e.viewItem,{name:!0})){const n=t.writer,r=n.createElement("listItem"),s=Kj(e.viewItem);n.setAttribute("listIndent",s,r);const o=e.viewItem.parent&&e.viewItem.parent.name=="ol"?"numbered":"bulleted";if(n.setAttribute("listType",o,r),!t.safeInsert(r,e.modelCursor))return;const l=Hj(r,e.viewItem.getChildren(),t);e.modelRange=n.createRange(e.modelCursor,l),t.updateConversionResult(r,e)}},x0=(i,e,t)=>{if(t.consumable.test(e.viewItem,{name:!0})){const n=Array.from(e.viewItem.getChildren());for(const r of n)!(r.is("element","li")||Yo(r))&&r._remove()}},zj=(i,e,t)=>{if(t.consumable.test(e.viewItem,{name:!0})){if(e.viewItem.childCount===0)return;const n=[...e.viewItem.getChildren()];let r=!1;for(const s of n)r&&!Yo(s)&&s._remove(),Yo(s)&&(r=!0)}};function k0(i){return(e,t)=>{if(t.isPhantom)return;const n=t.modelPosition.nodeBefore;if(n&&n.is("element","listItem")){const r=t.mapper.toViewElement(n),s=r.getAncestors().find(Yo),o=i.createPositionAt(r,0).getWalker();for(const l of o)if(l.type=="elementStart"&&l.item.is("element","li")){t.viewPosition=l.previousPosition;break}else if(l.type=="elementEnd"&&l.item==s){t.viewPosition=l.nextPosition;break}}}}function Wj(i){return(e,t)=>{const n=t.viewPosition,r=n.parent,s=t.mapper;if(r.name=="ul"||r.name=="ol"){if(n.isAtEnd){const o=s.toModelElement(n.nodeBefore),l=s.getModelLength(n.nodeBefore);t.modelPosition=i.createPositionBefore(o).getShiftedBy(l)}else{const o=s.toModelElement(n.nodeAfter);t.modelPosition=i.createPositionBefore(o)}e.stop()}else if(r.name=="li"&&n.nodeBefore&&(n.nodeBefore.name=="ul"||n.nodeBefore.name=="ol")){const o=s.toModelElement(r);let l=1,u=n.nodeBefore;for(;u&&Yo(u);)l+=s.getModelLength(u),u=u.previousSibling;t.modelPosition=i.createPositionBefore(o).getShiftedBy(l),e.stop()}}}function jj(i,e){const t=i.document.differ.getChanges(),n=new Map;let r=!1;for(const u of t)if(u.type=="insert"&&u.name=="listItem")s(u.position);else if(u.type=="insert"&&u.name!="listItem"){if(u.name!="$text"){const f=u.position.nodeAfter;f.hasAttribute("listIndent")&&(e.removeAttribute("listIndent",f),r=!0),f.hasAttribute("listType")&&(e.removeAttribute("listType",f),r=!0),f.hasAttribute("listStyle")&&(e.removeAttribute("listStyle",f),r=!0),f.hasAttribute("listReversed")&&(e.removeAttribute("listReversed",f),r=!0),f.hasAttribute("listStart")&&(e.removeAttribute("listStart",f),r=!0);for(const m of Array.from(i.createRangeIn(f)).filter(v=>v.item.is("element","listItem")))s(m.previousPosition)}const h=u.position.getShiftedBy(u.length);s(h)}else u.type=="remove"&&u.name=="listItem"?s(u.position):(u.type=="attribute"&&u.attributeKey=="listIndent"||u.type=="attribute"&&u.attributeKey=="listType")&&s(u.range.start);for(const u of n.values())o(u),l(u);return r;function s(u){const h=u.nodeBefore;if(!h||!h.is("element","listItem")){const f=u.nodeAfter;f&&f.is("element","listItem")&&n.set(f,f)}else{let f=h;if(n.has(f))return;for(let m=f.previousSibling;m&&m.is("element","listItem");m=f.previousSibling)if(f=m,n.has(f))return;n.set(h,f)}}function o(u){let h=0,f=null;for(;u&&u.is("element","listItem");){const m=u.getAttribute("listIndent");if(m>h){let v;f===null?(f=m-h,v=h):(f>m&&(f=m),v=m-f),e.setAttribute("listIndent",v,u),r=!0}else f=null,h=u.getAttribute("listIndent")+1;u=u.nextSibling}}function l(u){let h=[],f=null;for(;u&&u.is("element","listItem");){const m=u.getAttribute("listIndent");if(f&&f.getAttribute("listIndent")>m&&(h=h.slice(0,m+1)),m!=0)if(h[m]){const v=h[m];u.getAttribute("listType")!=v&&(e.setAttribute("listType",v,u),r=!0)}else h[m]=u.getAttribute("listType");f=u,u=u.nextSibling}}}const Uj=function(i,[e,t]){const n=this;let r=e.is("documentFragment")?e.getChild(0):e,s;if(t?s=n.createSelection(t):s=n.document.selection,r&&r.is("element","listItem")){const o=s.getFirstPosition();let l=null;if(o.parent.is("element","listItem")?l=o.parent:o.nodeBefore&&o.nodeBefore.is("element","listItem")&&(l=o.nodeBefore),l){const u=l.getAttribute("listIndent");if(u>0)for(;r&&r.is("element","listItem");)r._setAttribute("listIndent",r.getAttribute("listIndent")+u),r=r.nextSibling}}};function Hj(i,e,t){const{writer:n,schema:r}=t;let s=n.createPositionAfter(i);for(const o of e)if(o.name=="ul"||o.name=="ol")s=t.convertItem(o,s).modelCursor;else{const l=t.convertItem(o,n.createPositionAt(i,"end")),u=l.modelRange.start.nodeAfter;u&&u.is("element")&&!r.checkChild(i,u.name)&&(l.modelCursor.parent.is("element","listItem")?i=l.modelCursor.parent:i=qj(l.modelCursor),s=n.createPositionAfter(i))}return s}function qj(i){const e=new ir({startPosition:i});let t;do t=e.next();while(!t.value.item.is("element","listItem"));return t.value.item}function TS(i,e,t,n,r,s){const o=Go(e.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:i}),l=r.mapper,u=r.writer,h=o?o.getAttribute("listIndent"):null;let f;if(!o)f=t;else if(h==i){const m=l.toViewElement(o).parent;f=u.createPositionAfter(m)}else{const m=s.createPositionAt(o,"end");f=l.toViewPosition(m)}f=CS(f);for(const m of[...n.getChildren()])Yo(m)&&(f=u.move(u.createRangeOn(m),f).end,Ai(u,m,m.nextSibling),Ai(u,m.previousSibling,m))}function Yo(i){return i.is("element","ol")||i.is("element","ul")}function Kj(i){let e=0,t=i.parent;for(;t;){if(t.is("element","li"))e++;else{const n=t.previousSibling;n&&n.is("element","li")&&e++}t=t.parent}return e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class xS extends fe{static get pluginName(){return"ListEditing"}static get requires(){return[Tp,ia,Nj]}init(){const e=this.editor;e.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const t=e.data,n=e.editing;e.model.document.registerPostFixer(s=>jj(e.model,s)),n.mapper.registerViewToModelLength("li",xg),t.mapper.registerViewToModelLength("li",xg),n.mapper.on("modelToViewPosition",k0(n.view)),n.mapper.on("viewToModelPosition",Wj(e.model)),t.mapper.on("modelToViewPosition",k0(n.view)),e.conversion.for("editingDowncast").add(s=>{s.on("insert",T0,{priority:"high"}),s.on("insert:listItem",S0(e.model)),s.on("attribute:listType:listItem",Bj,{priority:"high"}),s.on("attribute:listType:listItem",Vj,{priority:"low"}),s.on("attribute:listIndent:listItem",Lj(e.model)),s.on("remove:listItem",Dj(e.model)),s.on("remove",Fj,{priority:"low"})}),e.conversion.for("dataDowncast").add(s=>{s.on("insert",T0,{priority:"high"}),s.on("insert:listItem",S0(e.model))}),e.conversion.for("upcast").add(s=>{s.on("element:ul",x0,{priority:"high"}),s.on("element:ol",x0,{priority:"high"}),s.on("element:li",zj,{priority:"high"}),s.on("element:li",$j)}),e.model.on("insertContent",Uj,{priority:"high"}),e.commands.add("numberedList",new w0(e,"numbered")),e.commands.add("bulletedList",new w0(e,"bulleted")),e.commands.add("indentList",new E0(e,"forward")),e.commands.add("outdentList",new E0(e,"backward"));const r=n.view.document;this.listenTo(r,"enter",(s,o)=>{const l=this.editor.model.document,u=l.selection.getLastPosition().parent;l.selection.isCollapsed&&u.name=="listItem"&&u.isEmpty&&(this.editor.execute("outdentList"),o.preventDefault(),s.stop())},{context:"li"}),this.listenTo(r,"delete",(s,o)=>{if(o.direction!=="backward")return;const l=this.editor.model.document.selection;if(!l.isCollapsed)return;const u=l.getFirstPosition();if(!u.isAtStart)return;const h=u.parent;h.name!=="listItem"||h.previousSibling&&h.previousSibling.name==="listItem"||(this.editor.execute("outdentList"),o.preventDefault(),s.stop())},{context:"li"}),this.listenTo(e.editing.view.document,"tab",(s,o)=>{const l=o.shiftKey?"outdentList":"indentList";this.editor.commands.get(l).isEnabled&&(e.execute(l),o.stopPropagation(),o.preventDefault(),s.stop())},{context:"li"})}afterInit(){const e=this.editor.commands,t=e.get("indent"),n=e.get("outdent");t&&t.registerChildCommand(e.get("indentList")),n&&n.registerChildCommand(e.get("outdentList"))}}function xg(i){let e=1;for(const t of i.getChildren())if(t.name=="ul"||t.name=="ol")for(const n of t.getChildren())e+=xg(n);return e}const kS='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',AS='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Gj extends fe{static get pluginName(){return"ListUI"}init(){const e=this.editor.t;C0(this.editor,"numberedList",e("Numbered List"),kS),C0(this.editor,"bulletedList",e("Bulleted List"),AS)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Yj extends fe{static get requires(){return[xS,Gj]}static get pluginName(){return"List"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Jj extends Pt{constructor(e,t){super(e),this.defaultType=t}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){this._tryToConvertItemsToList(e);const t=this.editor.model,n=yh(t);n.length&&t.change(r=>{for(const s of n)r.setAttribute("listStyle",e.type||this.defaultType,s)})}_getValue(){const e=this.editor.model.document.selection.getFirstPosition().parent;return e&&e.is("element","listItem")?e.getAttribute("listStyle"):null}_checkEnabled(){const e=this.editor,t=e.commands.get("numberedList"),n=e.commands.get("bulletedList");return t.isEnabled||n.isEnabled}_tryToConvertItemsToList(e){if(!e.type)return;const t=SS(e.type);if(!t)return;const n=this.editor,r=`${t}List`;n.commands.get(r).value||n.execute(r)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Xj extends Pt{refresh(){const e=this._getValue();this.value=e,this.isEnabled=e!=null}execute(e={}){const t=this.editor.model,n=yh(t).filter(r=>r.getAttribute("listType")=="numbered");t.change(r=>{for(const s of n)r.setAttribute("listReversed",!!e.reversed,s)})}_getValue(){const e=this.editor.model.document.selection.getFirstPosition().parent;return e&&e.is("element","listItem")&&e.getAttribute("listType")=="numbered"?e.getAttribute("listReversed"):null}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Zj extends Pt{refresh(){const e=this._getValue();this.value=e,this.isEnabled=e!=null}execute({startIndex:e=1}={}){const t=this.editor.model,n=yh(t).filter(r=>r.getAttribute("listType")=="numbered");t.change(r=>{for(const s of n)r.setAttribute("listStart",e>=0?e:1,s)})}_getValue(){const e=this.editor.model.document.selection.getFirstPosition().parent;return e&&e.is("element","listItem")&&e.getAttribute("listType")=="numbered"?e.getAttribute("listStart"):null}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Gu="default";class Qj extends fe{static get requires(){return[xS]}static get pluginName(){return"ListPropertiesEditing"}constructor(e){super(e),e.config.define("list",{properties:{styles:!0,startIndex:!1,reversed:!1}})}init(){const e=this.editor,t=e.model,n=e.config.get("list.properties"),r=eU(n);t.schema.extend("listItem",{allowAttributes:r.map(s=>s.attributeName)});for(const s of r)s.addCommand(e);this.listenTo(e.commands.get("indentList"),"_executeCleanup",iU(e,r)),this.listenTo(e.commands.get("outdentList"),"_executeCleanup",rU(e,r)),this.listenTo(e.commands.get("bulletedList"),"_executeCleanup",A0(e)),this.listenTo(e.commands.get("numberedList"),"_executeCleanup",A0(e)),t.document.registerPostFixer(sU(e,r)),e.conversion.for("upcast").add(tU(r)),e.conversion.for("downcast").add(nU(r)),this._mergeListAttributesWhileMergingLists(r)}afterInit(){const e=this.editor;e.commands.get("todoList")&&e.model.document.registerPostFixer(lU(e))}_mergeListAttributesWhileMergingLists(e){const n=this.editor.model;let r;this.listenTo(n,"deleteContent",(s,[o])=>{const l=o.getFirstPosition(),u=o.getLastPosition();if(l.parent===u.parent||!l.parent.is("element","listItem"))return;const h=u.parent.nextSibling;if(!h||!h.is("element","listItem"))return;const f=Go(l.parent,{sameIndent:!0,listIndent:h.getAttribute("listIndent")});f&&f.getAttribute("listType")===h.getAttribute("listType")&&(r=f)},{priority:"high"}),this.listenTo(n,"deleteContent",()=>{r&&(n.change(s=>{const o=Go(r.nextSibling,{sameIndent:!0,listIndent:r.getAttribute("listIndent"),direction:"forward"});if(!o){r=null;return}const l=[o,...Md(s.createPositionAt(o,0),"forward")];for(const u of l)for(const h of e)if(h.appliesToListItem(u)){const f=h.attributeName,m=r.getAttribute(f);s.setAttribute(f,m,u)}}),r=null)},{priority:"low"})}}function eU(i){const e=[];return i.styles&&e.push({attributeName:"listStyle",defaultValue:Gu,addCommand(t){t.commands.add("listStyle",new Jj(t,Gu))},appliesToListItem(){return!0},setAttributeOnDowncast(t,n,r){n&&n!==Gu?t.setStyle("list-style-type",n,r):t.removeStyle("list-style-type",r)},getAttributeOnUpcast(t){return t.getStyle("list-style-type")||Gu}}),i.reversed&&e.push({attributeName:"listReversed",defaultValue:!1,addCommand(t){t.commands.add("listReversed",new Xj(t))},appliesToListItem(t){return t.getAttribute("listType")=="numbered"},setAttributeOnDowncast(t,n,r){n?t.setAttribute("reversed","reversed",r):t.removeAttribute("reversed",r)},getAttributeOnUpcast(t){return t.hasAttribute("reversed")}}),i.startIndex&&e.push({attributeName:"listStart",defaultValue:1,addCommand(t){t.commands.add("listStart",new Zj(t))},appliesToListItem(t){return t.getAttribute("listType")=="numbered"},setAttributeOnDowncast(t,n,r){n==0||n>1?t.setAttribute("start",n,r):t.removeAttribute("start",r)},getAttributeOnUpcast(t){const n=t.getAttribute("start");return n>=0?n:1}}),e}function tU(i){return e=>{e.on("element:li",(t,n,r)=>{if(!n.modelRange)return;const s=n.viewItem.parent,o=n.modelRange.start.nodeAfter||n.modelRange.end.nodeBefore;for(const l of i)if(l.appliesToListItem(o)){const u=l.getAttributeOnUpcast(s);r.writer.setAttribute(l.attributeName,u,o)}},{priority:"low"})}}function nU(i){return t=>{for(const n of i)t.on(`attribute:${n.attributeName}:listItem`,(r,s,o)=>{const l=o.writer,u=s.item,h=Go(u.previousSibling,{sameIndent:!0,listIndent:u.getAttribute("listIndent"),direction:"backward"}),f=o.mapper.toViewElement(u);e(u,h)||l.breakContainer(l.createPositionBefore(f)),n.setAttributeOnDowncast(l,s.attributeNewValue,f.parent)},{priority:"low"})};function e(t,n){return n&&t.getAttribute("listType")===n.getAttribute("listType")&&t.getAttribute("listIndent")===n.getAttribute("listIndent")&&t.getAttribute("listStyle")===n.getAttribute("listStyle")&&t.getAttribute("listReversed")===n.getAttribute("listReversed")&&t.getAttribute("listStart")===n.getAttribute("listStart")}}function iU(i,e){return(t,n)=>{const r=n[0],s=r.getAttribute("listIndent"),o=n.filter(u=>u.getAttribute("listIndent")===s);let l=null;r.previousSibling.getAttribute("listIndent")+1!==s&&(l=Go(r.previousSibling,{sameIndent:!0,direction:"backward",listIndent:s})),i.model.change(u=>{for(const h of o)for(const f of e)if(f.appliesToListItem(h)){const m=l==null?f.defaultValue:l.getAttribute(f.attributeName);u.setAttribute(f.attributeName,m,h)}})}}function rU(i,e){return(t,n)=>{if(n=n.reverse().filter(l=>l.is("element","listItem")),!n.length)return;const r=n[0].getAttribute("listIndent"),s=n[0].getAttribute("listType");let o=n[0].previousSibling;if(o.is("element","listItem"))for(;o.getAttribute("listIndent")!==r;)o=o.previousSibling;else o=null;o||(o=n[n.length-1].nextSibling),!(!o||!o.is("element","listItem"))&&o.getAttribute("listType")===s&&i.model.change(l=>{const u=n.filter(h=>h.getAttribute("listIndent")===r);for(const h of u)for(const f of e)if(f.appliesToListItem(h)){const m=f.attributeName,v=o.getAttribute(m);l.setAttribute(m,v,h)}})}}function sU(i,e){return t=>{let n=!1;const r=PS(i.model.document.differ.getChanges()).filter(o=>o.getAttribute("listType")!=="todo");if(!r.length)return n;let s=r[r.length-1].nextSibling;if((!s||!s.is("element","listItem"))&&(s=r[0].previousSibling,s)){const o=r[0].getAttribute("listIndent");for(;s.is("element","listItem")&&s.getAttribute("listIndent")!==o&&(s=s.previousSibling,!!s););}for(const o of e){const l=o.attributeName;for(const u of r){if(!o.appliesToListItem(u)){t.removeAttribute(l,u);continue}if(!u.hasAttribute(l))oU(s,u,o)?t.setAttribute(l,s.getAttribute(l),u):t.setAttribute(l,o.defaultValue,u),n=!0;else{const h=u.previousSibling;aU(h,u,o.attributeName)&&(t.setAttribute(l,h.getAttribute(l),u),n=!0)}}}return n}}function oU(i,e,t){if(!i)return!1;const n=i.getAttribute(t.attributeName);return!(!n||n==t.defaultValue||i.getAttribute("listType")!==e.getAttribute("listType"))}function aU(i,e,t){if(!i||!i.is("element","listItem")||e.getAttribute("listType")!==i.getAttribute("listType"))return!1;const n=i.getAttribute("listIndent");if(n<1||n!==e.getAttribute("listIndent"))return!1;const r=i.getAttribute(t);return!(!r||r===e.getAttribute(t))}function lU(i){return e=>{const t=PS(i.model.document.differ.getChanges()).filter(n=>n.getAttribute("listType")==="todo"&&(n.hasAttribute("listStyle")||n.hasAttribute("listReversed")||n.hasAttribute("listStart")));if(!t.length)return!1;for(const n of t)e.removeAttribute("listStyle",n),e.removeAttribute("listReversed",n),e.removeAttribute("listStart",n);return!0}}function A0(i){return(e,t)=>{t=t.filter(n=>n.is("element","listItem")),i.model.change(n=>{for(const r of t)n.removeAttribute("listStyle",r)})}}function PS(i){const e=[];for(const t of i){const n=cU(t);n&&n.is("element","listItem")&&e.push(n)}return e}function cU(i){return i.type==="attribute"?i.range.start.nodeAfter:i.type==="insert"?i.position.nodeAfter:null}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class uU extends Xe{constructor(e,t){super(e);const n=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid",void 0),t&&this.children.addMany(t),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",n.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:n.if("isCollapsed","hidden"),"aria-labelledby":n.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}_createButtonView(){const e=new At(this.locale),t=e.bindTemplate;return e.set({withText:!0,icon:bp}),e.extendTemplate({attributes:{"aria-expanded":t.to("isOn",n=>String(n))}}),e.bind("label").to(this),e.bind("isOn").to(this,"isCollapsed",n=>!n),e.on("execute",()=>{this.isCollapsed=!this.isCollapsed}),e}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class dU extends Xe{constructor(e,{enabledProperties:t,styleButtonViews:n,styleGridAriaLabel:r}){super(e),this.stylesView=null,this.additionalPropertiesCollapsibleView=null,this.startIndexFieldView=null,this.reversedSwitchButtonView=null,this.focusTracker=new fi,this.keystrokes=new cr,this.focusables=new cs;const s=["ck","ck-list-properties"];this.children=this.createCollection(),this.focusCycler=new ta({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),t.styles?(this.stylesView=this._createStylesView(n,r),this.children.add(this.stylesView)):s.push("ck-list-properties_without-styles"),(t.startIndex||t.reversed)&&(this._addNumberedListPropertyViews(t),s.push("ck-list-properties_with-numbered-properties")),this.setTemplate({tag:"div",attributes:{class:s},children:this.children})}render(){if(super.render(),this.stylesView){this.focusables.add(this.stylesView),this.focusTracker.add(this.stylesView.element),(this.startIndexFieldView||this.reversedSwitchButtonView)&&(this.focusables.add(this.children.last.buttonView),this.focusTracker.add(this.children.last.buttonView.element));for(const e of this.stylesView.children)this.stylesView.focusTracker.add(e.element);ZF({keystrokeHandler:this.stylesView.keystrokes,focusTracker:this.stylesView.focusTracker,gridItems:this.stylesView.children,numberOfColumns:()=>Ke.window.getComputedStyle(this.stylesView.element).getPropertyValue("grid-template-columns").split(" ").length,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}if(this.startIndexFieldView){this.focusables.add(this.startIndexFieldView),this.focusTracker.add(this.startIndexFieldView.element),this.listenTo(this.startIndexFieldView.element,"selectstart",(t,n)=>{n.stopPropagation()},{priority:"high"});const e=t=>t.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}this.reversedSwitchButtonView&&(this.focusables.add(this.reversedSwitchButtonView),this.focusTracker.add(this.reversedSwitchButtonView.element)),this.keystrokes.listenTo(this.element)}focus(){this.focusCycler.focusFirst()}focusLast(){this.focusCycler.focusLast()}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createStylesView(e,t){const n=new Xe(this.locale);return n.children=n.createCollection(),n.children.addMany(e),n.setTemplate({tag:"div",attributes:{"aria-label":t,class:["ck","ck-list-styles-list"]},children:n.children}),n.children.delegate("execute").to(this),n.focus=function(){this.children.first.focus()},n.focusTracker=new fi,n.keystrokes=new cr,n.render(),n.keystrokes.listenTo(n.element),n}_addNumberedListPropertyViews(e){const t=this.locale.t,n=[];e.startIndex&&(this.startIndexFieldView=this._createStartIndexField(),n.push(this.startIndexFieldView)),e.reversed&&(this.reversedSwitchButtonView=this._createReversedSwitchButton(),n.push(this.reversedSwitchButtonView)),e.styles?(this.additionalPropertiesCollapsibleView=new uU(this.locale,n),this.additionalPropertiesCollapsibleView.set({label:t("List properties"),isCollapsed:!0}),this.additionalPropertiesCollapsibleView.buttonView.bind("isEnabled").toMany(n,"isEnabled",(...r)=>r.some(s=>s)),this.additionalPropertiesCollapsibleView.buttonView.on("change:isEnabled",(r,s,o)=>{o||(this.additionalPropertiesCollapsibleView.isCollapsed=!0)}),this.children.add(this.additionalPropertiesCollapsibleView)):this.children.addMany(n)}_createStartIndexField(){const e=this.locale.t,t=new Cp(this.locale,N9);return t.set({label:e("Start at"),class:"ck-numbered-list-properties__start-index"}),t.fieldView.set({min:0,step:1,value:1,inputMode:"numeric"}),t.fieldView.on("input",()=>{const n=t.fieldView.element,r=n.valueAsNumber;Number.isNaN(r)||(n.checkValidity()?this.fire("listStart",{startIndex:r}):t.errorText=e("Start index must be greater than 0."))}),t}_createReversedSwitchButton(){const e=this.locale.t,t=new hh(this.locale);return t.set({withText:!0,label:e("Reversed order"),class:"ck-numbered-list-properties__reversed-order"}),t.delegate("execute").to(this,"listReversed"),t}}const hU='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11 27a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0-9a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0-9a3 3 0 1 1 0 6 3 3 0 0 1 0-6z"/></svg>',fU='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11 27a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm0-10a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm0-10a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"/></svg>',mU='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M14 27v6H8v-6h6zm0-9v6H8v-6h6zm0-9v6H8V9h6z"/></svg>',gU='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M10.29 15V8.531H9.286c-.14.393-.4.736-.778 1.03-.378.295-.728.495-1.05.6v1.121a4.257 4.257 0 0 0 1.595-.936V15h1.235zm3.343 0v-1.235h-1.235V15h1.235zM11.3 24v-1.147H8.848c.064-.111.148-.226.252-.343.104-.117.351-.354.74-.712.39-.357.66-.631.81-.821.225-.288.39-.562.494-.824.104-.263.156-.539.156-.829 0-.51-.182-.936-.545-1.279-.363-.342-.863-.514-1.499-.514-.58 0-1.063.148-1.45.444-.387.296-.617.784-.69 1.463l1.23.124c.024-.36.112-.619.264-.774.153-.155.358-.233.616-.233.26 0 .465.074.613.222.148.148.222.36.222.635 0 .25-.085.501-.255.756-.126.185-.468.536-1.024 1.055-.692.641-1.155 1.156-1.389 1.544-.234.389-.375.8-.422 1.233H11.3zm2.333 0v-1.235h-1.235V24h1.235zM9.204 34.11c.615 0 1.129-.2 1.542-.598.413-.398.62-.88.62-1.446 0-.39-.11-.722-.332-.997a1.5 1.5 0 0 0-.886-.532c.619-.337.928-.788.928-1.353 0-.399-.151-.756-.453-1.073-.366-.386-.852-.58-1.459-.58a2.25 2.25 0 0 0-.96.2 1.617 1.617 0 0 0-.668.55c-.16.232-.28.544-.358.933l1.138.194c.032-.282.123-.495.272-.642.15-.146.33-.22.54-.22.215 0 .386.065.515.194s.193.302.193.518c0 .255-.087.46-.263.613-.176.154-.43.227-.765.218l-.136 1.006c.22-.061.409-.092.567-.092.24 0 .444.09.61.272.168.182.251.428.251.739 0 .328-.087.589-.261.782a.833.833 0 0 1-.644.29.841.841 0 0 1-.607-.242c-.167-.16-.27-.394-.307-.698l-1.196.145c.062.542.285.98.668 1.316.384.335.868.503 1.45.503zm4.43-.11v-1.235h-1.236V34h1.235z"/></svg>',pU='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M5.714 15.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm6.078.914V8.531H10.79c-.14.393-.4.736-.778 1.03-.378.295-.728.495-1.05.6v1.121a4.257 4.257 0 0 0 1.595-.936V15h1.235zm3.344 0v-1.235h-1.235V15h1.235zm-9.422 9.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm7.088.914v-1.147H10.35c.065-.111.149-.226.253-.343.104-.117.35-.354.74-.712.39-.357.66-.631.81-.821.225-.288.39-.562.493-.824.104-.263.156-.539.156-.829 0-.51-.181-.936-.544-1.279-.364-.342-.863-.514-1.499-.514-.58 0-1.063.148-1.45.444-.387.296-.617.784-.69 1.463l1.23.124c.024-.36.112-.619.264-.774.152-.155.357-.233.615-.233.261 0 .465.074.613.222.148.148.222.36.222.635 0 .25-.085.501-.255.756-.126.185-.467.536-1.024 1.055-.691.641-1.154 1.156-1.388 1.544-.235.389-.375.8-.422 1.233h4.328zm2.334 0v-1.235h-1.235V24h1.235zM5.714 34.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm4.992 1.024c.616 0 1.13-.2 1.543-.598.413-.398.62-.88.62-1.446 0-.39-.111-.722-.332-.997a1.5 1.5 0 0 0-.886-.532c.618-.337.927-.788.927-1.353 0-.399-.15-.756-.452-1.073-.366-.386-.853-.58-1.46-.58a2.25 2.25 0 0 0-.96.2 1.617 1.617 0 0 0-.667.55c-.16.232-.28.544-.359.933l1.139.194c.032-.282.123-.495.272-.642.15-.146.33-.22.54-.22.214 0 .386.065.515.194s.193.302.193.518c0 .255-.088.46-.264.613-.175.154-.43.227-.764.218l-.136 1.006c.22-.061.408-.092.566-.092.24 0 .444.09.611.272.167.182.25.428.25.739 0 .328-.086.589-.26.782a.833.833 0 0 1-.644.29.841.841 0 0 1-.607-.242c-.167-.16-.27-.394-.308-.698l-1.195.145c.062.542.284.98.668 1.316.384.335.867.503 1.45.503zm4.43-.11v-1.235h-1.235V34h1.235z"/></svg>',_U='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11.88 8.7V7.558h-1.234V8.7h1.234zm0 5.3V9.333h-1.234V14h1.234zm2.5 0v-1.235h-1.234V14h1.235zm-4.75 4.7v-1.142H8.395V18.7H9.63zm0 5.3v-4.667H8.395V24H9.63zm2.5-5.3v-1.142h-1.234V18.7h1.235zm0 5.3v-4.667h-1.234V24h1.235zm2.501 0v-1.235h-1.235V24h1.235zM7.38 28.7v-1.142H6.145V28.7H7.38zm0 5.3v-4.667H6.145V34H7.38zm2.5-5.3v-1.142H8.646V28.7H9.88zm0 5.3v-4.667H8.646V34H9.88zm2.5-5.3v-1.142h-1.234V28.7h1.235zm0 5.3v-4.667h-1.234V34h1.235zm2.501 0v-1.235h-1.235V34h1.235z"/></svg>',vU='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11.916 15V8.558h-1.301V15h1.3zm2.465 0v-1.235h-1.235V15h1.235zM9.665 25v-6.442h-1.3V25h1.3zm2.5 0v-6.442h-1.3V25h1.3zm2.466 0v-1.235h-1.235V25h1.235zm-7.216 9v-6.442h-1.3V34h1.3zm2.5 0v-6.442h-1.3V34h1.3zm2.501 0v-6.442h-1.3V34h1.3zm2.465 0v-1.235h-1.235V34h1.235z"/></svg>',wU='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M9.62 14.105c.272 0 .528-.05.768-.153s.466-.257.677-.462c.009.024.023.072.044.145.047.161.086.283.119.365h1.221a2.649 2.649 0 0 1-.222-.626c-.04-.195-.059-.498-.059-.908l.013-1.441c0-.536-.055-.905-.165-1.105-.11-.201-.3-.367-.569-.497-.27-.13-.68-.195-1.23-.195-.607 0-1.064.108-1.371.325-.308.217-.525.55-.65 1.002l1.12.202c.076-.217.176-.369.299-.455.123-.086.294-.13.514-.13.325 0 .546.05.663.152.118.101.176.27.176.508v.123c-.222.093-.622.194-1.2.303-.427.082-.755.178-.982.288-.227.11-.403.268-.53.474a1.327 1.327 0 0 0-.188.706c0 .398.138.728.415.988.277.261.656.391 1.136.391zm.368-.87a.675.675 0 0 1-.492-.189.606.606 0 0 1-.193-.448c0-.176.08-.32.241-.435.106-.07.33-.142.673-.215a7.19 7.19 0 0 0 .751-.19v.247c0 .296-.016.496-.048.602a.773.773 0 0 1-.295.409 1.07 1.07 0 0 1-.637.22zm4.645.765v-1.235h-1.235V14h1.235zM10.2 25.105c.542 0 1.003-.215 1.382-.646.38-.43.57-1.044.57-1.84 0-.771-.187-1.362-.559-1.774a1.82 1.82 0 0 0-1.41-.617c-.522 0-.973.216-1.354.65v-2.32H7.594V25h1.147v-.686a1.9 1.9 0 0 0 .67.592c.26.133.523.2.79.2zm-.299-.975c-.354 0-.638-.164-.852-.492-.153-.232-.229-.59-.229-1.073 0-.468.098-.818.295-1.048a.93.93 0 0 1 .738-.345c.302 0 .55.118.743.354.193.236.29.62.29 1.154 0 .5-.096.868-.288 1.1-.192.233-.424.35-.697.35zm4.478.87v-1.235h-1.234V25h1.234zm-4.017 9.105c.6 0 1.08-.142 1.437-.426.357-.284.599-.704.725-1.261l-1.213-.207c-.061.326-.167.555-.316.688a.832.832 0 0 1-.576.2.916.916 0 0 1-.75-.343c-.185-.228-.278-.62-.278-1.173 0-.498.091-.853.274-1.066.183-.212.429-.318.736-.318.232 0 .42.061.565.184.145.123.238.306.28.55l1.216-.22c-.146-.501-.387-.874-.722-1.119-.336-.244-.788-.366-1.356-.366-.695 0-1.245.214-1.653.643-.407.43-.61 1.03-.61 1.8 0 .762.202 1.358.608 1.788.406.431.95.646 1.633.646zM14.633 34v-1.235h-1.235V34h1.235z"/></svg>',bU='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="m7.88 15 .532-1.463h2.575L11.549 15h1.415l-2.58-6.442H9.01L6.5 15h1.38zm2.69-2.549H8.811l.87-2.39.887 2.39zM14.88 15v-1.235h-1.234V15h1.234zM9.352 25c.83-.006 1.352-.02 1.569-.044.346-.038.636-.14.872-.305.236-.166.422-.387.558-.664.137-.277.205-.562.205-.855 0-.372-.106-.695-.317-.97-.21-.276-.512-.471-.905-.585a1.51 1.51 0 0 0 .661-.567 1.5 1.5 0 0 0 .244-.83c0-.28-.066-.53-.197-.754a1.654 1.654 0 0 0-.495-.539 1.676 1.676 0 0 0-.672-.266c-.25-.042-.63-.063-1.14-.063H7.158V25h2.193zm.142-3.88H8.46v-1.49h.747c.612 0 .983.007 1.112.022.217.026.38.102.49.226.11.125.165.287.165.486a.68.68 0 0 1-.192.503.86.86 0 0 1-.525.23 11.47 11.47 0 0 1-.944.023h.18zm.17 2.795H8.46v-1.723h1.05c.592 0 .977.03 1.154.092.177.062.313.16.406.295a.84.84 0 0 1 .14.492c0 .228-.06.41-.181.547a.806.806 0 0 1-.473.257c-.126.026-.423.04-.892.04zM14.88 25v-1.235h-1.234V25h1.234zm-5.018 9.11c.691 0 1.262-.17 1.711-.512.45-.341.772-.864.965-1.567l-1.261-.4c-.109.472-.287.818-.536 1.037-.25.22-.547.33-.892.33-.47 0-.85-.173-1.143-.519-.293-.345-.44-.925-.44-1.74 0-.767.15-1.322.447-1.665.297-.343.684-.514 1.162-.514.346 0 .64.096.881.29.242.193.4.457.477.79l1.288-.307c-.147-.516-.367-.911-.66-1.187-.492-.465-1.132-.698-1.92-.698-.902 0-1.63.296-2.184.89-.554.593-.83 1.426-.83 2.498 0 1.014.275 1.813.825 2.397.551.585 1.254.877 2.11.877zM14.88 34v-1.235h-1.234V34h1.234z"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class yU extends fe{static get pluginName(){return"ListPropertiesUI"}init(){const e=this.editor,t=e.locale.t,n=e.config.get("list.properties");n.styles&&e.ui.componentFactory.add("bulletedList",P0({editor:e,parentCommandName:"bulletedList",buttonLabel:t("Bulleted List"),buttonIcon:AS,styleGridAriaLabel:t("Bulleted list styles toolbar"),styleDefinitions:[{label:t("Toggle the disc list style"),tooltip:t("Disc"),type:"disc",icon:hU},{label:t("Toggle the circle list style"),tooltip:t("Circle"),type:"circle",icon:fU},{label:t("Toggle the square list style"),tooltip:t("Square"),type:"square",icon:mU}]})),(n.styles||n.startIndex||n.reversed)&&e.ui.componentFactory.add("numberedList",P0({editor:e,parentCommandName:"numberedList",buttonLabel:t("Numbered List"),buttonIcon:kS,styleGridAriaLabel:t("Numbered list styles toolbar"),styleDefinitions:[{label:t("Toggle the decimal list style"),tooltip:t("Decimal"),type:"decimal",icon:gU},{label:t("Toggle the decimal with leading zero list style"),tooltip:t("Decimal with leading zero"),type:"decimal-leading-zero",icon:pU},{label:t("Toggle the lower–roman list style"),tooltip:t("Lower–roman"),type:"lower-roman",icon:_U},{label:t("Toggle the upper–roman list style"),tooltip:t("Upper-roman"),type:"upper-roman",icon:vU},{label:t("Toggle the lower–latin list style"),tooltip:t("Lower-latin"),type:"lower-latin",icon:wU},{label:t("Toggle the upper–latin list style"),tooltip:t("Upper-latin"),type:"upper-latin",icon:bU}]}))}}function P0({editor:i,parentCommandName:e,buttonLabel:t,buttonIcon:n,styleGridAriaLabel:r,styleDefinitions:s}){const o=i.commands.get(e);return l=>{const u=Gs(l,fh),h=u.buttonView;return u.bind("isEnabled").to(o),u.class="ck-list-styles-dropdown",h.on("execute",()=>{i.execute(e),i.editing.view.focus()}),h.set({label:t,icon:n,tooltip:!0,isToggleable:!0}),h.bind("isOn").to(o,"value",f=>!!f),u.once("change:isOpen",()=>{const f=CU({editor:i,dropdownView:u,parentCommandName:e,styleGridAriaLabel:r,styleDefinitions:s});u.panelView.children.add(f)}),u.on("execute",()=>{i.editing.view.focus()}),u}}function EU({editor:i,listStyleCommand:e,parentCommandName:t}){const n=i.locale,r=i.commands.get(t);return({label:s,type:o,icon:l,tooltip:u})=>{const h=new At(n);return h.set({label:s,icon:l,tooltip:u}),e.on("change:value",()=>{h.isOn=e.value===o}),h.on("execute",()=>{r.value?e.value!==o?i.execute("listStyle",{type:o}):i.execute("listStyle",{type:e.defaultType}):i.model.change(()=>{i.execute("listStyle",{type:o})})}),h}}function CU({editor:i,dropdownView:e,parentCommandName:t,styleDefinitions:n,styleGridAriaLabel:r}){const s=i.locale,o=i.config.get("list.properties");let l=null;if(t!="numberedList"&&(o.startIndex=!1,o.reversed=!1),o.styles){const h=i.commands.get("listStyle"),f=EU({editor:i,parentCommandName:t,listStyleCommand:h}),m=typeof h.isStyleTypeSupported=="function"?v=>h.isStyleTypeSupported(v.type):()=>!0;l=n.filter(m).map(f)}const u=new dU(s,{styleGridAriaLabel:r,enabledProperties:o,styleButtonViews:l});if(o.styles&&yp(e,()=>u.stylesView.children.find(h=>h.isOn)),o.startIndex){const h=i.commands.get("listStart");u.startIndexFieldView.bind("isEnabled").to(h),u.startIndexFieldView.fieldView.bind("value").to(h),u.on("listStart",(f,m)=>i.execute("listStart",m))}if(o.reversed){const h=i.commands.get("listReversed");u.reversedSwitchButtonView.bind("isEnabled").to(h),u.reversedSwitchButtonView.bind("isOn").to(h,"value",f=>!!f),u.on("listReversed",()=>{const f=h.value;i.execute("listReversed",{reversed:!f})})}return u.delegate("execute").to(e),u}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class SU extends fe{static get requires(){return[Qj,yU]}static get pluginName(){return"ListProperties"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class TU extends Pt{refresh(){const e=this.editor.model,t=e.document,n=Mn(t.selection.getSelectedBlocks());this.value=!!n&&n.is("element","paragraph"),this.isEnabled=!!n&&I0(n,e.schema)}execute(e={}){const t=this.editor.model,n=t.document;t.change(r=>{const s=(e.selection||n.selection).getSelectedBlocks();for(const o of s)!o.is("element","paragraph")&&I0(o,t.schema)&&r.rename(o,"paragraph")})}}function I0(i,e){return e.checkChild(i.parent,"paragraph")&&!e.isObject(i)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class xU extends Pt{execute(e){const t=this.editor.model,n=e.attributes;let r=e.position;t.change(s=>{const o=s.createElement("paragraph");if(n&&t.schema.setAllowedAttributes(o,n,s),!t.schema.checkChild(r.parent,o)){const l=t.schema.findAllowedParent(r,o);if(!l)return;r=s.split(r,l).position}t.insertContent(o,r),s.setSelection(o,"in")})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Eh extends fe{static get pluginName(){return"Paragraph"}init(){const e=this.editor,t=e.model;e.commands.add("paragraph",new TU(e)),e.commands.add("insertParagraph",new xU(e)),t.schema.register("paragraph",{inheritAllFrom:"$block"}),e.conversion.elementToElement({model:"paragraph",view:"p"}),e.conversion.for("upcast").elementToElement({model:(n,{writer:r})=>!Eh.paragraphLikeElements.has(n.name)||n.isEmpty?null:r.createElement("paragraph"),view:/.+/,converterPriority:"low"})}}Eh.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const el="subscript";class kU extends fe{static get pluginName(){return"SubscriptEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:el}),e.model.schema.setAttributeProperties(el,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:el,view:"sub",upcastAlso:[{styles:{"vertical-align":"sub"}}]}),e.commands.add(el,new ra(e,el))}}const AU='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.03 10.349 3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53l3.818 3.82zm8.147 7.829h2.549c.254 0 .447.05.58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393c-.105.108-.266.162-.48.162h-3.594c-.245 0-.435-.066-.572-.197a.621.621 0 0 1-.205-.463c0-.114.044-.265.132-.453a1.62 1.62 0 0 1 .288-.444c.433-.436.824-.81 1.172-1.122.348-.312.597-.517.747-.615.267-.183.49-.368.667-.553.177-.185.312-.375.405-.57.093-.194.139-.384.139-.57a1.008 1.008 0 0 0-.554-.917 1.197 1.197 0 0 0-.56-.133c-.426 0-.761.182-1.005.546a2.332 2.332 0 0 0-.164.39 1.609 1.609 0 0 1-.258.488c-.096.114-.237.17-.423.17a.558.558 0 0 1-.405-.156.568.568 0 0 1-.161-.427c0-.218.05-.446.151-.683.101-.238.252-.453.452-.646s.454-.349.762-.467a2.998 2.998 0 0 1 1.081-.178c.498 0 .923.076 1.274.228a1.916 1.916 0 0 1 1.004 1.032 1.984 1.984 0 0 1-.156 1.794c-.2.32-.405.572-.613.754-.208.182-.558.468-1.048.857-.49.39-.826.691-1.008.906a2.703 2.703 0 0 0-.24.309z"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Wm="subscript";class PU extends fe{static get pluginName(){return"SubscriptUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(Wm,n=>{const r=e.commands.get(Wm),s=new At(n);return s.set({label:t("Subscript"),icon:AU,tooltip:!0,isToggleable:!0}),s.bind("isOn","isEnabled").to(r,"value","isEnabled"),this.listenTo(s,"execute",()=>{e.execute(Wm),e.editing.view.focus()}),s})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class IU extends fe{static get requires(){return[kU,PU]}static get pluginName(){return"Subscript"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const tl="superscript";class RU extends fe{static get pluginName(){return"SuperscriptEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:tl}),e.model.schema.setAttributeProperties(tl,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:tl,view:"sup",upcastAlso:[{styles:{"vertical-align":"super"}}]}),e.commands.add(tl,new ra(e,tl))}}const OU='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15.677 8.678h2.549c.254 0 .447.05.58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393c-.105.108-.266.162-.48.162h-3.594c-.245 0-.435-.066-.572-.197a.621.621 0 0 1-.205-.463c0-.114.044-.265.132-.453a1.62 1.62 0 0 1 .288-.444c.433-.436.824-.81 1.172-1.122.348-.312.597-.517.747-.615.267-.183.49-.368.667-.553.177-.185.312-.375.405-.57.093-.194.139-.384.139-.57a1.008 1.008 0 0 0-.554-.917 1.197 1.197 0 0 0-.56-.133c-.426 0-.761.182-1.005.546a2.332 2.332 0 0 0-.164.39 1.609 1.609 0 0 1-.258.488c-.096.114-.237.17-.423.17a.558.558 0 0 1-.405-.156.568.568 0 0 1-.161-.427c0-.218.05-.446.151-.683.101-.238.252-.453.452-.646s.454-.349.762-.467a2.998 2.998 0 0 1 1.081-.178c.498 0 .923.076 1.274.228a1.916 1.916 0 0 1 1.004 1.032 1.984 1.984 0 0 1-.156 1.794c-.2.32-.405.572-.613.754-.208.182-.558.468-1.048.857-.49.39-.826.691-1.008.906a2.703 2.703 0 0 0-.24.309zM7.03 10.349l3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53l3.818 3.82z"/></svg>';/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const jm="superscript";class MU extends fe{static get pluginName(){return"SuperscriptUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(jm,n=>{const r=e.commands.get(jm),s=new At(n);return s.set({label:t("Superscript"),icon:OU,tooltip:!0,isToggleable:!0}),s.bind("isOn","isEnabled").to(r,"value","isEnabled"),this.listenTo(s,"execute",()=>{e.execute(jm),e.editing.view.focus()}),s})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class NU extends fe{static get requires(){return[RU,MU]}static get pluginName(){return"Superscript"}}const Hl=[bz,Jz,eW,Eh,rW,lW,SW,Kz,IU,NU,Iz,xW,IW,BW,GW,YW,kj,Yj,SU],ql={toolbar:{items:["|","bold","italic","underline","strikethrough","|","subscript","superscript","|","alignment","|","numberedList","bulletedList","|","codeBlock","|","link","|","undo","redo","|","selectAll"]},list:{properties:{styles:!0,startIndex:!0,reversed:!0}},language:"en"},DU={plugins:Hl,toolbar:ql};class Nd extends bh{}Nd.builtinPlugins=Hl;Nd.defaultConfig=ql;/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class BU extends ph{constructor(e,t){super(e),this.view=t,this._toolbarConfig=mh(e.config.get("toolbar")),this._elementReplacer=new cB}get element(){return this.view.element}init(e){const t=this.editor,n=this.view,r=t.editing.view,s=n.editable,o=r.document.getRoot();s.name=o.rootName,n.render();const l=s.element;this.setEditableElement(s.name,l),n.editable.bind("isFocused").to(this.focusTracker),r.attachDomRoot(l),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){super.destroy();const e=this.view,t=this.editor.editing.view;this._elementReplacer.restore(),t.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:t})=>t||0),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}_initPlaceholder(){const e=this.editor,t=e.editing.view,n=t.document.getRoot(),r=e.sourceElement;let s;const o=e.config.get("placeholder");o&&(s=typeof o=="string"?o:o[this.view.editable.name]),!s&&r&&r.tagName.toLowerCase()==="textarea"&&(s=r.getAttribute("placeholder")),s&&Wl({view:t,element:n,text:s,isDirectHost:!1,keepOnFocus:!0})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class VU extends P9{constructor(e,t,n={}){super(e),this.stickyPanel=new F9(e),this.toolbar=new na(e,{shouldGroupWhenFull:n.shouldToolbarGroupWhenFull}),this.editable=new vh(e,t)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Ch=class extends Bs(jo(dh)){constructor(e,t={}){if(!nd(e)&&t.initialData!==void 0)throw new B("editor-create-initial-data",null);super(t),this.config.get("initialData")===void 0&&this.config.set("initialData",LU(e)),nd(e)&&(this.sourceElement=e),this.model.document.createRoot();const n=!this.config.get("toolbar.shouldNotGroupWhenFull"),r=new VU(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:n});this.ui=new BU(this,r),gp(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,t={}){return new Promise(n=>{const r=new this(e,t);n(r.initPlugins().then(()=>r.ui.init(nd(e)?e:null)).then(()=>r.data.init(r.config.get("initialData"))).then(()=>r.fire("ready")).then(()=>r))})}};Ch.Context=zl;Ch.EditorWatchdog=Ul;Ch.ContextWatchdog=wh;function LU(i){return nd(i)?sh(i):i}function nd(i){return Dr(i)}class Mp extends Ch{}Mp.builtinPlugins=Hl;Mp.defaultConfig=ql;/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class FU extends ph{constructor(e,t){super(e),this.view=t}init(){const e=this.editor,t=this.view,n=e.editing.view,r=t.editable,s=n.document.getRoot();r.name=s.rootName,t.render();const o=r.element;this.setEditableElement(r.name,o),t.editable.bind("isFocused").to(this.focusTracker),n.attachDomRoot(o),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){super.destroy();const e=this.view;this.editor.editing.view.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.editor,t=this.view;t.toolbar.fillFromConfig(e.config.get("toolbar"),this.componentFactory),this.addToolbar(t.toolbar)}_initPlaceholder(){const e=this.editor,t=e.editing.view,n=t.document.getRoot();e.sourceElement;const r=e.config.get("placeholder");if(r){const s=typeof r=="string"?r:r[n.rootName];s&&Wl({view:t,element:n,text:s,isDirectHost:!1,keepOnFocus:!0})}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class $U extends _h{constructor(e,t,n={}){super(e);const r=e.t;this.toolbar=new na(e,{shouldGroupWhenFull:n.shouldToolbarGroupWhenFull}),this.editable=new vh(e,t,n.editableElement,{label:s=>r("Rich Text Editor. Editing area: %0",s.name)}),this.toolbar.extendTemplate({attributes:{class:["ck-reset_all","ck-rounded-corners"],dir:e.uiLanguageDirection}})}render(){super.render(),this.registerChild([this.toolbar,this.editable])}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Sh=class extends Bs(jo(dh)){constructor(e,t={}){if(!id(e)&&t.initialData!==void 0)throw new B("editor-create-initial-data",null);super(t),this.config.get("initialData")===void 0&&this.config.set("initialData",zU(e)),id(e)&&(this.sourceElement=e,pp(this,e)),this.model.document.createRoot();const n=!this.config.get("toolbar.shouldNotGroupWhenFull"),r=new $U(this.locale,this.editing.view,{editableElement:this.sourceElement,shouldToolbarGroupWhenFull:n});this.ui=new FU(this,r)}destroy(){const e=this.getData();return this.ui.destroy(),super.destroy().then(()=>{this.sourceElement&&this.updateSourceElement(e)})}static create(e,t={}){return new Promise(n=>{if(id(e)&&e.tagName==="TEXTAREA")throw new B("editor-wrong-element",null);const r=new this(e,t);n(r.initPlugins().then(()=>r.ui.init()).then(()=>r.data.init(r.config.get("initialData"))).then(()=>r.fire("ready")).then(()=>r))})}};Sh.Context=zl;Sh.EditorWatchdog=Ul;Sh.ContextWatchdog=wh;function zU(i){return id(i)?sh(i):i}function id(i){return Dr(i)}class Np extends Sh{}Np.builtinPlugins=Hl;Np.defaultConfig=ql;/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class WU extends ph{constructor(e,t){super(e),this.view=t,this._toolbarConfig=mh(e.config.get("toolbar"))}get element(){return this.view.editable.element}init(){const e=this.editor,t=this.view,n=e.editing.view,r=t.editable,s=n.document.getRoot();r.name=s.rootName,t.render();const o=r.element;this.setEditableElement(r.name,o),r.bind("isFocused").to(this.focusTracker),n.attachDomRoot(o),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){super.destroy();const e=this.view;this.editor.editing.view.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.editor,t=this.view,n=t.editable.element,r=t.toolbar;t.panel.bind("isVisible").to(this.focusTracker,"isFocused"),t.bind("viewportTopOffset").to(this,"viewportOffset",({top:s})=>s||0),t.listenTo(e.ui,"update",()=>{t.panel.isVisible&&t.panel.pin({target:n,positions:t.panelPositions})}),r.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(r)}_initPlaceholder(){const e=this.editor,t=e.editing.view,n=t.document.getRoot();e.sourceElement;const r=e.config.get("placeholder");if(r){const s=typeof r=="string"?r:r[n.rootName];s&&Wl({view:t,element:n,text:s,isDirectHost:!1,keepOnFocus:!0})}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const jU=$l("px");class UU extends _h{constructor(e,t,n,r={}){super(e);const s=e.t;this.toolbar=new na(e,{shouldGroupWhenFull:r.shouldToolbarGroupWhenFull,isFloating:!0}),this.set("viewportTopOffset",0),this.panel=new pn(e),this.panelPositions=this._getPanelPositions(),this.panel.extendTemplate({attributes:{class:"ck-toolbar-container"}}),this.editable=new vh(e,t,n,{label:o=>s("Rich Text Editor. Editing area: %0",o.name)}),this._resizeObserver=null}render(){if(super.render(),this.body.add(this.panel),this.registerChild(this.editable),this.panel.content.add(this.toolbar),this.toolbar.options.shouldGroupWhenFull){const t=this.editable.element;this._resizeObserver=new xt(t,()=>{this.toolbar.maxWidth=jU(new pt(t).width)})}}destroy(){super.destroy(),this._resizeObserver&&this._resizeObserver.destroy()}_getPanelPositionTop(e,t){let n;return e.top>t.height+this.viewportTopOffset?n=e.top-t.height:e.bottom>t.height+this.viewportTopOffset+50?n=this.viewportTopOffset:n=e.bottom,n}_getPanelPositions(){const e=[(t,n)=>({top:this._getPanelPositionTop(t,n),left:t.left,name:"toolbar_west",config:{withArrow:!1}}),(t,n)=>({top:this._getPanelPositionTop(t,n),left:t.left+t.width-n.width,name:"toolbar_east",config:{withArrow:!1}})];return this.locale.uiLanguageDirection==="ltr"?e:e.reverse()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Th=class extends Bs(jo(dh)){constructor(e,t={}){if(!rd(e)&&t.initialData!==void 0)throw new B("editor-create-initial-data",null);super(t),this.config.get("initialData")===void 0&&this.config.set("initialData",HU(e)),this.model.document.createRoot(),rd(e)&&(this.sourceElement=e,pp(this,e));const n=!this.config.get("toolbar.shouldNotGroupWhenFull"),r=new UU(this.locale,this.editing.view,this.sourceElement,{shouldToolbarGroupWhenFull:n});this.ui=new WU(this,r),gp(this)}destroy(){const e=this.getData();return this.ui.destroy(),super.destroy().then(()=>{this.sourceElement&&this.updateSourceElement(e)})}static create(e,t={}){return new Promise(n=>{if(rd(e)&&e.tagName==="TEXTAREA")throw new B("editor-wrong-element",null);const r=new this(e,t);n(r.initPlugins().then(()=>r.ui.init()).then(()=>r.data.init(r.config.get("initialData"))).then(()=>r.fire("ready")).then(()=>r))})}};Th.Context=zl;Th.EditorWatchdog=Ul;Th.ContextWatchdog=wh;function HU(i){return rd(i)?sh(i):i}function rd(i){return Dr(i)}class Dp extends Th{}Dp.builtinPlugins=Hl;Dp.defaultConfig=ql;const qU=Lg()((i,{rows:e,multiline:t})=>({root:{width:"100%",height:"auto","& .ck":{minHeight:"inherit",outline:"none"},"& .ck.ck-editor__editable_inline>:last-child":{marginTop:0,marginBottom:0},"& .ck.ck-editor__editable_inline>:first-of-type":{marginBottom:0,marginTop:0},"& .ck.ck-editor__editable:not(.ck-editor__nested_editable).ck-focused":{border:`thin solid ${i.palette.divider}`},"& .ck.ck-content":{color:i.palette.text.primary}},rows:t?{"& .ck.ck-content":{minHeight:i.spacing(e*2.1),overflowY:"auto"}}:{},multiline:t?{}:{"& .ck.ck-editor__editable_inline":{overflow:"hidden"}}})),KU=Nt.forwardRef(({className:i,style:e,classes:t,variant:n="classic",value:r,config:s=T1.cloneDeep(DU),multiline:o=!0,disabled:l=!1,onChange:u,rows:h=5,...f},m)=>{const{classes:v,cx:C}=qU({rows:h,multiline:o},{props:{classes:t}}),k=Nt.useMemo(()=>T1.merge(o?{}:{toolbar:["bold","italic"],restrictedEditing:{allowedCommands:["bold","italic"],allowedAttributes:[]}},s),[s,o]),S=Nt.useMemo(()=>{switch(n){case"balloon":return Nd;case"balloonBlock":return Nd;case"decoupled":return Np;case"inline":return Dp;default:return Mp}},[n]),x=Nt.useRef(null);return Nt.useEffect(()=>{if(!x||!m||!x.current?.sourceElement)return;const N=x.current.sourceElement;typeof m=="function"?m(N):m.current=N},[m]),Nt.useEffect(()=>{x.current&&r!==x.current.getData()&&x.current.setData(r||"")},[r]),In.jsx("div",{className:C(v.root,v.multiline,v.rows,i),style:e,children:In.jsx(sd.CKEditor,{...f,editor:S,data:r,config:k,disabled:l,onReady:N=>{x.current=N,N&&(o||N.editing.view.document.on("keydown",(y,A)=>{A.keyCode===13&&(A.stopPropagation(),A.preventDefault(),y.stop())},{priority:"highest"}),N.setData(r||""))},onChange:(N,y)=>{const A=y.getData();u&&u(null,A)}})})});exports.RichTextEditor=KU;
